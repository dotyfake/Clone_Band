if (self.CavalryLogger) { CavalryLogger.start_js(["hb4WO"]); }

__d("CometFeedVideoPlayerPlaceholder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedVideoPlayerPlaceholder_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedThumbnail_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCometFeedThumbnail_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedThumbnail_video",selections:[{alias:"thumbnailImage",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithThumbnail.react",["CometImage.react","CometVisualCompletionAttributes","React","VideoPlayerHooks","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={root:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t"},thumbnail:{height:"datstx6m",width:"dbpd2lw6"}};function a(a){a=a.src;var c=b("VideoPlayerHooks").useVideoPlaybackEnded(),d=b("VideoPlayerHooks").usePaused(),e=h.useState(!1),f=e[0],j=e[1];h.useEffect(function(){d||j(!0)},[d]);return!c&&f?null:h.jsx("div",babelHelpers["extends"]({className:(g||(g=b("stylex")))(i.root)},b("CometVisualCompletionAttributes").IGNORE,{children:h.jsx(b("CometImage.react"),{src:a,xstyle:i.thumbnail})}))}}),null);
__d("VideoPlayerCometFeedThumbnail.react",["CometRelay","React","VideoPlayerCometFeedThumbnail_video.graphql","VideoPlayerWithThumbnail.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=a.video;a=b("CometRelay").useFragment(g!==void 0?g:g=b("VideoPlayerCometFeedThumbnail_video.graphql"),a);a=a==null?void 0:(a=a.thumbnailImage)==null?void 0:a.uri;return a==null?null:h.jsx(b("VideoPlayerWithThumbnail.react"),{src:a})}}),null);
__d("CometFeedVideoPlayerPlaceholder.react",["fbt","CometFeedVideoPlayerPlaceholder_video.graphql","CometPressable.react","CometRelay","React","VideoPlayerCometFeedThumbnail.react","VideoPlayerPlayButton.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k={pressable:{cursor:"nhd2j8a9",display:"a8c37x1j",pointerEvents:"mrt03zmi"},root:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",pointerEvents:"hzruof5a"}};function a(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedVideoPlayerPlaceholder_video.graphql"),a.video);c=j.jsxs(j.Fragment,{children:[j.jsx(b("VideoPlayerCometFeedThumbnail.react"),{video:c}),j.jsx(b("VideoPlayerPlayButton.react"),{isVisible:!0})]});return typeof a.onClick==="function"?j.jsx(b("CometPressable.react"),{display:"block",label:g._("Ph\u00e1t video"),onPress:a.onClick,overlayDisabled:!0,xstyle:[k.root,k.pressable],children:c}):j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:c})}}),null);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=800,j=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=h.createRef(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){var c=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=c.rootRef.current;a instanceof Element&&b("CSS").hide(a)},i);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&b("CSS").hide(a)}};d.render=function(){var a=this.props,c=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=j(d,e,a);return h.jsx("div",{className:b("joinClasses")(c,d.gyroRoot),ref:this.rootRef,children:h.jsxs("div",{className:d.gyroOuter,children:[h.jsxs("div",{className:d.gyroInner,children:[h.jsx("div",{className:d.gyroMeridian}),h.jsx("div",{className:d.gyroEquator})]}),h.jsx("div",{className:d.gyroTextShell,children:h.jsx("span",{className:d.gyroText,children:"360"})})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","React","SphericalMediaGyroOverlay.react","TetraText.react","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.videoTahoeUrl,d=b("useCometRouterDispatcher")();a=h.useState(!1);var e=a[0],f=a[1];if(d==null)throw b("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=b("useFeedClickEventHandler")(function(){d.go(c,{})});return h.jsxs("div",{className:"bkfpd7mw cbu4d94t j83agx80 nhd2j8a9 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[h.jsx(b("SphericalMediaGyroOverlay.react"),{isActive:!0}),h.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?h.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:g._("Nh\u1ea5p \u0111\u1ec3 m\u1edf r\u1ed9ng")}):null})]})}}),null);
__d("useVideoPlayerClickToPlayInteraction",["fbt","React","VideoPlayerHooks","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){a=a===void 0?{}:a;var c=a.shouldUnmute;a=b("VideoPlayerHooks").usePaused();var d=b("VideoPlayerHooks").useController(),e=b("VideoPlayerHooks").useLastMuteReason(),f=h.useCallback(function(){d.play("user_initiated"),c===!0&&e!=="user_initiated"&&d.setMuted(!1,"product_initiated")},[d,e,c]);f=b("useFeedClickEventHandler")(f);a=a;return a?{ariaLabel:g._("Ph\u00e1t video"),handler:f,overlayLabel:""}:null}}),null);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c,d){d===void 0&&(d=null),this.$1=null,this.$2=new Map(),this.$4=!1,this.$6=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$7=new(b("oz-player/utils/OzErrorEmitter"))(),this.$8=!1,this.$9=null,this.$10=0,this.$11=null,this.$12=[],this.$13=null,this.$14=[],this.$5=c,this.$1=d,this.$3=a.cloneContext().setType("drm_manager")}var c=a.prototype;c.hasContentProtections=function(){return this.$9};c.onError=function(a){return this.$7.onError(a)};c.$15=function(a,c){var d;a instanceof b("oz-player/utils/OzError")?d=a:a instanceof Error?d=new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{originalError:a}}):a!=null&&typeof a.message==="string"?d=new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{}}):d=new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM "+c+" error",extra:{}});return d};c.$16=function(a){this.$7.emitError(a)};c.$17=function(a,b){var c;c=(c=(c=this.$1)==null?void 0:c.maxStartEMEAttempts)!=null?c:-1;this.$10<c?this.$18():this.$16(this.$15(a,b))};c.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};c.getProviderForSchemeId=function(a){return this.$2.get(a)};c.parseContentProtectionForRepresentation=function(a){if(!a.ContentProtection)return null;var c=[];for(var d=0;d<a.ContentProtection.length;d++){var e=a.ContentProtection[d],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=e["cenc:pssh"][0]._;e=b("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}c.push({provider:f,initDatas:g})}}return c};c.$18=function(){try{this.$8=!1,this.startEME(this.$11,this.$12,this.$13,this.$14)}catch(a){this.$16(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+(a?a.toString():"null"),extra:{}}))}};c.startEME=function(a,c,d,e){var f=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=c;this.$13=d;this.$14=e;var g=new Map();this.$19(d,e,g,"audio");this.$19(a,c,g,"video");var h;g.forEach(function(a,b){!h?h=f.$20(b,a):h=h["catch"](function(){return f.$20(b,a)})});if(!h){this.$9=!1;return}this.$9=!0;var i=this.$3.getOperationLogger("drm_setup").start();h.then(this.$21.bind(this)).then(this.$22.bind(this)).then(this.$23.bind(this)).then(function(){return i.log()},function(a){a=a!=null?f.$15(a,"keypromisechain"):new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM setup error",extra:{}});f.$16(a);i.setResult("failed").setError(a).log()})};c.$24=function(a){a instanceof b("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed")};c.$19=function(a,b,c,d){var e=this;b.forEach(function(b){var f;a&&a.ContentProtection?f=e.parseContentProtectionForRepresentation(a):f=b.getCustomField("drmProtections");var g=b.getMimeCodecs();f!==void 0&&f!==null&&f.forEach(function(a){a=a.provider;c.has(a.getKeySystem())||c.set(a.getKeySystem(),{audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()});var b=c.get(a.getKeySystem());d==="audio"&&!b.audioCapabilities.has(g)&&b.audioCapabilities.set(g,{contentType:g,robustness:a.getAudioRobustness()});d==="video"&&!b.videoCapabilities.has(g)&&b.videoCapabilities.set(g,{contentType:g,robustness:a.getVideoRobustness()})})})};c.destroy=function(){this.$6.release(),this.$4=!0};c.$20=function(a,c){c={audioCapabilities:Array.from(c.audioCapabilities.values()),videoCapabilities:Array.from(c.videoCapabilities.values()),distinctiveIdentifier:c.distinctiveIdentifier,persistentState:c.persistentState,sessionTypes:c.sessionTypes,initDataTypes:c.initDataTypes};return b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(window.navigator.requestMediaKeySystemAccess(a,[c]),this.$3,"drm_request_media_key_system_access",function(){},this.$24)};c.$21=function(a){if(this.$4)return b("oz-player/shims/OzMaybeNativePromise").reject();var c=this.$5.mediaKeys!=null?b("oz-player/shims/OzMaybeNativePromise").resolve(this.$5.mediaKeys):a.createMediaKeys();return b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(c.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}}),this.$3,"drm_create_media_keys",function(){},this.$24)};c.$22=function(a){var c=this;if(this.$4)return b("oz-player/shims/OzMaybeNativePromise").reject();var d=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=this.$5.setMediaKeys(e).then(function(){if(c.$4)return b("oz-player/shims/OzMaybeNativePromise").reject();var a=Array.from(c.$2.values()).find(function(a){return a.getKeySystem()===d.keySystem});if(!a)throw new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+d.keySystem});var f=a.getServerCertificate();return f?e.setServerCertificate(f).then(function(){return{mediaKeySystemAccess:d,mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});return b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,this.$3,"drm_set_media_keys",function(){},this.$24)};c.$23=function(a){var c=this,d=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){this.$6.addSubscriptions(g(this.$5,"encrypted",function(a){c.$25(d,e,a)["catch"](function(a){c.$17(a,"encrypted")})}));return b("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return c.$25(d,e,{initData:a.data,initDataType:a.type})});return b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b("oz-player/shims/OzMaybeNativePromise").all(a),this.$3,"drm_request_license",function(){},this.$24)};c.$25=function(a,b,c){var d=this,e=a.createSession();this.$6.addSubscriptions(g(e,"message",function(a){d.$26(e,b,a)["catch"](function(a){d.$17(a,"message")})}),g(e,"keystatuseschange",function(a){d.$27(e)["catch"](function(a){d.$17(a,"keystatuseschange")})}));return e.generateRequest(c.initDataType,c.initData)};c.$26=function(a,c,d){var e=this;d=c.getLicenseRequestInfo(d.message.slice(0));return window.fetch(d.url,d).then(function(a){return a.arrayBuffer()}).then(function(d){d=new Uint8Array(d);d=c.parseLicenseResponse(d);d===null||d===void 0||d.byteLength===0?e.$16(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No license for "+c.getKeySystem(),extra:{}})):a.update(d)})};c.$27=function(a){return a.expiration<Date.now()?a.close():b("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();f.OzDrmManager=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";function g(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function i(a,b){return Math.floor(a).toString().padStart(b,"0")}function j(a,b){b===void 0&&(b=null);var c=function(a){return i(a.getHours(),2)+":"+i(a.getMinutes(),2)+":"+i(a.getSeconds(),2)+" "+i(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function k(a){return a==="failed"?h:g}function l(a){return!a?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new m(a)};c.createLoggerProvider=function(){return new b()};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));f.OzDevConsolePerfLoggerProvider=a;var m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=l(this.getSegmentStartTime()),i=l(this.getSegmentEndTime());k(d)("["+d+"]",this.getOperationName()+": "+j(new Date(a),c),e?"["+e+"]":"",h&&i?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(b("oz-player/loggings/OzOperationLoggerBase"));f.OzDevConsoleOperationLogger=m}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}var c=a.prototype;c.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var c=a.prototype;c.getID=function(){return this.$6};c.getBandwidth=function(){return this.$5};c.getMimeCodecs=function(){return this.$2};c.getQualityLabel=function(){return this.$6};c.getInitSegment=function(){return this.$3};c.getCustomFieldFirstSegment=function(){return this.$7};c.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(c.$4)};c.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};c.getSegment=function(a){return this.$4.getSegment(a)};c.getPredictedSegmentAfter=function(a){return this.$4.getPredictedSegmentAfter(a)};c.canPredict=function(){return this.$4.canPredict()};c.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};c.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};c.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};c.getTimeRanges=function(){return this.$4.getTimeRanges()};c.blockTimeRange=function(a){this.$4.blockTimeRange(a)};c.getEndingSegment=function(){return this.$4.getEndingSegment()};c.forceParseIfNotParsed=function(){return this.$4.forceParseIfNotParsed()};c.getMaxGopSec=function(){return this.$4.getMaxGopSec()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration")&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=c;this.$5()}var c=a.prototype;c.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};c.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended")){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}}),null);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return new(b("oz-player/shims/OzReadableStream"))({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}}),null);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";f.maybeConvertHeadersToOzHTTPHeaders=c;d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return(a=a)!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;c=e&&e.prototype;var g=e&&c&&typeof c.append==="function"&&typeof c.entries==="function"&&typeof c.get==="function"&&typeof c.has==="function"?e:d;f.OzHTTPHeaders=g;function c(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var c=new g();a.forEach(function(a,b){c.append(b,a)});return c}b("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}}),null);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.body,d=a.ok,e=a.status,f=a.headers;return c!=null?{ok:d,status:e,headers:b("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(f),body:b("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(c)}:a.arrayBuffer().then(function(a){return{ok:d,status:e,headers:b("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(f),body:b("oz-player/utils/arrayBuffer2OzReadableStream")(a)}})}}),null);
__d("oz-player/networks/OzFetch",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=window.fetch,h=b("oz-player/shims/ozSetTimeoutAcrossTransitions");function a(a,c,d,e){if(!g)throw new Error("fetch api is missing");var f=null;if("AbortController"in window&&d&&d.networkTimeoutMs!=null&&d.networkTimeoutMs!=0){var i=new AbortController();f=h(function(){return i.abort()},d.networkTimeoutMs);c.signal=i.signal}d=g(a,c).then(function(a){b("oz-player/shims/ozClearTimeout")(f);var c=a.ok,d=a.status,g=a.headers;return e!=null&&e.getBool("get_fetch_body_text_when_response_not_ok")&&!c&&typeof a.text==="function"?a.text().then(function(a){return{ok:c,status:d,headers:g,body:a}}):b("oz-player/utils/processFetchResponse")(a)});return d}}),null);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetch","oz-player/utils/OzError","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f,g,h,i){e===void 0&&(e=null);g===void 0&&(g=null);i===void 0&&(i="DISABLE_CACHE");var j=e!=null?e:b("oz-player/networks/OzFetch");e=a.getBool("use_segment_request_cache")&&i==="ENABLE_CACHE"?h.get(c):null;g=g?g.getCacheValue(c):null;e=e!=null?e:g;g=!1;e?(i==="ENABLE_CACHE"&&h.set(c,e),g=!0,i=e.then(function(c){if(c.initiator==="FETCH"){var d=c.response,e=d.ok,f=d.status,g=d.headers;return a.getBool("get_fetch_body_text_when_response_not_ok")&&!e&&typeof c.response.text==="function"?c.response.text().then(function(a){return{ok:e,status:f,headers:g,body:a}}):b("oz-player/utils/processFetchResponse")(c.response)}else if(c.initiator==="XHR_REQUEST"){d=b("oz-player/utils/arrayBuffer2OzReadableStream")(c.response);return{body:d,status:200,headers:null,ok:!0}}else throw new(b("oz-player/utils/OzError"))({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+c.initiator})})["catch"](function(b){if(a.getBool("retry_fetch_on_prefetch_error"))return j(c,d);else throw new TypeError()})):i=j(c,d,f,a);return{promise:i,retrievedFromCache:g}}}),null);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){return new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:f,extra:{originalError:a,code:c.toString(),headers:d,url:e}})}}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream","oz-player/networks/createNetworkError","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j){e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),i===void 0&&(i="DISABLE_CACHE"),j===void 0&&(j=null),this.$6=!1,this.$1=b,this.$2=c,this.$3=d,this.$8=e||[],this.$9=j,this.$7=f,this.$10=g,this.$12=a,this.$11=h,this.$13=i||"DISABLE_CACHE"}var c=a.prototype;c.$14=function(a){a=this.$3.createRequestParam(this.$1,a);var c=a.uri;a=a.http;c=c.toString();this.$4=c;a=b("oz-player/networks/OzFetchWithCache")(this.$12,c,a,this.$7,this.$2,this.$10,this.$11,this.$13);var d=a.promise;a=a.retrievedFromCache;this.$6=a;return{requestPromise:d,requestUrl:c}};c.startStream=function(a){var c=this,d=this.$14(a),e=d.requestPromise;d=d.requestUrl;var f=d;return e.then(function(b){if(c.$9!=null&&b.ok===!1)return c.$9(b,function(){var d=c.$14(a),b=d.requestPromise;d=d.requestUrl;f=d;return b},f);else return b}).then(function(a){var d=[];for(var e=0;e<c.$8.length;e++)try{var g=c.$8[e].onResponse(a,f);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}g=a.body;e=a.headers;var h=a.ok,i=a.status;if(!h)return b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),i,e,f,typeof g==="string"&&g.length>0?g:"HTTP error."));g.getReader||b("oz-player/shims/ozvariant")(0,3287);h=g;c.$5=a;for(var i=0;i<d.length;i++)h=h.pipeThrough(d[i]);if(!c.$12.getBool("throw_network_error_during_stream"))return h;e=new(b("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?b("oz-player/networks/createNetworkError")(a,0,null,f,"Network failure."):a}});return h.pipeThrough(e)},function(a){var d=[];for(var e=0;e<c.$8.length;e++)try{var g=c.$8[e].onError(a,f);g&&d.push(g)}catch(a){return b("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){g=b("oz-player/networks/OzCreateErrorStream")(b("oz-player/networks/createNetworkError")(a,0,null,f,"Network failure."));for(var e=0;e<d.length;e++)g=g.pipeThrough(d[e]);return g}throw a})["catch"](function(a){return a.name==="AbortError"?b("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:f,message:a}):b("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:f,message:"Stream processing error. "+a})})};c.getLastRequestUrl=function(){return this.$4};c.getLastResponse=function(){return this.$5};c.retrievedFromCache=function(){return this.$6};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g;function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var c=a.prototype;c.produce=function(a){this.$6(a)};c.signalProducerInterruption=function(){this.$6(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){var c=this;if(this.$3)throw new Error("A buffer can only be consumed by one client at a time");this.$3=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),d=this.$4.getPromise());return d.then(function(){if(c.$1){if(c.$2[c.$5]===void 0)throw new Error("buffer has no value at position "+c.$5)}else if(c.$2.length===0)throw new Error("buffer length must not be 0");c.$4=null;c.$3=!1;var b=c.$1?c.$7(a):c.$8(a);if(b instanceof Uint8Array)return b;throw b})};c.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};c.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};c.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};c.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();e.exports=a}),null);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){try{a.error(b)}catch(a){}}}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f){"use strict";function g(){return new Error("Upstream has an inconsistent range")}var h=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(a,c,d,e,f){var i=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new h();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.enablePausableStreamResumeFromStartDangerously;f=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!e;this.$17=!!f;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d});this.$6=new this.$19({start:function(a){i.$10=a},pull:function(a){if((i.$11&&i.$1.endByte===null&&i.$5||i.$7===i.$21())&&i.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){var d=i.$15.hasMoreBytesToSkip()?i.$15.getBytesToSkip():void 0;return i.$3.consume(d).then(function(d){if(i.$15.hasMoreBytesToSkip()){i.$15.setBytesSkipped(d.length);return c()}i.$7+=d.length;var e=i.$21();e!==null&&i.$7>(e||0)&&b("oz-player/utils/ozPipeErrorTo")(i.$10,g());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){i.$15.setBytesToSkip(i.$7);return c()}throw a})};return c()},cancel:function(a){i.$12&&i.$12.resolve("stream_cancelled"),b("oz-player/utils/ozPipeErrorTo")(i.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("oz-player/utils/ozPipeErrorTo")(a.$10,g())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("oz-player/utils/ozPipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!b("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();e.exports=a;a.STREAM_PAUSED="streamPaused"}),null);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.createRequestParam=function(a,c){var d=new(b("oz-player/shims/OzURI"))(a.toString());if(c){a=c.startByte;var e=c.endByte;a===0&&(e===null||e===void 0)||(d.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&d.addQueryData({byteend:e}))}if(this.$2){var f=this.$2(d);f&&Object.keys(f).forEach(function(a){var b=f[a];d.addQueryData(a,b)})}a=this.$1&&this.$1(d)?"include":"same-origin";return{uri:d,http:{credentials:a}}};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}}),null);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a?parseInt(a.get("content-length"),10):null},h=function(a){return a?a.get("x-fb-edge-hit"):null},i=function(a){return a?a.get("x-fb-origin-hit"):null},j=function(a){return a?parseInt(a.get("x-fb-dynamic-latest-segment-id"),10):null},k=function(a,c){c=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(c);c&&a.setTimeToFirstByte(Math.round(c.responseStart-c.startTime)).setTimeToLastByte(Math.round(c.responseEnd-c.startTime)).setTimeToRequestStart(Math.round(c.requestStart-c.startTime))};f.setPerformanceLoggingAttributes=k;a=function(a,c,d,e,f,l,m){e.length&&a.setSegmentCount(e.length),c&&k(a,c),a.setResource(c||null).setInitiator(d?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(f))).setLiveheadSeqNumHeader(j(m==null?void 0:m.headers)).setContentLengthHeader(g(m==null?void 0:m.headers)).setEdgeHitHeader(h(m==null?void 0:m.headers)).setOriginHitHeader(i(m==null?void 0:m.headers)).setResponseTimeMsHeader(b("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(m==null?void 0:m.headers)).setCode(m==null?void 0:m.status).setLength(l)};f.setFetchStreamLoggingAttributes=a}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/OzWritableStream","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g,h){c===void 0&&(c=null),d===void 0&&(d=null),this.$2=a,this.$7=f,this.$8=g,this.$1=new(b("oz-player/networks/RequestParamCreator"))(this.$7,this.$8),this.$3=c,this.$4=d,this.$5=h,this.$6=e,this.$9=new Map()}var c=a.prototype;c.destroy=function(){this.$9&&this.$9.clear()};c.request=function(a,c,d,e){d===void 0&&(d=null);e===void 0&&(e="DISABLE_CACHE");a.length>0||b("oz-player/shims/ozvariant")(0,212);var f=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},g=this.$6?this.$6():null;g=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),null,this.$1,this.$4,g,this.$3,this.$9,e,this.$5);return this.$10(f,g,c,d,a)};c.createPausableStream=function(a,c,d){a.length>0||b("oz-player/shims/ozvariant")(0,212);var e=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=null,g=this.$2.getNumber("network_seg_timeout_ms");g>0&&(f={networkTimeoutMs:g});g=this.$6?this.$6():null;var h=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),f,this.$1,this.$4,g,this.$3,this.$9,null,this.$5);return{pausableStream:this.$11(e,h,c||null,d),loggingPayloads:{getRequestUrl:function(){return h.getLastRequestUrl()||null},isPrefetch:function(){return h.retrievedFromCache()},segments:a,getResponse:function(){return h.getLastResponse()}}}};c.requestRawUrl=function(a,c,d,e){e===void 0&&(e=null);c=this.$6?this.$6():null;a=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$2,new(b("oz-player/shims/OzURI"))(a),d,this.$1,this.$4,c,this.$3,this.$9,null,this.$5);d={startByte:0,endByte:null};return this.$10(d,a,[],e)};c.$11=function(a,c,d,e){c=c;if(d!=null)for(var f=0;f<d.length;f++){var g=d[f];c=g(this.$2,c,e)}return new(b("oz-player/networks/OzPausableRangeStream"))(b("oz-player/shims/OzReadableStream"),b("oz-player/shims/OzWritableStream"),a,c,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$2.getBool("pausable_stream_throws_error_when_aborted")})};c.$10=function(a,c,d,e,f){f===void 0&&(f=[]);var g=this.$11(a,c,d,e);a=g.startStream();var h=this.$12(a);e&&b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(h,e,"fetch_stream",function(){},function(a){b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,c.getLastRequestUrl(),c.retrievedFromCache(),f,0,g.getBytesStreamed(),c.getLastResponse())});return{getStream:function(){return g.getStream()},cancel:function(){return g.pauseStream()},getStatusChangePromise:function(){return h}}};c.$12=function(a){var c=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!c.$2.getBool("enable_network_manager_error"))return"done";throw new(b("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!b("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){var i;i=a.call(this)||this;i.$Mpd8=!1;i.$Mpd1=b;i.$Mpd4=f;i.$Mpd2=c;i.$Mpd3=d;i.$Mpd5=e;i.$Mpd6=g;i.$Mpd7=h;return i}var c=b.prototype;c.updateLocation=function(a){this.$Mpd5=a,this.$Mpd8=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd5};c.getMinimumUpdatePeriod=function(){return this.$Mpd4};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getCustomField=function(a){var b=this.$Mpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd7};c.updateWith=function(a){this.$Mpd8&&(this.$Mpd8=!1,this.$Mpd2.splice(0,this.$Mpd2.length),this.$Mpd3.splice(0,this.$Mpd3.length)),this.$Mpd1=a.$Mpd1,this.$Mpd9(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd9(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd7=a.isStaticMpd(),this.$Mpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd9=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(b("oz-player/manifests/OzRepresentation"));e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};b.getSequenceNumber=function(){return null};return a}();a=function(){function a(a,c,d,e){this.$2=d,this.$1=c,this.$3=a,e?this.$4=e:this.$4=new(b("oz-player/parsers/OzDefaultSegmentTimelineParser"))()}var c=a.prototype;c.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};c.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(c,d,e){var f=c.getBool("estimate_video_bandwidth_only")?a==="video":!0;return d instanceof b("oz-player/networks/OzNetworkRequestStream")&&f?b("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(c.getLegacyConfig(),d,e):d}}}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};return a}();e.exports=a}),null);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f){"use strict";a=b("DataViewReader");e.exports=a}),null);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzDataViewReaderWWW");e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader"],(function(a,b,c,d,e,f){"use strict";f.parse=a;var g=1936286840;function a(a,c,d,e){var f=new(b("oz-player/shims/OzDataViewReader"))(new DataView(e.buffer));e=f.readUint32();var h=f.readUint32();if(h!==g)throw new Error('Invalid box type, expected "sidx".');e==1&&(e=f.readUint64());h=f.readUint8();f.skip(3);f.skip(4);var i=f.readUint32();if(!i)throw new Error("Invalid timescale.");var j;h==0?(h=f.readUint32(),j=f.readUint32()):(h=f.readUint64(),j=f.readUint64());f.skip(2);var k=f.readUint16(),l=h,m=d+e+j,n=0,o=a.getBool("sidx_parser_memory_optimization"),p=[];h=function(a){var d=f.readUint32(),e=(d&2147483648)>>>31;d=d&2147483647;var g=f.readUint32();f.readUint32();if(e==1)throw new Error("Heirarchical SIDXs are not supported.");var h=l/i,j=(l+g)/i;a===0&&(n=h);var k=m,q=k+d-1;p.push(o?new(b("oz-player/manifests/OzDataSegment"))(c,h-n,j-n,k,q):{getURI:function(){return c},getTimeRange:function(){return{startTime:h-n,endTime:j-n}},getByteRange:function(){return{startByte:k,endByte:q}},getSequenceNumber:function(){return null}});l+=g;m+=d};for(var d=0;d<k;d++)h(d);return p}}),null);
__d("oz-player/parsers/OzSidxSegmentsContainer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.forceParseIfNotParsed=function(){this.$3&&(this.$3(),this.$3=null)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();a=a.length>0?a[a.length-1]:null;return a};b.getMaxGopSec=function(){return null};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";f.parse=a;var g=440786851,h=408125543,i=357149030,j=2807729,k=17545,l=475249515,m=187,n=179,o=183,p=241,q=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function r(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var s=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new t(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),t=function(){function a(a){this.$1=a,this.$2=new(b("oz-player/shims/OzDataViewReader"))(this.$1)}var c=a.prototype;c.hasMoreData=function(){return this.$2.hasMoreData()};c.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new s(b,d)};c.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};c.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<q.length;b++)if(r(a,q[b]))return!0;return!1};return a}();function u(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==j?b=d.getUint():d.id==k&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function v(a,c,d,e,f){var g=[];a=a.createParser();var h=-1,i=-1;while(a.hasMoreData()){var j=a.parseElement();if(j.id!=m)continue;j=w(j);if(!j)continue;var k=d*j.unscaledTime;j=c+j.relativeOffset;h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,k,i,j-1)));h=k;i=j}h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,e,i,null)));return g}function w(a){a=a.createParser();var b=a.parseElement();if(b.id!=n)return null;b=b.getUint();a=a.parseElement();if(a.id!=o)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=p)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function x(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=i)continue;b=c;break}return!b?null:u(b)}function y(a){a=new t(a);var b=a.parseElement();if(b.id!=g)return null;b=a.parseElement();if(b.id!=h)return null;a=b.getOffset();b=x(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c){c=new DataView(c.buffer);b=new DataView(b.buffer);c=y(c);if(!c)return[];b=new t(b);b=b.parseElement();return b.id!=l?[]:v(b,c.segmentOffset,c.timecodeScale,c.duration,a)}}),null);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";f.pumpAllData=h;f.pumpString=a;var g=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function h(a){var c=new ArrayBuffer(0),d=function d(){return a.read().then(function(a){var e=a.value;a=a.done;if(a)return null;if(!e)return null;c=b("oz-player/utils/ozConcatArrayBuffer")(c,e);return d()})};return d().then(function(){return new Uint8Array(c)})}function a(a){return h(a).then(function(a){return g(a)})}}),null);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f){"use strict";function g(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,c,d,e,f,g,h,i){i===void 0&&(i=!1),this.$6=new(b("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(b("oz-player/shims/OzEventEmitter"))(),this.$1=c,this.$2=new(b("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType("sidx"),this.$10=a,this.$11=i}var c=a.prototype;c.onError=function(a){return this.$6.onError(a)};c.parseInitializationSegment=function(){var a=this,c=this.$1.Initialization[0].$.range,d=g(c);c=this.$10.getBool("sidx_parser_memory_optimization")?new(b("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null}};return c};c.parseSegmentsContainer=function(){var a=this,c=function(){b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a.$12(),a.$8,"process_sidx")["catch"](a.$6.emitError)},d=this.$10.getBool("lazy_parse_sidx")&&!this.$11;d||c();d=new(b("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9,d?c:null);return d};c.$13=function(a,c,d){d===void 0&&(d="DISABLE_CACHE");a=new(b("oz-player/manifests/OzZeroTimeRangeSegment"))(a,c.startByte,c.endByte);c=this.$5+";sidx";a=this.$4.request([a],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(c)],this.$8,d);c=a.getStream().getReader();return b("oz-player/utils/OzReadableStreamUtils").pumpAllData(c)};c.$12=function(){var a=this,c=this.$1.$.indexRange,d=g(c);c=[this.$13(this.$2,d)];if(this.$3==="webm"){var e=g(this.$1.Initialization[0].$.range);c.push(this.$13(this.$2,e,"ENABLE_CACHE"));e=b("oz-player/shims/OzMaybeNativePromise").all(c).then(function(c){var d=c[0];c=c[1];a.$7=b("oz-player/parsers/OzWebmSidxParser").parse(a.$2,d,c)})}else e=c[0].then(function(c){a.$7=b("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,d.startByte,c)});return e.then(function(){a.$9.emit("segment_updated")})};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";f.parse=a;function a(a){return(a.split("/")[1]||"").trim()}}),null);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";f.getMimeType=a;function a(a){return(a.split("/")[0]||"").trim()}}),null);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g,h,i,j,k){this.$5=new(b("oz-player/utils/OzErrorEmitter"))(),this.$1=c,this.$6=e,this.$7=f,this.$9=d,this.$10=a,this.$11=g,this.$2=h,this.$3=i,this.$4=j,this.$12=k}var c=a.prototype;c.$13=function(){if(this.$8)return this.$8;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],c=this.$1.BaseURL[0]._;typeof c==="string"||b("oz-player/shims/ozvariant")(0,29051);var d=this.$12.includes(this.$1.$.id);this.$8=new(b("oz-player/parsers/OzSidxSegmentsParser"))(this.$10,a,c,b("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),b("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$6,this.$7,d);this.$8.onError(this.$5.emitError)}else if(this.$1.SegmentTemplate)this.$8=this.$14(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$2)this.$8=this.$14(this.$2[0],{isShared:!0});else{a=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});throw a}return this.$8};c.$14=function(a,c){if(c.isShared){c=babelHelpers["extends"]({},a);c.$=babelHelpers["extends"]({},a.$);c.$.initialization=c.$.initialization.replace("$RepresentationID$",this.$1.$.id);c.$.media=c.$.media.replace("$RepresentationID$",this.$1.$.id);a=c}c=this.$9.mpdUrl;var d=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;d=d!=null?d:c;if(d==null){c=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});throw c}c=this.$9.customSegmentTimelineParser;return new(b("oz-player/parsers/OzSegmentTemplateParser"))(this.$10,a,{baseUrl:d,isStaticMpd:this.$11.manifestType==="static",isTemplatedMpd:this.$11.manifestIsTemplated},c)};c.onError=function(a){return this.$5.onError(a)};c.parseInitSegment=function(){return this.$13().parseInitializationSegment()};c.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};c.parseMimeCodecs=function(){var a,b;a=(a=(a=this.$1.$.mimeType)!=null?a:this.$3)!=null?a:"";b=(b=(b=this.$1.$.codecs)!=null?b:this.$4)!=null?b:"";return a+'; codecs="'+b+'"'};c.parseSegmentsContainer=function(){return this.$13().parseSegmentsContainer()};c.parseID=function(){return""+this.$1.$.id};c.parseCustomFieldFirstSegment=function(){var a=this.$9.customRepresentationParsers?this.$9.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};c.parse=function(){return new(b("oz-player/manifests/OzRepresentation"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$9.customRepresentationParsers)};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzAudioRepresentationParser1=c;b.$OzAudioRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var d=c.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),c=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),d=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(b("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,c,a)};return c}(b("oz-player/parsers/OzRepresentationParser"));e.exports=a}),null);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g){g===void 0&&(g=[]),this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=c,this.$6=f,this.$7=g}var c=a.prototype;c.onError=function(a){return this.$2.onError(a)};c.parse=function(a){var c=this.$4.createXmlParser().parse(a);c=c.MPD&&c.MPD.length>0?c.MPD[0]:null;if(!c){var d=2e3;throw new Error("parsed manifest XML missing MPD node; truncated xml ("+d+"/"+a.length+"): "+a.substring(0,d))}d=c.Period&&c.Period.length>0?c.Period[0]:null;if(!d){var e=2e3;throw new Error("parsed manifest XML missing Period node; truncated xml ("+e+"/"+a.length+"): "+a.substring(0,e))}a=d.AdaptationSet||[];e=this.$8(c);d=this.$9(c);var f=this.$10(a,"video"),g=this.$11(f,b("oz-player/parsers/OzVideoRepresentationParser"),{manifestType:e,manifestIsTemplated:d});g.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$10(a,"audio");d=this.$11(a,b("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:e,manifestIsTemplated:d});d.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var h=this.$4.mpdUrl;h=new(b("oz-player/manifests/Mpd"))(c,g,d,h,this.$12(c),this.$4.customParsers||new Map(),e==="static");if(this.$6){c=this.$6;c.startEME(f,g,a,d)}return h};c.$12=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};c.$8=function(a){return a.$.type||"static"};c.$9=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};c.$10=function(a,b){return a.find(function(a){if(a.$.mimeType!=null)return a.$.mimeType.indexOf(b)!==-1;a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};c.$11=function(a,b,c){var d=this;return!a?[]:a.Representation.map(function(e){e=new b(d.$5,e,d.$4,d.$1,d.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,d.$7);e.onError(d.$2.emitError);return e.parse()})};return a}();e.exports=a}),null);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b;function a(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getTimeRange()}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}}),null);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker4=0;d.$OzStreamInterruptChecker5=null;d.$OzStreamInterruptChecker6=!1;d.$OzStreamInterruptChecker2=b;d.$OzStreamInterruptChecker3=c;d.$OzStreamInterruptChecker1=d.$OzStreamInterruptChecker3.getNumber("live_numerical_error_epsilon");return d}var d=c.prototype;d.notifyMpdUpdated=function(){var a=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker2),c=a?a.endTime:null,d=!1;c!==null&&(d=this.$OzStreamInterruptChecker3.getBool("stream_interrupted_fuzzy_equals")?this.$OzStreamInterruptChecker5!=null&&b("oz-player/utils/OzNumericalHelper").equalTo(c,this.$OzStreamInterruptChecker5,this.$OzStreamInterruptChecker1):c===this.$OzStreamInterruptChecker5);d?this.$OzStreamInterruptChecker4++:(this.$OzStreamInterruptChecker4=0,this.$OzStreamInterruptChecker6&&this.$OzStreamInterruptChecker5!==null&&this.$OzStreamInterruptChecker5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker6=!1);d=this.$OzStreamInterruptChecker3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker6&&d>0&&this.$OzStreamInterruptChecker4>=d&&c!==null&&c!==void 0&&(this.emit("streamInterruptAt",c),this.$OzStreamInterruptChecker6=!0);this.$OzStreamInterruptChecker5=c};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$OzMpdUpdater8=new(b("oz-player/utils/OzErrorEmitter"))();j.$OzMpdUpdater10=new(b("oz-player/shims/OzSubscriptionsHandler"))();j.$OzMpdUpdater11=!1;j.$OzMpdUpdater15=0;j.$OzMpdUpdater16=0;j.$OzMpdUpdater17=null;j.$OzMpdUpdater19=!0;j.$OzMpdUpdater22=function(){var a=j.$OzMpdUpdater2.getLocation();j.$OzMpdUpdater19=!1;if(!a)return;if(j.$OzMpdUpdater6.getBool("live_disable_mpd_updates_when_paused")&&!j.$OzMpdUpdater12.isPlaying()){j.setupUpdateLoop();return}var c=j.$OzMpdUpdater5.getOperationLogger("update_manifest").start();j.$OzMpdUpdater25(a).then(function(d){j.$OzMpdUpdater16=0;j.$OzMpdUpdater26();j.$OzMpdUpdater7=0;if(j.$OzMpdUpdater19)return;var e=Object.assign({},j.$OzMpdUpdater13,{mpdUrl:a});e=new(b("oz-player/parsers/OzMpdParser"))(j.$OzMpdUpdater6,e,j.$OzMpdUpdater1,j.$OzMpdUpdater5,j.$OzMpdUpdater14);e.onError(function(a){j.$OzMpdUpdater8.emitError(a),c.setError(a).log()});e=e.parse(d);d=j.$OzMpdUpdater2.isStaticMpd();j.$OzMpdUpdater2.updateWith(e);e.isStaticMpd()&&!d&&j.emit("streamTransitionToStatic");e=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(j.$OzMpdUpdater2);d=e&&e.endTime!=0?e.endTime:null;c.setLiveheadPosition(d).setLiveheadSeqNumMpd(b("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(j.$OzMpdUpdater2)).setManifestType(j.$OzMpdUpdater2.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(j.$OzMpdUpdater2.getCustomField("isLiveTemplated"))).log();j.$OzMpdUpdater9.notifyMpdUpdated();j.setupUpdateLoop()})["catch"](function(d){j.$OzMpdUpdater26();c.setError(d).log();if(j.$OzMpdUpdater6.getBool("handle_mpd_retries_outside_oz_mpd_updater")){var e;if(j.$OzMpdUpdater6.getBool("convert_dom_exception_to_oz_error"))if(d instanceof b("oz-player/utils/OzError"))e=d;else{var f=d.code!=null?String(d.code):null,g={originalError:d,url:a};f!==null&&(g.code=f);e=new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:d.name+"; "+d.message+"; "+d.description+";",extra:g})}else{e=d instanceof b("oz-player/utils/OzError")?d:new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:"Unknown mpd url load failure: "+a+("; errorMessage: "+d.message+"; errorDescription: "+((f=d.description)!=null?f:"")+";")})}j.$OzMpdUpdater24(e,a)}else j.$OzMpdUpdater23(d)})};var k=d.getMinimumUpdatePeriod();j.$OzMpdUpdater7=0;j.$OzMpdUpdater1=e;j.$OzMpdUpdater2=d;j.$OzMpdUpdater12=f;j.$OzMpdUpdater3=k;j.$OzMpdUpdater5=g.cloneContext().setType("manifest");j.$OzMpdUpdater6=c;j.$OzMpdUpdater13=h;j.$OzMpdUpdater14=i;j.$OzMpdUpdater2.addListener("locationUpdated",function(){j.$OzMpdUpdater20(),j.setupUpdateLoop()});j.$OzMpdUpdater9=new(b("oz-player/utils/OzStreamInterruptChecker"))(j.$OzMpdUpdater2,j.$OzMpdUpdater6);j.$OzMpdUpdater10.addSubscriptions(j.$OzMpdUpdater9.addListener("streamResumedAt",function(a){j.emit("streamResumedAt",a)}),j.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){j.emit("streamInterruptAt",a)}));return j}var d=c.prototype;d.$OzMpdUpdater20=function(){b("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater4=null,this.$OzMpdUpdater21(),this.$OzMpdUpdater19=!0};d.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater11;a&&this.$OzMpdUpdater6.getBool("stop_manifest_update_when_static")&&(a=!this.$OzMpdUpdater2.isStaticMpd(),this.$OzMpdUpdater3=this.$OzMpdUpdater2.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater3&&this.$OzMpdUpdater2.getLocation()&&(this.$OzMpdUpdater4=b("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater22,this.$OzMpdUpdater3*1e3))};d.onError=function(a){return this.$OzMpdUpdater8.onError(a)};d.$OzMpdUpdater23=function(a){if(this.$OzMpdUpdater6.getBool("live_gracefully_handle_mpd_errors")){var c;a instanceof b("oz-player/utils/OzError")&&(c=a.getExtra().code||"");var d=["404","503"];this.$OzMpdUpdater6.getBool("live_gracefully_handle_no_network")&&d.push("0");var e=this.$OzMpdUpdater6.getNumber("live_max_try_attempts_on_404"),f=!1;if(c&&d.indexOf(c)>-1)switch(c){case"410":this.$OzMpdUpdater11=!0;f=!0;break;case"404":this.$OzMpdUpdater7++;if(this.$OzMpdUpdater7>=e)break;case"503":case"0":f=!0;break}if(f){this.setupUpdateLoop();return}}this.$OzMpdUpdater8.emitError(a)};d.$OzMpdUpdater24=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater16-1,e=a.getExtra().code;this.$OzMpdUpdater17!==e?(this.$OzMpdUpdater17=e,this.$OzMpdUpdater15=1):this.$OzMpdUpdater15++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater11=!0,c.$OzMpdUpdater6.getBool("live_gracefully_handle_410")&&c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater15,error:a,isInitialRequest:!1,retry:function(a){f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater8.emitError(a)};d.$OzMpdUpdater25=function(a){this.$OzMpdUpdater21();this.$OzMpdUpdater16++;a=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},null,this.$OzMpdUpdater5);this.$OzMpdUpdater18=a;a=a.getStream().getReader();return b("oz-player/utils/OzReadableStreamUtils").pumpString(a)};d.$OzMpdUpdater21=function(){this.$OzMpdUpdater18&&this.$OzMpdUpdater6.getBool("mpd_update_cancel_current_request_tracker")&&(this.$OzMpdUpdater18.cancel(),this.$OzMpdUpdater16=0),this.$OzMpdUpdater26()};d.$OzMpdUpdater26=function(){this.$OzMpdUpdater18=null};d.destroy=function(){this.$OzMpdUpdater4&&b("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater10.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/utils/OzError"],(function(a,b,c,d,e,f){function g(){return{$:{}}}function h(a){var b=g();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(var e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(h(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var c=a.prototype;c.parse=function(a){try{var c=g(),d=this.$1.parseFromString(a,"application/xml"),e=d.querySelector("parsererror");if(e){e=e.innerHTML;var f=2e3;throw new(b("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:e+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f),extra:{}})}e=d.documentElement;e!=null&&(c[e.nodeName]=[h(e)]);return c}catch(c){if(c instanceof b("oz-player/utils/OzError"))throw c;else{f=2e3;throw new(b("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:c.message+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f)+"\n\n"+c.stack,extra:{originalError:c}})}}};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a){a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/www/OzSaxWWW",["sax"],(function(a,b,c,d,e,f){a=b("sax");e.exports=a}),null);
__d("oz-player/shims/OzSax",["oz-player/shims/www/OzSaxWWW"],(function(a,b,c,d,e,f){a=b("oz-player/shims/www/OzSaxWWW");e.exports=a}),null);
__d("oz-player/parsers/OzXmlParserImplSax",["oz-player/shims/OzSax","oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){function g(){return{$:{}}}a=function(){function a(){var a=this;this.$4=[];this.$6=function(c){c=c.name;var d=g(),e=a.$3||a.$2;e||b("oz-player/shims/ozvariant")(0,219);Object.prototype.hasOwnProperty.call(e,c)||(e[c]=[]);e[c].push(d);a.$4.push(e);a.$3=d};this.$8=function(){var b=a.$4.pop();a.$3=b};this.$9=function(c){c=c;c=c.trim();if(!c)return;var d=a.$3;d||b("oz-player/shims/ozvariant")(0,220);d._&&b("oz-player/shims/ozvariant")(0,221);d._=c};this.$7=function(c){var d=c.name;c=c.value;var e=a.$3;e||b("oz-player/shims/ozvariant")(0,222);e.$[d]=c};var c=!0;c=this.$1=b("oz-player/shims/OzSax").parser(c);c.onerror=this.$5;c.onopentagstart=this.$6;c.onattribute=this.$7;c.onclosetag=this.$8;c.ontext=this.$9}var c=a.prototype;c.$5=function(a){throw a};c.parse=function(a){var c=g();this.$2=c;try{this.$1.write(a).close()}catch(c){var d=2e3;throw new(b("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:c.message+"; truncated xml ("+d+"/"+a.length+"): "+a.substring(0,d),extra:{originalError:c}})}this.$3=null;this.$2=null;this.$4=[];return c};return a}();e.exports=a}),null);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g){var h=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$16=function(){h.$10!=h.$14.isPlaying()&&(h.$14.isPlaying()&&(h.$11=Date.now()),h.$10=h.$14.isPlaying())};this.$1=a;this.$2=c;this.$3=d;this.$8=e;this.$9=f;this.$14=g;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$16),this.$14.addEventListener("pause",this.$16))}var c=a.prototype;c.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};c.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$17(d)})};c.$17=function(a){var c;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8;var d=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$16();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=d||this.$12!=a)&&(this.$13=d,this.$12=a,this.$11=Date.now());c=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((c=this.$11)!=null?c:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(c&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&d!==0&&a!==0&&this.$2.duration-this.$2.currentTime>a){c=[];for(var a=0;a<this.$2.buffered.length;a++)c.push({startTime:this.$2.buffered.start(a),endTime:this.$2.buffered.end(a)});a=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,c);this.$6=this.$2.currentTime+Math.min(a,d);c={startTime:this.$6,endTime:this.$2.duration-d};this.$3.blockTimeRange(c)}};c.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();e.exports=a}),null);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";f.computeSeekAhead=a;var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}}),null);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";f.isInGap=a;f.isNearGap=c;var g=1.5;function a(a,c,d){c=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,c,d)===-1}function c(a,c,d,e){e===void 0&&(e=g);var f=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});f=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,f,d);if(f!==-1){d=c[f];return b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,d.endTime)&&d.endTime-a<e}return!1}}),null);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayheadManager2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager4=new Set();d.$OzPlayheadManager10=new Set();d.$OzPlayheadManager12=function(a){d.$OzPlayheadManager1.currentTime=a};d.$OzPlayheadManager14=!1;d.$OzPlayheadManager15=!0;var e=c.video,f=c.mpd,h=c.playheadCatchup,i=c.playbackState,j=c.config,k=c.perfLoggerProvider,l=c.seekHandler;c=c.initialPlaybackPosition;d.$OzPlayheadManager1=e;d.$OzPlayheadManager6=j;d.$OzPlayheadManager7=i;d.$OzPlayheadManager8=f;d.$OzPlayheadManager9=h;d.$OzPlayheadManager11=k;l&&(d.$OzPlayheadManager12=l);d.$OzPlayheadManager13=c;d.$OzPlayheadManager2.addSubscriptions(g(d.$OzPlayheadManager1,"durationchange",function(){d.$OzPlayheadManager16(),d.$OzPlayheadManager17("durationchange"),d.$OzPlayheadManager18("durationchange")}),g(d.$OzPlayheadManager1,"pause",d.$OzPlayheadManager17.bind(babelHelpers.assertThisInitialized(d),"pause")),g(d.$OzPlayheadManager1,"play",d.$OzPlayheadManager17.bind(babelHelpers.assertThisInitialized(d),"play")),g(d.$OzPlayheadManager1,"playing",d.$OzPlayheadManager17.bind(babelHelpers.assertThisInitialized(d),"playing")),g(d.$OzPlayheadManager1,"waiting",function(){d.$OzPlayheadManager17.bind(babelHelpers.assertThisInitialized(d),"waiting"),d.$OzPlayheadManager18("waiting")}),g(d.$OzPlayheadManager1,"timeupdate",b("oz-player/shims/ozThrottle")(function(){d.$OzPlayheadManager6.getBool("playhead_manager_handle_timerange_update_on_timeupdate")&&d.$OzPlayheadManager17("timeupdate"),d.$OzPlayheadManager6.getBool("playhead_manager_handle_buffered_timerange_update_on_timeupdate")&&d.$OzPlayheadManager18("timeupdate")},d.$OzPlayheadManager6.getNumber("playhead_manager_timeupdate_throttle_ms"))));return d}var d=c.prototype;d.observeSourceBufferState=function(a,c){var d=this;this.$OzPlayheadManager4.has(a)&&b("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager19(a,c),d.$OzPlayheadManager6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager18("buffer_updated")}))};d.$OzPlayheadManager19=function(a,c){var d=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update")&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&d.push(a[0])});d.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time")?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=b("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,d);var e=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager20(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",c)};d.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager17.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager17("time_range_set")};d.$OzPlayheadManager16=function(){var a=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager14&&!isNaN(a)&&a!==Infinity){a=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:a+this.$OzPlayheadManager13;this.$OzPlayheadManager14=!0;this.$OzPlayheadManager20(a,"initial_playback_position","");this.emit("initialPlaybackPositionSet",a)}};d.$OzPlayheadManager17=function(a,c){c===void 0&&(c=null);var d=this.$OzPlayheadManager9;if(d&&d.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){d=d.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof d==="number"){this.$OzPlayheadManager20(d,"live_catch_up_strategy",a,c);return}}d=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack");if(d===0)return;var e=this.$OzPlayheadManager5;if(!e)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=e.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),h=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(f,g);if((b("oz-player/utils/OzTimelineGapUtil").isNearGap(f,e.getTimeRanges())||b("oz-player/utils/OzTimelineGapUtil").isInGap(f,e.getTimeRanges()))&&h!==-1){f=g[h];this.$OzPlayheadManager20(f.rangeStart+d,"jump_over_timeline_gap",a,c)}};d.$OzPlayheadManager18=function(a){if(!this.$OzPlayheadManager6.getBool("skip_videobuffer_gaps"))return;var c=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(c===0)return;var d=this.$OzPlayheadManager7.getCurrentTime(),e=[];for(var f=0;f<this.$OzPlayheadManager1.buffered.length;f++)e.push({startTime:this.$OzPlayheadManager1.buffered.start(f),endTime:this.$OzPlayheadManager1.buffered.end(f)});f=e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});var g=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(d,f),h=this.$OzPlayheadManager15?0:this.$OzPlayheadManager6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),i=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),j=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_numerical_error");if((b("oz-player/utils/OzTimelineGapUtil").isNearGap(d,e,j,i)||b("oz-player/utils/OzTimelineGapUtil").isInGap(d,e,j))&&g!==-1&&(h===0||f[g].rangeStart-d<h)){i=f[g];this.$OzPlayheadManager20(i.rangeStart+c,"jump_over_buffer_gap",a,null);return}};d.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager15=a};d.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};d.$OzPlayheadManager20=function(a,b,c,d){var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon");if(f>0&&e<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c){this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$3=null,this.$1=c,this.$4=a,this.$2.addSubscriptions(g(this.$1,"timeupdate",this.$5.bind(this)),g(this.$1,"playing",this.$6.bind(this)),g(this.$1,"pause",this.$7.bind(this)))}var c=a.prototype;c.$5=function(){var a=this.$4.getNumber("playhead_nudge_slack");if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a),this.$3=null)};c.$6=function(){this.$3=this.$1.currentTime};c.$7=function(){this.$3=null};c.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=150;a=function(){function a(a,c){var d=this;c===void 0&&(c=new(b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=function(){d.$4.getOperationLogger("pause").setState("paused").log()};this.$7=function(){d.$5(),d.$4.getOperationLogger("playing").setState("playing").log()};this.$5=function(){d.$2=d.$1.currentTime};this.$1=a;this.$4=c;this.$2=this.$1.currentTime;this.$3.addSubscriptions(g(this.$1,"seeked",this.$5),g(this.$1,"seeking",this.$5),g(this.$1,"timeupdate",b("oz-player/shims/ozThrottle")(this.$5,h)),g(this.$1,"pause",this.$6),g(this.$1,"playing",this.$7))}var c=a.prototype;c.isPlaying=function(){return!this.$1.paused};c.getCurrentTime=function(){return this.$2};c.forceUpdateCurrentTime=function(){this.$5()};c.getDuration=function(){return this.$1.duration};c.addEventListener=function(a,b){return g(this.$1,a,b)};c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";f.determinePositionIndexOfVideoFromViewportVertically=a;function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}}),null);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f){"use strict";var g=null,h=.5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker1=[];c.$OzPositionToViewportTracker5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker1.find(function(b){return a.target===b.video});b!=null&&(a.isIntersecting?b.position=c.$OzPositionToViewportTracker7(a):c.$OzPositionToViewportTracker1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker2=b;return c}var d=c.prototype;d.$OzPositionToViewportTracker4=function(){if(this.$OzPositionToViewportTracker3!=null)return;this.$OzPositionToViewportTracker3=new IntersectionObserver(this.$OzPositionToViewportTracker5,{rootMargin:this.$OzPositionToViewportTracker2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};d.registerVideo=function(a){this.$OzPositionToViewportTracker1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker4(),this.$OzPositionToViewportTracker3!=null&&this.$OzPositionToViewportTracker3.observe(a)};d.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};d.$OzPositionToViewportTracker6=function(a){return b("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker1,h)};d.$OzPositionToViewportTracker7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};c.getInstance=function(a){g==null&&(g=new c(a));return g};d.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker3!=null?b.$OzPositionToViewportTracker3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker1=c;this.$OzPositionToViewportTracker1.length===0&&this.$OzPositionToViewportTracker3!=null&&(this.$OzPositionToViewportTracker3.disconnect(),this.$OzPositionToViewportTracker3=null)};return c}(b("oz-player/shims/OzEventEmitter"));c=a;e.exports=c}),null);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzPositionToViewport1=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport3=c;e.$OzPositionToViewport2=b("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport2.registerVideo(c);e.$OzPositionToViewport1.addSubscriptions(e.$OzPositionToViewport2.addListener("state_changed",function(){e.emit("state_changed")}));return e}var d=c.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport3!=null?this.$OzPositionToViewport2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport3):-1};d.destroy=function(){this.$OzPositionToViewport3!=null&&this.$OzPositionToViewport2.unregisterVideo(this.$OzPositionToViewport3),this.$OzPositionToViewport3=null};return c}(b("oz-player/shims/OzEventEmitter"));c=a;e.exports=c}),null);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";f.getPlaybackConfidence=a;f.getEstimatedDownloadTimeBufferDeltaMs=h;var g=.8;function a(a,b,c,d,e,f,i,j){c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}}),null);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$14(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h}var c=a.prototype;c.setSourceBuffer=function(a){this.$9=a};c.$14=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};c.$15=function(a){a=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(this.$1,a,this.$12(),this.$11);a=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),a);return a};c.getBestRepresentation=function(a){a=(a=a==null?void 0:a.length)!=null?a:null;var c=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$9,this.$8),d=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,c,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(d!==null&&d!==void 0){this.$10=d;return this.$5}d=Date.now();this.$2=d;var e=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),f=this.$15(this.$6),g=null;this.$1.getBool("abr_use_download_time")&&a!=null?g=this.$16(f,e,a)||this.$17(f,e,c,a):g=this.$17(f,e,c,a);e=f[0];g=g||e;if(this.$18(c,g)){this.$10="high_buffer";return this.$5}this.$5!==g&&(this.$4=!0,this.$3=d,this.$5=g);this.$10="bandwidth";return g};c.$17=function(a,c,d,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=b("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],c,d,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),e,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig()),this.$1.getNumber("download_time_buffer_delta_penalty_factor"));h>this.$1.getNumber("abr_confidence_threshold")&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};c.$16=function(a,c,d){for(var e=a.length-1;e>=0;e--){var f=b("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[e],c,d,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig())||0);if(f!=null&&f+this.$1.getNumber("minimum_download_additional_buffer_ms")<0)return a[e]}return null};c.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};c.getLastEvaluationReason=function(){return this.$10};c.updateRepresentations=function(a){var b=this;this.$6=a;a=this.$6.find(function(a){return a.getQualityLabel()===b.$5.getQualityLabel()});this.$5=(a=a)!=null?a:this.$6[0]};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzAudioIBRManager",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.getInitialAudioRepresentation=function(a){var c=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var d=this.$1.getNumber("live_audio_ibr_bandwidth_percentage");d=c*d;for(var e=a.length-1;e>=0;e--)if(a[e].getBandwidth()<=d){this.$2.getOperationLogger("audio_ibr_success").setRepresentationID(a[e].getID()).setReason(c.toString()).log();return a[e]}this.$2.getOperationLogger("audio_ibr_no_op").setReason(c.toString()).log();return null};return a}();e.exports=a}),null);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}}),null);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var c=a.prototype;c.isActive=function(){return!0};c.getSegmentsCount=function(a,c,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=b("oz-player/strategies/getSegmentsCount")(c,d,a,e));return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$1=a,this.$2=c,this.$3=new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var c=a.prototype;c.isActive=function(a){return!0};c.getSegmentsCount=function(a,c,d){var e=b("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=b("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,c,d):this.$3.getSegmentsCount(a,c,d);a=this.$5(c,e);return Math.min(h,a)};c.$4=function(a,c,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=b("oz-player/strategies/getSegmentsCount")(c,d,a,e));return e};c.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";var g=6,h=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy3=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy4=c;e.$OzBufferAheadPriorityStrategy1=d;e.$OzBufferAheadPriorityStrategy3.addSubscriptions(e.$OzBufferAheadPriorityStrategy1.addEventListener("progress",b("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,h)),e.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",b("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,h)));return e}var d=c.prototype;d.getName=function(){return"buffer_ahead"};d.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy4.getBool("fix_buffer_ahead_priority_strategy")&&(this.$OzBufferAheadPriorityStrategy2=a);this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy5,h)))};d.isActive=function(){return!0};d.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var c=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();c=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(c,a);return c>=g?0:1};d.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.computeBufferTarget=function(){for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.isActive()){d=d.getBufferTarget();this.$1=d;return d}}return this.$1};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$1.getBool("live_catch_up_only_when_paused")||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$1.getNumber("live_catch_up_fall_behind_threshold")?b-this.$1.getNumber("live_catch_up_live_head_delta"):null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayheadAtInterruptionDetector2=null;d.$OzPlayheadAtInterruptionDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadAtInterruptionDetector1=c;d.$OzPlayheadAtInterruptionDetector3.addSubscriptions(g(d.$OzPlayheadAtInterruptionDetector1,"waiting",d.$OzPlayheadAtInterruptionDetector4.bind(babelHelpers.assertThisInitialized(d))));return d}var d=c.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector4()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};d.$OzPlayheadAtInterruptionDetector4=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy1=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy2=c;d.$OzPlayingStatePriorityStrategy1.addSubscriptions(d.$OzPlayingStatePriorityStrategy2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("play",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy3));return d}var d=c.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy3=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy2=c;e.$OzPositionToViewportPriorityStrategy1=d;e.$OzPositionToViewportPriorityStrategy3.addSubscriptions(c.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy4));return e}var d=c.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzPriorityCalculator2=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator1=c;(c=d.$OzPriorityCalculator2).addSubscriptions.apply(c,d.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=c.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator2.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a,b){return a.filter(function(a){return MediaSource.isTypeSupported(a.getMimeCodecs())})};return a}();e.exports=a}),null);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$OzEndOfStreamWatcher1=new Map();e.$OzEndOfStreamWatcher2=new(b("oz-player/shims/OzSubscriptionsHandler"))();e.$OzEndOfStreamWatcher3=c;e.$OzEndOfStreamWatcher4=d;return e}var d=c.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&b("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher5()};d.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};d.$OzEndOfStreamWatcher5=function(){var a=this,b=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update")||b.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher4.getBool("delay_stream_end_for_sourceended")?this.$OzEndOfStreamWatcher3.notifyEndOfStream().then(function(){a.emit("streamEnd")})["catch"](function(){a.emit("streamEnd")}):(this.$OzEndOfStreamWatcher3.notifyEndOfStream(),this.emit("streamEnd")))};d.$OzEndOfStreamWatcher6=function(){if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f){var g=this;this.$4=null;this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3=d;this.$6=e;f.then(function(a){g.$4=a});this.$5.addSubscriptions(e.addListener("switchRepresentation",this.$7.bind(this)))}var c=a.prototype;c.cleanup=function(){this.$5.release(),this.$5.engage()};c.$7=function(a,b){if(a!=="user")return;a=this.$6.getRepresentationIDAtTime(this.$2.getCurrentTime());var c;if(this.$4){for(var d=0;d<this.$3.length;d++)this.$3[d].getID()===a&&(c=this.$3[d]);if(c&&b&&c.getBandwidth()<b.getBandwidth()){a=c.getSegmentByTime(this.$2.getCurrentTime());a&&(this.$4&&this.$4.clearRange(this.$2.getCurrentTime(),this.$2.getDuration()))}}};return a}();e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=new ArrayBuffer(0);c.$OzReadableStreamDataReader2=b;return c}var d=c.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1=b("oz-player/utils/ozConcatArrayBuffer")(this.$OzReadableStreamDataReader1,a.buffer)};d.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};return c}(b("oz-player/networks/OzTransformStream"));e.exports=a}),null);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$3=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$1=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$6=b("oz-player/shims/OzPerformance").now(),this.$7=c,this.$8=a}var c=a.prototype;c.run=function(){var a=this.$3.getPromise(),c=this.$7;if(c){var d=b("oz-player/shims/OzPerformance").now()-this.$6;b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,c,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(d))})["catch"](function(){})}this.$2.resolve();return a};c.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(new(b("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};c.finish=function(){this.$3.resolve()};c.isCancelled=function(){return this.$5};c.addStream=function(a,c,d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:d}),changeStatusDeferred:e,createStreamDeferred:new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:c,loggingPayloads:d});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return e.getPromise()}}};c.addStreamDeferred=function(a,c){var d=this,e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),f=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$9({pausableStreamPromise:a,changeStatusDeferred:e,createStreamDeferred:f,loggerProviderWithStreamContext:c});var g=function(){return f.getPromise()};return{genStream:g,cancel:function(){d.$8.getBool("fix_stream_deferred_cancel")?a&&a.then(function(a){a=a.pausableStream;return a.pauseStream()}):g().then(function(a){return a.pauseStream()})},getStatusChangePromise:function(){return e.getPromise()}}};c.$9=function(a){var c=this,d=a.pausableStreamPromise,e=a.changeStatusDeferred,f=a.createStreamDeferred,g=a.loggerProviderWithStreamContext,h=a.loggingPayloads;a=this.$1.getPromise();var i=b("oz-player/shims/OzPerformance").now(),j=this.$1=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return d}).then(function(a){if(a){var d=a.pausableStream;a.loggingPayloads&&(h=a.loggingPayloads);f.resolve(d.getStream());c.$4=d;var e=b("oz-player/shims/OzPerformance").now();a=c.$10(d.startStream());g&&b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,g,"fetch_stream",function(){},function(a){h&&b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,h.getRequestUrl(),h.isPrefetch(),h.segments,e-i,d.getBytesStreamed(),h.getResponse())});return a}return null}).then(function(a){c.$4=null,j.resolve(),e.resolve(a||"cancelled")})["catch"](function(a){c.$4=null,c.$3.reject(a),e.reject(a)})};c.$10=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$5=a;this.$1=c;this.$6=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=d;this.$8=e;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){f.$10(a,b),f.$2&&f.$6.updatePriority(f.$2,f.$4)}))}var c=a.prototype;c.startStream=function(a){var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a),e=this.$12();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$13(c.getStatusChangePromise)};return d};c.$12=function(){var a=[];a.push(b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};c.startStreamDeferred=function(a){var c=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$11(e);var f=this.$12(),g=new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return b(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$13(a.getStatusChangePromise)};return g};c.$11=function(a){a=this.$2;this.$10(this.$1.compute(),"start_stream");!a||a.isCancelled()?(a=this.$2=new(b("oz-player/networks/OzStreamingTask"))(this.$8,this.$7),this.$6.enqueue(a,this.$4)["catch"](function(){})):this.$6.updatePriority(a,this.$4);return a};c.$13=function(a){var c=this;return function(){return a().then(function(a){c.$14();return a})["catch"](function(a){c.$14();return b("Promise").reject(a)})}};c.finishTaskIfNoOngoingStream=function(){this.$9||this.$15()};c.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};c.$14=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<b("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$15()};c.$15=function(){this.$2&&(this.$2.finish(),this.$2=null)};c.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";f.getStreamingSegments=a;function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}}),null);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/ozSetTimeoutAcrossTransitions");a=function(){function a(a,b){var c=this;this.$2=null;this.$3=!1;this.$6=function(){var a;c.$7();if(c.$3)return;(a=c.$5)==null?void 0:a.start();a=c.$1.execute();var b=c.$1.getLoopInterval();b&&(c.$2=g(function(){c.$6()},b));a&&a.then(c.$6)["catch"](function(b){c.$7();var a=c.$1.handleError(b);if(a)c.$2=g(c.$6,a);else{(a=c.$5)==null?void 0:a.setError(b);(a=c.$5)==null?void 0:a.log();c.$5=null;c.$3=!0}})};this.$1=a;this.$4=b}var c=a.prototype;c.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};c.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null?void 0:a.log();this.$5=null};c.$7=function(){this.$2&&(b("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();e.exports=a}),null);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";f.getRangeForTime=a;function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}}),null);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f){"use strict";f.getEndingSequenceNumber=a;function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var g=function(a,c){a=a.getCurrentTime();a=c?b("oz-player/utils/OzRangeUtils").getRangeForTime(a,c.getBufferedRanges()):null;return a},h=function(a,b,c){b=g(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};f.getTimeToQuery=h;c=function(a,c,d,e,f,i,j,k){var l=a.getPredictedSegmentAfter(i);if(l&&c.isPlaying())return l;l=g(c,e);if(j.getBool("use_stream_end_time_in_segment_locator")&&l&&l.endTime===k)return null;l=h(c,e,i);k=f.getTimeRanges();e=new(b("oz-player/utils/OzNumericalRangeUtil"))().findDiffCoveredByRanges(c.getCurrentTime(),l,k.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>d)return null;i=a.getSegment(0);j.getNumber("auto_seek_playhead_slack")===0&&i&&i.getTimeRange().startTime>l&&(l=i.getTimeRange().startTime);return a.getSegmentByTime(l)};f.getSegment=c}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/ozSetTimeoutAcrossTransitions"),h=1e3,i=.2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q;q=a.call(this)||this;q.$OzMediaStream2=0;q.$OzMediaStream3=0;q.$OzMediaStream4=null;q.$OzMediaStream5=[0,1,1,2,3,5,8,13,21,34];q.$OzMediaStream13=null;q.$OzMediaStream15=!1;q.$OzMediaStream16=null;q.$OzMediaStream17=new(b("oz-player/shims/OzSubscriptionsHandler"))();q.$OzMediaStream19=[];q.$OzMediaStream23=0;q.$OzMediaStream30=!0;q.$OzMediaStream32=!1;q.$OzMediaStream33=null;q.$OzMediaStream34=new(b("oz-player/utils/OzErrorEmitter"))();q.$OzMediaStream36=!0;q.$OzMediaStream39=0;q.$OzMediaStream1=c;q.$OzMediaStream6=d;q.$OzMediaStream6.then(function(a){q.$OzMediaStream7=a,q.$OzMediaStream16&&q.$OzMediaStream16.setSourceBuffer(a),q.$OzMediaStream28.setSourceBufferState(a.getSourceBufferState()),q.$OzMediaStream40()});q.$OzMediaStream21=e;q.$OzMediaStream12=f;q.$OzMediaStream8=g;q.$OzMediaStream14=h;q.$OzMediaStream14.registerMediaStream(babelHelpers.assertThisInitialized(q));q.$OzMediaStream27=i;q.$OzMediaStream28=j;q.$OzMediaStream29=k;q.$OzMediaStream16=l;q.$OzMediaStream18=o.cloneContext();q.$OzMediaStream37=p;q.$OzMediaStream26=new(b("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});q.$OzMediaStream17.addSubscriptions(q.$OzMediaStream8.addEventListener("seeking",function(){if(q.$OzMediaStream1.getBool("fix_seek_performance"))q.restartLoopBody();else{var a;a=(a=q.$OzMediaStream10)==null?void 0:a.getTimeRange();var b=g.getCurrentTime();(!q.$OzMediaStream1.getBool("prevent_unnecessary_seek_stream_anchor_reset")||a&&!(a.startTime<=b&&a.endTime>b))&&(q.$OzMediaStream10=null,q.$OzMediaStream32=!1);q.$OzMediaStream25&&q.$OzMediaStream25.resolve()}}));q.$OzMediaStream22=b("oz-player/utils/OzMimeUtil").getMimeType(n.getMimeCodecs());q.$OzMediaStream31=new(b("oz-player/networks/OzStreamingTaskStateManager"))(q.$OzMediaStream22,q.$OzMediaStream28,q.$OzMediaStream18,q.$OzMediaStream1);q.$OzMediaStream24=new(b("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(q),q.$OzMediaStream18);m===n.getID()?(q.$OzMediaStream9=n,q.$OzMediaStream21>0&&q.$OzMediaStream1.getBool("fix_prepended_segments_tagging")&&q.$OzMediaStream41(e,n)):q.$OzMediaStream42(n);return q}var d=c.prototype;d.start=function(){this.$OzMediaStream24.start()};d.getCurrentRepresentation=function(){return this.$OzMediaStream9};d.switchRepresentation=function(a){this.$OzMediaStream42(a,"user")};d.onError=function(a){return this.$OzMediaStream34.onError(a)};d.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream35=a)};d.$OzMediaStream42=function(a,c){var d=this;c===void 0&&(c="internal");var e=function(){var a=d.$OzMediaStream1.getBool("clear_buffer_when_switch_representation_initiator_is_user");return a?c==="user":!0};e()&&(this.$OzMediaStream10=null);if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){(e=this.$OzMediaStream20)==null?void 0:e.remove();this.$OzMediaStream20=null}e=this.$OzMediaStream18.cloneContext().setType(this.$OzMediaStream22+";init");var f=this.$OzMediaStream12.request([a.getInitSegment()],[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream22)],e,"ENABLE_CACHE"),g=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream9?this.$OzMediaStream9.getID():null).setInitiator(c).setRepresentationID(a.getID()).setReason(this.$OzMediaStream16&&this.$OzMediaStream16.getLastEvaluationReason()).start();this.$OzMediaStream9=a;this.emit("switchRepresentation",c,a);this.$OzMediaStream43(f.getStream(),function(){g.log(),d.emit("initAppended"),d.$OzMediaStream14.notifyRepresentationSwitched(d)},function(a){g.setError(a).log(),d.$OzMediaStream1.getBool("fallback_on_append_error")&&a instanceof b("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&d.$OzMediaStream34.emitError(a)},e.cloneContext(),0)};d.getLoopInterval=function(){return this.$OzMediaStream23};d.execute=function(){var a=this.$OzMediaStream44();if(a){var c=this.$OzMediaStream25=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return c.resolve()})["catch"](function(a){return c.reject(a)});return c.getPromise()}return null};d.$OzMediaStream45=function(a){if(this.$OzMediaStream16&&this.$OzMediaStream30&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request")||this.$OzMediaStream15||this.$OzMediaStream21>0)){a=this.$OzMediaStream16.getBestRepresentation(a);if(this.$OzMediaStream9!==a)return a}return null};d.$OzMediaStream46=function(a){var c=this.$OzMediaStream7?this.$OzMediaStream7.getSourceBufferState():null,d=this.$OzMediaStream21>0?this.$OzMediaStream9.getSegment(this.$OzMediaStream21-1):null,e=null;a&&(e=this.$OzMediaStream9.getCustomFieldFirstSegment());if(!e&&this.$OzMediaStream9.canPredict()&&this.$OzMediaStream37!=null)return this.$OzMediaStream37.getSegment(this.$OzMediaStream9,this.$OzMediaStream8,this.$OzMediaStream27.computeBufferTarget(),c,this.$OzMediaStream10||d,this.$OzMediaStream11,this.$OzMediaStream1,this.$OzMediaStream36,this.$OzMediaStream22);else{e||(e=b("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream9,this.$OzMediaStream8,this.$OzMediaStream27.computeBufferTarget(),c,this.$OzMediaStream9,this.$OzMediaStream10||d,this.$OzMediaStream1,this.$OzMediaStream33));if(this.$OzMediaStream9.canPredict()){a=this.$OzMediaStream11&&this.$OzMediaStream11.getSequenceNumber()||0;var f=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream11&&a>=f){f=b("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream9);return(f||0)>=a?this.$OzMediaStream11:null}}}if(!e&&!this.$OzMediaStream47()&&this.$OzMediaStream1.getBool("append_last_segment_if_beyond_end")){f=this.$OzMediaStream9.getEndingSegment();if(f&&this.$OzMediaStream9.isEndingSegment(f)){a=f.getTimeRange().endTime;c=b("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream8,c,this.$OzMediaStream10||d);c>=a&&!this.$OzMediaStream47()&&(e=f)}}return e};d.$OzMediaStream48=function(){return!this.$OzMediaStream15&&this.$OzMediaStream21===0};d.$OzMediaStream49=function(a,c){var d;d=(d=c.fetchSingleSegment)!=null?d:!1;c=(c=c.preventRepresentationSwitch)!=null?c:!1;var e=[];if(d)e=[a];else{d=this.$OzMediaStream29.computeMin(this.$OzMediaStream8,a,this.$OzMediaStream9);e=b("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,d,this.$OzMediaStream9,this.$OzMediaStream8,a);e=b("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(e);if(!c){d=this.$OzMediaStream45(e);if(d){this.$OzMediaStream42(d);a=this.$OzMediaStream46(!1);if(!a)return[];else return this.$OzMediaStream49(a,{fetchSingleSegment:!1,preventRepresentationSwitch:this.$OzMediaStream1.getBool("prevent_multiple_successive_representation_switch")})}}}return e};d.$OzMediaStream50=function(){var a=this;if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){var c=function(b){b==null?void 0:b.remove(),a.$OzMediaStream20===b&&(a.$OzMediaStream20=null)};c(this.$OzMediaStream20);var d=null;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,e){a.getCurrentRepresentation().forceParseIfNotParsed(),d=a.getCurrentRepresentation().addUpdateListener(function(){c(d),b()}),a.$OzMediaStream20=d})["catch"](function(a){c(d);throw a})}else return new(b("oz-player/shims/OzMaybeNativePromise"))(function(c,d){a.getCurrentRepresentation().forceParseIfNotParsed();var b=a.getCurrentRepresentation().addUpdateListener(function(){c(),a.$OzMediaStream20=null,b.remove()});a.$OzMediaStream20=b})};d.$OzMediaStream41=function(a,b){var c=this,d=b.addUpdateListener(function(){var e=b.getSegment(a-1);e!=null&&c.$OzMediaStream26.add(0,e.getTimeRange().endTime,{id:b.getID()});d.remove()})};d.$OzMediaStream51=function(a,c){var d=this;return new(b("oz-player/shims/OzMaybeNativePromise"))(function(b,c){c=d.$OzMediaStream46(a);c==null?b([]):b(d.$OzMediaStream49(c,{fetchSingleSegment:a}))})};d.$OzMediaStream44=function(){var a=this,c=this.$OzMediaStream7?this.$OzMediaStream7.getSourceBufferState():null;if(this.$OzMediaStream9.canPredict()&&this.$OzMediaStream11&&this.$OzMediaStream9.isEndingSegment(this.$OzMediaStream11)){this.endStream();return}if(this.$OzMediaStream9.canPredict()&&this.$OzMediaStream10&&this.$OzMediaStream9.isEndingSegment(this.$OzMediaStream10)){this.endStream();return}var d=this.$OzMediaStream48(),e=this.$OzMediaStream46(d);e===this.$OzMediaStream38?this.$OzMediaStream39++:this.$OzMediaStream39=0;this.$OzMediaStream38=e;this.$OzMediaStream8.isPlaying()&&this.$OzMediaStream39>0&&this.$OzMediaStream18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setLength(this.$OzMediaStream39).setRepresentationID(this.$OzMediaStream9.getID()).setSegmentStartTime(e==null?void 0:e.getTimeRange().startTime).setSegmentEndTime(e==null?void 0:e.getTimeRange().endTime).log();if(this.$OzMediaStream32&&this.$OzMediaStream1.getBool("no_new_loop_body_promise_when_stream_ongoing")){this.$OzMediaStream23=h;return null}this.$OzMediaStream21>0&&this.$OzMediaStream1.getBool("maybe_end_stream_if_prepended_segments")&&!this.$OzMediaStream47()&&this.endStreamIfBufferedToEndTime();if(!e||this.$OzMediaStream32){this.$OzMediaStream23=h;this.$OzMediaStream32||this.$OzMediaStream31.finishTaskIfNoOngoingStream();return this.$OzMediaStream50()}this.$OzMediaStream23=0;var f=this.$OzMediaStream49(e,{fetchSingleSegment:d});if(f.length===0)return this.$OzMediaStream50();this.$OzMediaStream15=!0;var g=f[f.length-1]||null;g&&this.$OzMediaStream9.isEndingSegment(g);var i=this.$OzMediaStream9,j=function(){return i.isEndingSegment(g)};f.length!==0||b("oz-player/shims/ozvariant")(0,23148);e=f[0];var k=e.getTimeRange().startTime,l=g.getTimeRange().endTime,m=this.$OzMediaStream18.cloneContext();m.setRepresentationID(this.$OzMediaStream9.getID()).setSegmentStartTime(k).setSegmentEndTime(l);var n,o,p=null,q=this.$OzMediaStream1.getBool("disable_audio_scheduler")&&this.$OzMediaStream22.indexOf("audio")!==-1;this.$OzMediaStream1.getBool("use_scheduler")&&!q&&!d?this.$OzMediaStream1.getBool("use_deferred_streaming_task")?o=this.$OzMediaStream31.startStreamDeferred({segmentsPromise:this.$OzMediaStream51(d,f),networkManager:this.$OzMediaStream12,sourceBufferState:c,playbackState:this.$OzMediaStream8,segmentsLoggerProvider:m}):n=this.$OzMediaStream31.startStream({streamableSegments:f,networkManager:this.$OzMediaStream12,sourceBufferState:c,playbackState:this.$OzMediaStream8,segmentsLoggerProvider:m}):n=this.$OzMediaStream12.request(f,[b("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream22)],m);this.$OzMediaStream13=n;this.$OzMediaStream32=!0;var r=this.$OzMediaStream52(e,g,f.length),s={startTime:k,endTime:l,tag:{id:this.$OzMediaStream9.getID()}},t=m.getOperationLogger("queued_append");t.start().setReason(this.$OzMediaStream16&&this.$OzMediaStream16.getLastEvaluationReason());var u=function(c){a.$OzMediaStream43(c,function(b){t.setAppendedBufferMs(Math.round(b*1e3)).log(),f.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream53(b))}),j()&&a.endStream(),a.$OzMediaStream21=0},function(c){t.setError(c).log();var d=o||n;d&&a.$OzMediaStream1.getBool("cancel_tracker_on_append_error")&&d.cancel();a.$OzMediaStream1.getBool("fallback_on_append_error")&&c instanceof b("oz-player/utils/OzError")&&c.getType()!=="OZ_NETWORK"&&a.$OzMediaStream34.emitError(c)},m,r,s)},v;!!o||!!n||b("oz-player/shims/ozvariant")(0,23147);o?(o.genStream().then(function(a){return u(a)})["catch"](function(b){return a.$OzMediaStream34.emitError(b)}),v=o.getStatusChangePromise()):n&&(u(n.getStream()),v=n.getStatusChangePromise());q=v.then(function(b){a.$OzMediaStream54(b,g);return a.$OzMediaStream55(p)}).then(function(){a.$OzMediaStream2=0});return q["catch"](function(b){return a.$OzMediaStream1.getBool("emit_stream_error_event")?a.$OzMediaStream56(p,g).then(function(){return a.$OzMediaStream57(b,g)}):a.$OzMediaStream58(b,p,g)})};d.handleError=function(a){return this.$OzMediaStream1.getNumber("loop_body_handle_error_interval_ms")};d.$OzMediaStream57=function(a,c){var d=this;this.$OzMediaStream32=!1;var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),f=function(a){d.$OzMediaStream2++,g(function(){return e.resolve()},a)};a=this.$OzMediaStream59(a);var h=a[0];a=a[1];this.$OzMediaStream4!==a?(this.$OzMediaStream4=a,this.$OzMediaStream3=1):this.$OzMediaStream3++;a=!0;var i=function(){a=!1},j={consecutiveFailuresForErrorCode:this.$OzMediaStream3,endStream:function(){i(),d.$OzMediaStream11=c,d.endStream(),e.resolve()},error:h,isInitialRequest:!1,retry:function(a){i();f((a=a)!=null?a:0)},retryAttemptCount:this.$OzMediaStream2};this.emit("streamError",j);a&&(this.$OzMediaStream34.emitError(h),this.$OzMediaStream2=0,e.resolve());return e.getPromise()};d.$OzMediaStream56=function(a,c){a&&a.finish();this.$OzMediaStream10=null;this.$OzMediaStream11=c;this.$OzMediaStream31.finishTaskIfNoOngoingStream();return this.$OzMediaStream7?this.$OzMediaStream7.cancelOperationAndCleanQueue(this.$OzMediaStream18):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.$OzMediaStream54=function(a,b){var c=["error","done"];this.$OzMediaStream1.getBool("set_stream_anchor_only_on_done_status")&&(c=["done"]);c.indexOf(a)>=0&&(this.$OzMediaStream10=b)};d.$OzMediaStream55=function(a){this.$OzMediaStream32=!1,a&&a.finish()};d.$OzMediaStream59=function(a){var c,d;a instanceof b("oz-player/utils/OzError")?(c=a.getExtra().code||"",d=a):(c=a.status?a.status.toString():"0",d=new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:c,url:a.url}}));return[d,c]};d.$OzMediaStream58=function(a,c,d){this.$OzMediaStream32=!1;var e=this.$OzMediaStream59(a),f=e[0];e=e[1];var h=JSON.parse(this.$OzMediaStream1.getString("network_end_broadcasts_json"));if(h.includes(e)){this.$OzMediaStream11=d;this.endStream();return b("oz-player/shims/OzMaybeNativePromise").resolve()}h=JSON.parse(this.$OzMediaStream1.getString("network_skip_json"));if(h.includes(e)){c&&c.finish();this.$OzMediaStream10=d;this.$OzMediaStream31.finishTaskIfNoOngoingStream();return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){g(a,0)})}var i=this.$OzMediaStream1.getBool("back_off_pdash_504_retry")?this.$OzMediaStream5[this.$OzMediaStream2++]:0;h=JSON.parse(this.$OzMediaStream1.getString("network_reload_mpd_json"));var j=this.$OzMediaStream1.getBool("fix_reload_manifest_retry");if(this.$OzMediaStream1.getBool("back_off_pdash_504_retry")&&i==null&&(!j||h.includes(e)))return this.$OzMediaStream60(a,f);if(i!=null&&h.includes(e)){c&&c.finish();this.$OzMediaStream10=null;this.$OzMediaStream11=d;this.$OzMediaStream31.finishTaskIfNoOngoingStream();if(this.$OzMediaStream7!=null)return this.$OzMediaStream7.cancelOperationAndCleanQueue(this.$OzMediaStream18).then(function(){return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){g(a,i*1e3)})})}j=JSON.parse(this.$OzMediaStream1.getString("network_retry_intervals_json"));var k=j[e];if(k){c&&c.finish();this.$OzMediaStream31.finishTaskIfNoOngoingStream();return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){g(a,k)})}return this.$OzMediaStream60(a,f)};d.$OzMediaStream60=function(a,c){this.$OzMediaStream34.emitError(c);this.$OzMediaStream2=0;return a instanceof b("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK"&&this.$OzMediaStream7?this.$OzMediaStream7.cancelOperationAndCleanQueue(this.$OzMediaStream18):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.$OzMediaStream43=function(a,b,c,d,e,f){f===void 0&&(f=null),this.$OzMediaStream19.push({stream:a,dataAppendedCallback:b,dataAppendedErrorCallback:c,loggerProvider:d,appendTarget:e,timeRange:f}),this.$OzMediaStream7&&this.$OzMediaStream40()};d.$OzMediaStream61=function(a){if(this.$OzMediaStream7!=null&&a!=null){var c=this.$OzMediaStream7.getSourceBufferState().getBufferedRanges();c=b("oz-player/utils/OzRangeUtils").getRangeForTime(a.startTime+i,c);c!=null&&this.$OzMediaStream26.add(a.startTime,c.endTime,a.tag)}};d.$OzMediaStream40=function(){var a=this;this.$OzMediaStream19.forEach(function(c){var d=c.stream,e=c.dataAppendedCallback,f=c.dataAppendedErrorCallback,g=c.loggerProvider,h=c.appendTarget,i=c.timeRange;c=a.$OzMediaStream35==null?d:d.pipeThrough(new(b("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream35.bind(a,a.$OzMediaStream9)));d=null;var j=a.$OzMediaStream1.getNumber("tagged_time_range_per_append_throttle");j>0&&(d=b("oz-player/shims/ozThrottle")(a.$OzMediaStream61.bind(a,i),j));a.$OzMediaStream7&&a.$OzMediaStream7.queueData(c,g,h,d).then(function(b){e(b.appendedSec),i&&a.$OzMediaStream9.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?a.$OzMediaStream26.add(b.startTime_UNSAFE,b.endTime_UNSAFE,i.tag):i&&a.$OzMediaStream26.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){f(a)})});this.$OzMediaStream19=[]};d.$OzMediaStream52=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range"));return d};d.getIsAdaptationEnabled=function(){return this.$OzMediaStream30};d.enableAdaptation=function(){this.$OzMediaStream30=!0};d.disableAdaptation=function(){this.$OzMediaStream30=!1};d.cleanup=function(){this.$OzMediaStream6.then(function(a){a.destroy()}),this.$OzMediaStream31.destroy(),this.$OzMediaStream17.release(),this.$OzMediaStream17.engage(),this.removeAllListeners(),this.$OzMediaStream20&&(this.$OzMediaStream20.remove(),this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")&&(this.$OzMediaStream20=null)),this.$OzMediaStream24.stop()};d.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream26.get(a);if(!b){var c=this.$OzMediaStream9.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream8.getDuration()+d&&(b=this.$OzMediaStream26.get(c.endTime-d))}return b?b.id:null};d.endStream=function(){this.$OzMediaStream14.notifyMediaStreamEnded(this),this.$OzMediaStream62()};d.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream9.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream7){var b=this.$OzMediaStream7.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream())}}};d.$OzMediaStream53=function(a){return{type:this.$OzMediaStream22.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream7?this.$OzMediaStream7.getDebug().SourceBuffer:null}};d.restartLoopBody=function(){this.$OzMediaStream10=null,this.$OzMediaStream32=!1,this.$OzMediaStream13&&this.$OzMediaStream13.cancel(),this.$OzMediaStream23!==0&&this.$OzMediaStream25&&this.$OzMediaStream25.resolve()};d.$OzMediaStream62=function(){if(this.$OzMediaStream7){var a=this.$OzMediaStream7.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream33=a[a.length-1].endTime)}};d.$OzMediaStream47=function(){return this.$OzMediaStream33!==null};d.setEnableLiveheadCatchup=function(a){this.$OzMediaStream36=a};d.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream7,MediaStreamAbrManager:this.$OzMediaStream16}};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/shims/OzURI","oz-player/streams/OzSegmentLocator","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";function g(a){var b=0;for(var c in a)b=Math.max(b,a[c].lastRequestedSequenceNumber);return b}function h(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function i(a,c){return a.getPredictedSegmentAfter({getByteRange:function(){return null},getSequenceNumber:function(){return c-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(b("oz-player/shims/OzURI"))("")}})}function j(a,c,d){c=c==null?void 0:c.getBufferedRanges();var e=c?new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})):-1;c=e>=0&&c!=null?c[e].endTime-a:0;e=[];for(var f=0;f<d.buffered.length;f++)e.push({startTime:d.buffered.start(f),endTime:d.buffered.end(f)});f=e?new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})):-1;d=f>=0?e[f].endTime-a:0;return{streamCurrentBufferAheadSec:c,mediaCurrentBufferAheadSec:d}}a=function(){function a(a){this.$2=!1,this.$4=0,this.$5=0,this.$6={},this.$1=a}var c=a.prototype;c.getSegment=function(a,b,c,d,e,f,g,h,i){var j;this.$6[i]==null&&(this.$6[i]={lastPausedDownloadingTime:0,lastRequestedSequenceNumber:0,lastCatchupTime:0});this.$2!=b.isPlaying()&&(b.isPlaying()&&(this.$3=Date.now()),this.$2=b.isPlaying());if(g.getBool("pdash_download_cursor_pause_duration_of_gop")&&this.$6[i]&&this.$6[i].lastPausedDownloadingTime!=null&&this.$6[i].lastPausedDownloadingTime+((j=a.getMaxGopSec())!=null?j:0)*1e3>=Date.now())return null;j=(g.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((j=this.$3)!=null?j:0)<g.getNumber("catchup_timeout_after_play_sec")*1e3)&&(g.getNumber("catchup_min_interval_sec")===0||Date.now()-((j=this.$6[i].lastCatchupTime)!=null?j:0)>g.getNumber("catchup_min_interval_sec")*1e3);a=this.$7(a,b,c,d,e,f,g,h&&j,i);return a};c.$7=function(a,c,d,e,f,k,l,m,n){var o,p,q,r;c=c.getCurrentTime();var s=l.getNumber("pdash_download_cursor_catchup_threshold_sec")>0;o=s?Math.max(l.getNumber("pdash_download_cursor_catchup_threshold_sec"),((o=a.getMaxGopSec())!=null?o:0)*l.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier")):0;p=s?Math.max(l.getNumber("pdash_download_cursor_catchup_tolerance_sec"),((p=a.getMaxGopSec())!=null?p:0)*l.getNumber("pdash_download_cursor_tolerance_gop_multiplier")):0;l.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$4!=o||this.$5!=p)&&(this.$4=o,this.$5=p,this.$3=Date.now());q=s?Math.max(d,o+((q=a.getMaxGopSec())!=null?q:0)*l.getNumber("pdash_download_cursor_bufferahead_gop_multiplier")):d;d=j(c,e,this.$1);e=d.mediaCurrentBufferAheadSec;d=d.streamCurrentBufferAheadSec;r=(r=a.getMaxGopSec())!=null?r:0;var t=a.getEndingSegment();t=t!=null?t==null?void 0:t.getTimeRange().endTime:null;var u=t!=null?t-o:null;if(d>q&&e>r){this.$6[n].lastPausedDownloadingTime=Date.now();return null}q=a.getPredictedSegmentAfter(f);if(s&&m&&q!=null&&u!=null&&t!=null&&c<u-p){if(l.getBool("pdash_download_cursor_catchup_skip_totalbufer")&&d>o){this.$6[n].lastPausedDownloadingTime=Date.now();return null}e=a.getSegmentByTime(t-Math.max(0,o-d));r=h([e,i(a,g(this.$6)),q]);((m=r==null?void 0:r.getSequenceNumber())!=null?m:0)>((p=(u=q)==null?void 0:u.getSequenceNumber())!=null?p:0)&&(this.$6[n].lastCatchupTime=Date.now());q=r}else s&&f==null&&d>0?q=h([a.getSegmentByTime(c+d),i(a,this.$6[n].lastRequestedSequenceNumber+1),q]):f==null&&(q=a.getSegmentByTime(c));if(f){this.$6[n].lastRequestedSequenceNumber=(t=f==null?void 0:f.getSequenceNumber())!=null?t:0}if(l.getBool("pdash_wait_on_mpd_refresh_when_error")){o=k&&k.getSequenceNumber()||0;e=q&&q.getSequenceNumber()||0;if(q&&k&&o>=e){m=b("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(m||0)>=o?k:null}}return q};return a}();f.OzPredictedSegmentLocator=a}),null);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new(b("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(g.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}}),null);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/parsers/OzXmlParserImplSax","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f){"use strict";function g(a){a||b("oz-player/shims/ozvariant")(0,21876);return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$Player4=new Map();d.$Player5=new Map();d.$Player9=void 0;d.$Player10=new(b("oz-player/shims/OzSubscriptionsHandler"))();d.$Player11=new(b("oz-player/utils/OzErrorEmitter"))();d.$Player25=[];d.$Player31=null;d.$Player32=null;d.$Player39=null;d.$Player48=!1;d.$Player51=0;d.$Player52=null;d.$Player53=null;d.$Player54=0;d.$Player55=null;d.$Player56=null;d.$Player57=!1;d.$Player68=function(){var a=d.$Player3.getBool("xmlparser_use_domparser")?new(b("oz-player/parsers/OzXmlParserImplDOMParser"))():new(b("oz-player/parsers/OzXmlParserImplSax"))();return a};var e=c.audioOnly;e=e===void 0?!1:e;var f=c.bufferingDetector,g=c.videoNodeOrQuickStarter,h=c.config,i=c.rawMpdXml,j=c.mpdUrl;j=j===void 0?null:j;var k=c.loggerConfig;k=k===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:k;var l=c.prefetchCache;l=l===void 0?null:l;var m=c.getOverrideOzRequestImplementation;m=m===void 0?null:m;var n=c.networkRequestStreamHandlers,o=c.networkRequestStreamRetryHandler,p=c.getShouldIncludeCredentials;p=p===void 0?null:p;var q=c.getCustomRequestParametersForURI;q=q===void 0?null:q;var r=c.initialRepresentationIDs;r=r===void 0?[]:r;var s=c.debugCreateInitiator;s=s===void 0?null:s;var t=c.customParsers;t=t===void 0?new Map():t;var u=c.entityKey;u=u===void 0?"":u;var v=c.videoPlaybackRestrictions;v=v===void 0?[]:v;var w=c.customSegmentTimelineParser;w=w===void 0?null:w;var x=c.customRepresentationParsers;x=x===void 0?{}:x;var y=c.videoAbrManagerFactory;y=y===void 0?null:y;var z=c.seekHandler;z=z===void 0?null:z;var A=c.initialPlaybackPositionForDynamicMpd;A=A===void 0?-20:A;var B=c.liveheadFallBehindBlockThreshold;B=B===void 0?30:B;var C=c.liveheadFallBehindBlockMargin;C=C===void 0?5.9:C;var D=c.startTimeStamp;D=D===void 0?0:D;var E=c.drmProviders;E=E===void 0?[]:E;c=c.getVideoDimensions;c=c===void 0?null:c;d.$Player46=s;s=k.perfLoggerProviders;var F=k.observedOperationLoggers;k=k.isOzDevConsoleEnabled;d.$Player16=k||!1;d.$Player15=new(b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(d.$Player60().concat(s));d.$Player1=e;d.$Player3=(k=h)!=null?k:new(b("oz-player/configs/OzPlayerConfig"))();d.$Player61();d.$Player22=new(b("oz-player/loggings/OzOperationLoggerObserver"))();d.$Player22.observe(F,d.$Player15);d.$Player24=l;d.$Player50=m;s=l&&l.getCachedRepresentations(u);d.$Player25=s||r;d.$Player27=t;d.$Player30=v;d.$Player3.getBool("exclude_unsupported_video_mime_codecs")&&d.$Player30.push(new(b("oz-player/strategies/OzSupportedMimeCodecsRestriction"))());d.$Player28=x;d.$Player29=w;d.$Player34=y;d.$Player35=z;d.$Player36=D;d.$Player37=A;d.$Player38=B;d.$Player40=C;d.$Player44=E;g instanceof HTMLVideoElement?(d.$Player2=g,d.$Player6=new(b("oz-player/media_source/MediaSourceManager"))(d.$Player2,d.$Player3,d.$Player15)):(d.$Player2=g.getVideoNode(),d.$Player6=g.getMediaSourceManager(),d.$Player7=g);d.$Player41=n;d.$Player42=p;d.$Player43=q;d.$Player12=new(b("oz-player/networks/OzNetworkManager"))(d.$Player3,d.$Player24,d.$Player41,d.$Player50,d.$Player42,d.$Player43,o);d.$Player17=j;d.$Player3.getBool("treat_inline_mpd_xml_empty_string_as_null")?d.$Player8=i!=null&&i!==""?i:null:d.$Player8=i;d.$Player13=new(b("oz-player/states/OzObservedPlaybackState"))(d.$Player2,d.$Player15);d.$Player49=c;d.$Player14=new(b("oz-player/streams/OzEndOfStreamWatcher"))(d.$Player6,d.$Player3);d.$Player10.addSubscriptions(d.$Player14.addListener("streamEnd",function(){d.$Player48=!0,d.emit("streamEnd")}));d.$Player23=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(d.$Player6,d.$Player3);d.$Player26=d.$Player62();if(d.$Player3.getBool("accept_external_buffering_detector")){d.$Player47=(e=f)!=null?e:d.$Player63()}else d.$Player7==null&&(d.$Player47=d.$Player63());d.$Player3.getNumber("pixels_below_viewport_to_observe")>0&&(d.$Player58=new(b("oz-player/states/OzPositionToViewport"))(d.$Player2,d.$Player3));return d}var d=c.prototype;d.$Player64=function(a){this.$Player65();this.$Player7&&this.$Player10.addSubscriptions(this.$Player7.onError(this.$Player11.emitError));try{a=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player15.cloneContext().setInitiator(this.$Player46),"parse_manifest",this.$Player66.bind(this,a));this.$Player67(a)}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player11.emitError(a);else throw a}};d.$Player67=function(a){var c=this;this.$Player9=g(a);if(this.$Player17!==null&&this.$Player17!==void 0){var d=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player3,a,this.$Player12,this.$Player13,this.$Player15,{mpdUrl:null,createXmlParser:this.$Player68,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player45);this.$Player69(d);this.$Player10.addSubscriptions(d.onError(this.$Player11.emitError),d.addListener("manifestFetchError",function(a){return c.emit("manifestFetchError",a)}),d.addListener("streamTransitionToStatic",this.$Player70.bind(this)),d.addListener("streamGone",this.$Player71.bind(this)));d.setupUpdateLoop();this.$Player21=d}this.$Player36=a.isStaticMpd()?this.$Player36:this.$Player72(a);this.$Player18=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player2,mpd:a,playheadCatchup:this.$Player33,playbackState:this.$Player13,config:this.$Player3,perfLoggerProvider:this.$Player15,seekHandler:this.$Player35,initialPlaybackPosition:this.$Player36});this.$Player19=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player3,this.$Player2);this.$Player20=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player3,this.$Player2,a,this.$Player38,this.$Player40,this.$Player13);this.$Player73();this.emit("mpdReady",a)};d.load=function(a){var c=this;this.$Player17=a;try{var d=this.$Player8;d!=null?this.$Player64(d):a!=null?this.$Player74(a).then(function(a){if(c.$Player57){c.$Player57=!1;c.load(c.$Player17);return}c.$Player8=a;c.$Player51=0;c.$Player64(a)})["catch"](function(d){if(c.$Player57){c.$Player57=!1;c.load(c.$Player17);return}d=d instanceof b("oz-player/utils/OzError")?d:new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Unknown mpd url load failure: "+a+("; errorMessage: "+d.message+"; errorDescription: "+((d=d.description)!=null?d:"")+";")});c.$Player75(d,a)}):this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){d=a instanceof b("oz-player/utils/OzError")?a:new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to call load"+("; errorMessage: "+a.message+"; errorDescription: "+((d=a.description)!=null?d:"")+";")});this.$Player11.emitError(d)}};d.$Player72=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;if(this.$Player3.getBool("use_ending_duration_for_gop_multiplier")){a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a)}return Math.min(this.$Player37+this.$Player3.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player3.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};d.$Player74=function(a){this.$Player51++;a=this.$Player12.requestRawUrl(a,{},null,this.$Player15);a=a.getStream().getReader();return b("oz-player/utils/OzReadableStreamUtils").pumpString(a)};d.$Player76=function(){this.$Player52!=null&&(b("oz-player/shims/ozClearTimeout")(this.$Player52),this.$Player52=null)};d.$Player75=function(a,c){var d=this,e=!0,f=this.$Player51-1,g=a.getExtra().code;this.$Player53!==g?(this.$Player53=g,this.$Player54=1):this.$Player54++;var h=function(){e=!1};g={endStream:function(){throw new(b("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot call endStream before stream is started"})},consecutiveFailuresForErrorCode:this.$Player54,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player76(),d.$Player52=b("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player76(),d.load(c)},a!=null?a:1e3)},retryAttemptCount:f};this.$Player3.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player11.emitError(a)};d.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl;a=a.videoStreamDataHandler;if(a!==void 0){var c=this.$Player4.get("video");c&&c.updateRunTimeConfigs({videoStreamDataHandler:a})}b!=null&&b!==""&&this.$Player77(b)};d.$Player78=function(a,c){var d=this,e=a.getMimeCodecs(),f,g=0,h=null,i=this.$Player7;i&&(f=i.getSourceBufferManagerPromise(e),g=i.getPrependedSegmentsCount(e),this.$Player3.getBool("fix_quick_starter_overhead")&&(h=i.getRepresentationId(e)));f||(f=this.$Player6.createSourceBufferManager(e,this.$Player3.getBool("set_source_buffer_append_window_end")));this.$Player79(f,c,h,a,g);i=f;this.$Player47&&this.$Player3.getString("stream_types_eligible_for_partial_playback")!==""&&(i=f.then(function(a){d.$Player47&&d.$Player47.setSourceBufferState(c,a.getSourceBufferState());return a}));return b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$Player15,"source_attach",function(a){a.setType(c)}).then(function(a){return d.$Player18.observeSourceBufferState(a.getSourceBufferState(),c)})};d.isDrm=function(){var a=this.$Player45;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};d.$Player65=function(){if(this.$Player44.length>0){var a=this.$Player45=new(b("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player15,this.$Player2,{maxStartEMEAttempts:this.$Player3.getNumber("max_start_eme_attempts")});a.onError(this.$Player11.emitError);this.$Player44&&this.$Player44.forEach(a.addProvider,a);this.$Player28.drmProtections&&this.$Player11.emitError(new(b("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player28.drmProtections=a.parseContentProtectionForRepresentation.bind(this.$Player45)}};d.$Player80=function(a){var c=g(this.$Player9);a=[this.$Player3,a,c.getVideoRepresentations(),this.$Player30,this.$Player13,window.devicePixelRatio||1,this.$Player81.bind(this),c.isStaticMpd()?"static":"dynamic"];c=this.$Player34&&this.$Player34.apply(this,a);return(c=c)!=null?c:babelHelpers.construct(b("oz-player/strategies/OzAbrManager"),a)};d.$Player79=function(a,c,d,e,f){var h=this,i=g(this.$Player9),j=this.$Player5.get(c),k=new(b("oz-player/streams/OzMediaStream"))(this.$Player3,a,f,this.$Player12,this.$Player13,this.$Player14,this.$Player26,this.$Player82(),this.$Player83(c),j,d,e,this.$Player15.cloneContext().setType(c),this.$Player59);this.$Player36===0?k.start():this.$Player10.addSubscriptions(this.$Player18.addListener("initialPlaybackPositionSet",function(){h.$Player13.forceUpdateCurrentTime(),k.start()}));this.$Player10.addSubscriptions(k.onError(this.$Player11.emitError),this.$Player23.listenToMediaStreamInitAppended(k));c==="video"&&(this.$Player32=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player3,this.$Player13,b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player30,this.$Player81(),i.getVideoRepresentations()),k,a));this.$Player4.set(c,k);this.$Player10.addSubscriptions(k.addListener("switchRepresentation",function(){if(h.$Player3.getBool("update_live_video_config_on_representation_switch")){var a=k.getCurrentRepresentation();h.$Player3.getBool("fix_setup_video_duration_on_representation_switch")||h.$Player84(a);h.$Player23.setTimeRangeProvider(a);h.$Player18.setTimeRangeProvider(a);h.$Player20!=null&&h.$Player20.setTimeRangeProvider(a)}c==="video"&&h.emit("switchVideoRepresentation")}),k.addListener("SegmentAppended",function(a){h.$Player85("SegmentAppended",a)}),k.addListener("streamError",function(a){h.emit("streamError",a)}))};d.$Player62=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player13,this.$Player3),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player3)])};d.$Player69=function(a){var c=this;if(this.$Player3.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player2);this.$Player10.addSubscriptions(d.addListener("playheadAtInterruption",function(a){c.$Player15.getOperationLogger("stream_interrupted").log(),c.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var b;(b=c.$Player47)==null?void 0:b.notifyStreamInterrupted();d.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var b;c.$Player15.getOperationLogger("stream_resumed").log();(b=c.$Player47)==null?void 0:b.notifyStreamResumed();d.notifyStreamResumed();c.emit("streamResumedAt",a)}));this.$Player31=d}};d.$Player82=function(){var a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player13),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player3,this.$Player13)].concat(this.$Player3.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player58!=null?new(b("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player58,this.$Player3):[]);return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};d.$Player83=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player3),new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player26,this.$Player3)];this.$Player3.getNumber("paused_stream_segments_count")!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player13,this.$Player3));if(a==="video"){a=g(this.$Player9);c.push(new(b("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player3,a.getVideoRepresentations()))}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};d.onError=function(a){return this.$Player11.onError(a)};d.getSelectedVideoQuality=function(){var a=this.$Player9;if(!a)return"";var c=this.$Player4.get("video");c=c&&c.getCurrentRepresentation();if(c instanceof b("oz-player/manifests/OzVideoRepresentation"))return c.getQualityLabel();c=a.getVideoRepresentations();a=c[0];if(a)return a.getQualityLabel();a||b("oz-player/shims/ozvariant")(0,19857);return""};d.switchToVideoQuality=function(a){var b=g(this.$Player9);b=b.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player4.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};d.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player4.get("video");return a?a.getIsAdaptationEnabled():!1};d.enableVideoQualityAdaptation=function(){var a=this.$Player4.get("video");a&&a.enableAdaptation()};d.getVideoQualities=function(){var a=this.$Player9;return!a?[]:a.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};d.setEnableLiveheadCatchup=function(a){this.$Player20&&(a?this.$Player15.getOperationLogger("live_catchup_enabled").log():this.$Player15.getOperationLogger("live_catchup_disabled").log(),this.$Player20.setTimelineBlockingEnabled(a)),this.$Player4.forEach(function(b){b.setEnableLiveheadCatchup(a)}),this.$Player18.setEnableLiveheadCatchup(a)};d.$Player73=function(){var a=this;this.$Player59=this.$Player3.getBool("pdash_use_pdash_segmentlocator")?new(b("oz-player/streams/OzPredictedSegmentLocator").OzPredictedSegmentLocator)(this.$Player2):null;var c=this.$Player1?[this.$Player86({liveConfigsFromAudioStream:!0})]:[this.$Player87(),this.$Player86({})],d=[];return b("Promise").all(c).then(function(){var b=a.$Player4.get("video"),c=a.$Player4.get("audio");b&&d.push(b.getCurrentRepresentation());c&&d.push(c.getCurrentRepresentation());d.forEach(function(b){a.$Player10.addSubscriptions(b.addUpdateListener(function(){a.$Player85("SegmentIndexesUpdated",d)}))});a.$Player85("InitialSegmentIndexes",d);a.$Player2&&a.$Player2.style&&(a.$Player2.style.display=a.$Player1?"none":"block")})};d.$Player84=function(a){if(a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player6.updateDuration(a)}};d.$Player88=function(a){this.$Player84(a),this.$Player23.setTimeRangeProvider(a),this.$Player18.setTimeRangeProvider(a),this.$Player20!=null&&this.$Player20.setTimeRangeProvider(a)};d.$Player87=function(){var a=g(this.$Player9);a=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player30,this.$Player81(),a.getVideoRepresentations(),this.$Player3.getBool("respect_initial_representation_on_setup")?this.$Player25:null);if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player88(a[0]);var c=this.$Player89(a);if(this.$Player3.getBool("enable_adaptation")){var d=this.$Player80(c||a[0]);this.$Player5.set("video",d);this.$Player3.getBool("use_abr_for_missing_default_representation")&&!c&&(c=d.getBestRepresentation())}return this.$Player78(c||a[0],"video")};d.$Player86=function(a){a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var c=g(this.$Player9);c=c.getAudioRepresentations();a&&this.$Player88(c[0]);return c.length?this.$Player78(this.$Player90(c)||c[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};d.getMpd=function(){return this.$Player9};d.destroy=function(a){var c=this;a=this.$Player15.getOperationLogger("unload").setInitiator(a).start();this.$Player76();this.$Player4.forEach(function(a){a.cleanup()});this.$Player32&&this.$Player32.cleanup();this.$Player4=new Map();this.$Player10.release();this.$Player10.engage();this.$Player13.destroy();this.$Player18&&this.$Player18.destroy();this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player20&&(this.$Player20.destroy(),this.$Player20=null);this.$Player45&&this.$Player45.destroy();this.$Player58&&this.$Player58.destroy();this.$Player12&&this.$Player12.destroy();this.$Player49&&(this.$Player49=null);this.$Player3.getBool("detach_media_source_manager")&&this.$Player6&&this.$Player6.detach();var d=b("Promise").resolve();this.$Player3.getBool("cleanup_video_node_on_destroy")&&(this.$Player2.pause(),this.$Player3.getBool("remove_src_attr_on_unload")?this.$Player2.removeAttribute("src"):this.$Player2.src="",this.$Player2.setMediaKeys&&"function"===typeof this.$Player2.setMediaKeys&&(d=this.$Player2.setMediaKeys(null)));this.$Player21&&this.$Player21.destroy();this.$Player31&&this.$Player31.destroy();this.$Player22.destroy();this.$Player23.destroy();this.$Player47&&this.$Player47.destroy();a.log();this.emit("destroyed");a=[d];return b("Promise").all(a).then(function(){c.$Player3.getBool("load_video_node_on_unload")&&c.$Player2.load()})};d.$Player89=function(a){var c=this,d;d=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!d&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var e=this.$Player7.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));return d||null};d.$Player90=function(a){var c=this,d=g(this.$Player9),e;e=a.find(function(a){return c.$Player25.indexOf(a.getID())!==-1});if(!e&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var f=this.$Player7.getRepresentationId("audio");f!==null&&f!==void 0&&(e=a.find(function(a){return a.getID()===f}))}e||(e=b("oz-player/utils/getRepresentationInCache")(a,this.$Player24));if(!e&&!d.isStaticMpd()&&a.length>1&&this.$Player3.getBool("live_audio_ibr")){d=new(b("oz-player/strategies/OzAudioIBRManager"))(this.$Player3,this.$Player15);e=d.getInitialAudioRepresentation(a)}return e||null};d.$Player66=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player3,{mpdUrl:this.$Player17,createXmlParser:this.$Player68,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player12,this.$Player15,this.$Player45,this.$Player25);this.$Player10.addSubscriptions(c.onError(this.$Player11.emitError));return c.parse(a)};d.$Player60=function(){var a=[];this.$Player16&&a.push(new(b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};d.$Player91=function(a,b){b=this.$Player4.get(b);return b?b.getRepresentationIDAtTime(a):null};d.getAudioRepresentationIDAtTime=function(a){return this.$Player91(a,"audio")};d.getVideoRepresentationIDAtTime=function(a){return this.$Player91(a,"video")};d.getCurrentVideoRepresentation=function(){return this.$Player92("video")};d.getCurrentAudioRepresentation=function(){return this.$Player92("audio")};d.$Player92=function(a){var b=this.$Player91(this.$Player13.getCurrentTime(),a),c=this.$Player9;if(!c)return null;var d=[];a==="audio"?d=c.getAudioRepresentations():a==="video"&&(d=c.getVideoRepresentations());return(a=d.find(function(a){return a.getID()===b}))!=null?a:null};d.getSelectedVideoRepresentation=function(){var a=this.$Player4.get("video");return a!=null?a.getCurrentRepresentation():null};d.getSelectedAudioRepresentation=function(){var a=this.$Player4.get("audio");return a!=null?a.getCurrentRepresentation():null};d.$Player70=function(){this.$Player4.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};d.$Player71=function(){this.$Player4.forEach(function(a){return a.endStream()})};d.getDebug=function(){var a=this,b=this.$Player4.get("video"),c=this.$Player4.get("audio"),d,e,f,h,i;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(h=c.getDebug().SourceBufferManager,h&&(i=h.getDebug().SourceBuffer));return{getManifest:function(){return g(a.$Player9)},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:h,AudioSourceBuffer:i}};d.injectExternalDebugEvent=function(a,b){this.$Player85(a,b)};d.$Player85=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};d.$Player61=function(){this.$Player3.getBool("live_playhead_catch_up")&&(this.$Player33=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player3))};d.$Player63=function(){var a=this,c=new(b("oz-player/strategies/OzBufferingDetector"))(this.$Player2,this.$Player3.getLegacyConfig(),function(){return a.$Player48?a.$Player2.duration:Infinity});this.$Player10.addSubscriptions(c.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),c.addListener("leaveBuffering",function(){a.emit("leaveBuffering")}));return c};d.$Player81=function(){var a=this.$Player49?this.$Player49():{width:this.$Player2.offsetWidth,height:this.$Player2.offsetHeight};return a};d.getMpdUrl=function(){return this.$Player17};d.$Player77=function(a){var b=this;this.$Player17=a;var c=this.$Player9;if(!c){this.$Player57=!0;return}else{c.updateLocation(a);this.$Player39&&(this.$Player10.releaseOne(this.$Player39),this.$Player39=null);a=function(){b.$Player39&&(b.$Player10.releaseOne(b.$Player39),b.$Player39=null),b.$Player4.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getQualityLabel();e=d==="video"?c.getVideoRepresentations().slice():c.getAudioRepresentations().slice();if(d==="video"){d=b.$Player5.get(d);d&&d.updateRepresentations(c.getVideoRepresentations())}d=e[0];e.forEach(function(a){var b=a.getQualityLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player39=c.addListener("updated",a);this.$Player10.addSubscriptions(this.$Player39)}};d.getPerfLoggerProvider=function(){return this.$Player15};d.getApproximateFBLSToPlayerDisplayLatency=function(){var a;a=Number((a=(a=this.$Player9)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);if(!this.$Player13.getCurrentTime()||isNaN(a))return null;var c=0;this.$Player55===a?c=(b("oz-player/shims/OzPerformance").now()-Number(this.$Player56))/1e3:(this.$Player56=b("oz-player/shims/OzPerformance").now(),this.$Player55=a);return a/1e3+c-this.$Player13.getCurrentTime()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/Player");e.exports=a}),null);
__d("LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(a){return b.db.table(114).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(114).add({a:void 0,b:b.i64.of_float(Date.now()),c:a[0]})},function(d){return b.sp("531",b.i64.neq(a[0],c(g())))}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSConnectivityTruncateTableAndSetShowErrorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(a){return b.db.table(115).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(115).add({a:void 0,b:b.i64.of_float(Date.now()),c:a[0]})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSContactContactUploadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["130"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[b.createArray()],d[0]=e[0],e,b.seq([function(e){return b.db.table(7).getArr([[[{gt:a[0]}]]]).filter(function(d){return b.i64.gt(d.a,a[0])&&(b.i64.eq(d.H,c(j()))||b.i64.eq(d.H,c(i())))}).slice(0,b.i64.to_float(a[1])).forEach(function(a){a=a.item;return[(d[0].push(a.a),d[0])]})},function(e){return e=[b.i64.of_int32(d[0].length)],d[1]=e[0],e,e=[new b.Map()],d[2]=e[0],e,[d[2].set("contact_ids",d[0])],[d[2].set("is_last_page",b.i64.lt(d[1],a[1]))],[d[2].set("last_primary_key",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","contact_upload",c(h()),d[3],void 0,a[2],c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSContactInsertContactStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.seq([function(d){return b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(i()),c(h()))&&b.i64.lt(d.J,a[21])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(7).add({a:a[0],b:a[2],c:a[3],d:a[4],e:a[5],f:a[6],g:a[7],h:a[9],K:a[40],i:a[10],k:a[11],l:a[12],m:a[35],n:a[14],o:a[17],p:a[18],q:a[19],r:a[20],J:a[21],s:a[22],t:a[23],u:a[24],v:a[25],w:a[26],z:a[27],x:a[28],y:a[29],A:a[30],B:a[31],C:a[32],E:a[34],F:a[36],G:a[37],H:a[38],I:a[39],N:a[42],O:c(g())})}])},function(c){return b.sp("66",a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactOptimisticPseudoUnblockStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["184"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8000001"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(n())],d[0]=e[0],e):(b=a.item,e=[b.G],d[0]=e[0],e)})},function(d){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(m()),c(l()))}).forEach(function(a){var d=a.update;a.item;return d({G:b.i64.and_(e.G==null?c(k()):e.G,c(j()))})}))})},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("blockee_id",a[0])],[d[2].set("request_id",a[1])],[d[2].set("capabilities",d[0]==null?c(i()):d[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","pseudo_unblock",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSContactResetOptimisticBlockStateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(k()),c(j()))}).forEach(function(d){var e=d.update;d.item;return e({L:void 0,M:void 0,n:a[2]===!0?a[1]:b.i64.eq(a[1],c(i()))?c(h()):c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactSetContactCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({G:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreCancelTaskByQueueNameStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(c){return c.b===a[0]&&c.d===b.i64.to_string(a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreHandleSyncFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(3).getArr([[["",a[0]]]]).filter(function(c){return c.a===""&&b.i64.eq(c.b,a[0])}).forEach(function(a){var d=a.update;a=a.item;return d({f:b.i64.add(a.f,c(g())),c:void 0})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreIssueNewErrorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(6).add({a:void 0,b:a[0],c:a[1],d:a[2],e:a[3],f:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreSetBackgroundModeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(1).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var c=a.update;a.item;return c({k:b.i64.of_float(Date.now())})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateOptimisticContextThreadKeysStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(32).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(31).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskQueueNameStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(b){return b.b===a[0]}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskValueStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(b){return b.b===a[0]}).forEach(function(b){var c=b.update;b=b.item;return c({c:b.c.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSForwardContentsGenerateOrRefreshForwardContentStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["68"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(129).getArr([[[a[0],a[1]]]]).filter(function(c){return c.a===a[0]&&b.i64.eq(c.b,a[1])}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(129).add({a:a[0],b:a[1],c:a[0],f:c(k()),h:b.i64.of_float(Date.now())}):0})},function(e){return b.i64.eq(a[1],c(j()))?b.seq([function(d){return b.db.table(129).getArr([[[a[0],a[1]]]]).filter(function(c){return c.a===a[0]&&b.i64.eq(c.b,a[1])}).forEach(function(a){var d=a.update;a.item;return d({f:c(i()),h:b.i64.of_float(Date.now())})})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("value",a[0])],[d[0].set("type",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","FORWARD_CONTENT_GENERATE",c(h()),d[1],void 0,void 0,c(g()),void 0)}]):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSForwardContentsPersistGeneratedForwardContentStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(129).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerClearInThreadBannerTablesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(118).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(119).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannerStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(118).getArr([[[a[1],a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannersStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(118).getArr().filter(function(d){return b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerInsertNewBannerStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(118).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[13],n:a[14],o:a[15],p:a[17],q:a[18],r:a[19],s:a[20],t:a[21]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertCTAStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(119).put({a:a[0],b:a[1],d:a[2],e:a[4],c:a[3],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertOverflowMenuStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(120).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLinkedGroupsDeleteThenInsertLinkedGroupStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(130).put({a:a[0],b:a[1],c:a[2],d:a[3]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLinkedGroupsFetchLinkedGroupForThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["176"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","FETCH_GROUP",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSLocationDeleteLiveLocationSharerStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(149).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLocationPingLiveLocationSharersStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,[(d[0].push("live_location_sharer_ping"),d[0])],[(d[0].push(b.i64.to_string(a[0])),d[0])],c=[d[0].join("_")],d[1]=c[0],c,b.db.table(5).getArr().filter(function(a){return d[1]===a.b}).forEach(function(a){return a["delete"]()})},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("6",d[1],c(g()),d[3])}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSLocationUpsertLiveLocationSharerStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(149).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])}).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(149).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}):(c.item,b.db.table(149).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({c:a[2],d:a[3],e:a[4],f:a[5]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxAddPollForThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(38).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.lt(d.f,c(h()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(38).add({a:a[0],f:c(g()),b:a[1],c:a[2],d:a[3],e:a[4]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollOptionV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[7],a[6],a[8]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("171",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollVoteV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[6],a[3],a[7]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("172",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxApplyNewGroupThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[1])||c.S===a[0]}).next().then(function(d,e){e=d.done;d=d.value;return e?b.seq([function(d){return b.db.table(9).getArr([[[a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.lt(d.Z,c(l()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(9).add({a:a[1],b:c(k()),c:a[2],e:a[3],A:a[4],g:a[5],i:a[6],j:a[6],u:c(j()),B:a[8],C:a[9],D:a[10],E:a[11],L:a[12],P:a[13],S:a[0],Z:c(i())})}]):(d.item,b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[1])||c.S===a[0]}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],e:a[3],A:a[4],g:a[5],i:a[6],j:a[6],u:c(h()),B:a[8],C:a[9],D:a[10],E:a[11],L:a[12],P:a[13],Z:c(g())})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxBumpThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.i64.eq(a[1],c(i()))?b.db.table(9).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).forEach(function(b){var c=b.update;b.item;return c({j:a[0],i:a[0]})}):b.i64.eq(a[1],c(h()))?b.db.table(9).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).forEach(function(b){var c=b.update;b.item;return c({i:a[0]})}):b.i64.eq(a[1],c(g()))?b.db.table(9).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.i,d.j)?b.db.table(9).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).forEach(function(b){var c=b.update;b.item;return c({j:a[0],i:a[0]})}):b.db.table(9).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).forEach(function(b){var c=b.update;b.item;return c({i:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxChangeViewerStatusStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({v:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxCheckAuthoritativeMessageExistsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.f===a[1]&&b.i64.eq(d.V,c(g()))}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],d[0]=b[0],b):(a.item,b=[!0],d[0]=b[0],b)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.neq(d.c,void 0)&&b.i64.neq(d.d,void 0)&&(b.i64.eq(d.V,c(j()))||b.i64.eq(d.V,c(i())))}).count().then(function(a){return d[0]=a})},function(e){return b.i64.eq(d[0],c(h()))?b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.V,c(g()))&&b.i64.neq(d.d,void 0)}).forEach(function(a){var b=a.update;a=a.item;return b({c:a.b,d:void 0})}):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxClearLocalThreadPictureUrlStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.log("clearLocalThreadPictureUrl",[0,4]),b.db.table(9).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&!d.R&&(b.i64.eq(d.c,c(h()))||b.i64.eq(d.c,c(g())))&&d.f!==void 0&&b.like(d.f,"file:%")}).forEach(function(a){var b=a.update;a.item;return b({f:void 0})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxComposeThreadSnippetStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a,b,c,d,e,f,g,h,i,j,k,l=arguments,m=l[l.length-1];m.n;var n=[],o=[];return l[0]!==void 0?(l[1]!==void 0||m.i64.neq(l[2],void 0)||l[3]!==void 0||l[4]!==void 0||l[5]!==void 0||m.i64.neq(l[6],void 0)?m.log("Inconsistent snippet data",[0,3]):0,a=[l[0]],n[1]=a[0],a):(b=[!0],n[2]=b[0],b,n[2]?(c=[m.createArray()],n[5]=c[0],c,l[5]!==void 0?([(n[5].push(l[5]),n[5])],[(n[5].push(": "),n[5])]):m.i64.neq(l[6],void 0)?(d=[m.localize(l[6],void 0)],n[9]=d[0],d,[(n[5].push(n[9]),n[5])],[(n[5].push(": "),n[5])]):0,l[1]!==void 0?[(n[5].push(l[1]),n[5])]:m.i64.neq(l[2],void 0)?(e=[m.createArray()],n[9]=e[0],e,l[3]!==void 0?[(n[9].push(l[3]),n[9])]:0,l[4]!==void 0?[(n[9].push(l[4]),n[9])]:0,f=[m.localize(l[2],n[9])],n[10]=f[0],f,[(n[5].push(n[10]),n[5])]):0,g=[n[5].join("")],n[8]=g[0],g,h=[n[8]],n[4]=h[0],h):(i=[l[1]==null?"":l[1]],n[4]=i[0],i),j=[n[4]],n[1]=j[0],j),k=[n[1]],o[0]=k[0],k,m.resolve(o)};e.exports=a}),null);
__d("LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,aa){function f(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);f=function(){return a};return a}function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["4c"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["30"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["30"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["3c"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["32"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["30"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["2e"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["1e"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1e"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["24"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1e"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);La=function(){return a};return a}function Ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ma=function(){return a};return a}function Na(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);Na=function(){return a};return a}function Oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Oa=function(){return a};return a}function Pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);Pa=function(){return a};return a}function Qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Qa=function(){return a};return a}function Ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Ra=function(){return a};return a}function Sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Sa=function(){return a};return a}function Ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ta=function(){return a};return a}function Ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);Ua=function(){return a};return a}function Va(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Va=function(){return a};return a}function Wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);Wa=function(){return a};return a}function Xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Xa=function(){return a};return a}function Ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Ya=function(){return a};return a}function Za(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Za=function(){return a};return a}function $a(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$a=function(){return a};return a}function ab(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);ab=function(){return a};return a}function bb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);bb=function(){return a};return a}function cb(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);cb=function(){return a};return a}function db(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);db=function(){return a};return a}function eb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);eb=function(){return a};return a}function fb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);fb=function(){return a};return a}function gb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);gb=function(){return a};return a}function hb(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);hb=function(){return a};return a}function ib(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ib=function(){return a};return a}function jb(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);jb=function(){return a};return a}function kb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);kb=function(){return a};return a}function lb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);lb=function(){return a};return a}function mb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);mb=function(){return a};return a}function nb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);nb=function(){return a};return a}function ob(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);ob=function(){return a};return a}function pb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);pb=function(){return a};return a}function qb(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);qb=function(){return a};return a}function rb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2e"]);rb=function(){return a};return a}function sb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);sb=function(){return a};return a}function tb(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);tb=function(){return a};return a}function ub(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ub=function(){return a};return a}function vb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);vb=function(){return a};return a}function wb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);wb=function(){return a};return a}function xb(){var a=babelHelpers.taggedTemplateLiteralLoose(["8087298a3e"]);xb=function(){return a};return a}function yb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);yb=function(){return a};return a}function zb(){var a=babelHelpers.taggedTemplateLiteralLoose(["7ffffffe"]);zb=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(aa){return b.seq([function(a){return a=[b.createArray()],d[0]=a[0],a,b.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(c){return b.db.table(14).getArr([[[a[0],{lt:d[1]}],[a[0],{gt:d[1]}]]]).filter(function(c){return b.i64.neq(c.b,d[1])&&b.i64.eq(c.a,a[0])}).forEach(function(c){var e=c.item;return b.seq([function(c){return b.sp("162",e.b,a[0]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return[(d[0].push(d[15]),d[0])]}])})},function(a){return d[2]=c(zb()),a=[b.i64.of_int32(d[0].length)],d[3]=a[0],a,b.i64.gt(d[3],c(yb()))?b.loopAsync(d[3],function(a){return d[15]=a,b.seq([function(a){return b.ntop("Array",3,d[0],d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[2]=b.i64.and_(d[16],d[2])}])}):b.resolve()},function(e){return e=[b.i64.of_int32(d[0].length)],d[4]=e[0],e,d[5]=c(xb()),d[6]=c(wb()),b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[5],c(vb())],d[7]=e[0],d[8]=e[1],e):(b=a.item,e=[d[5],b.c],d[7]=e[0],d[8]=e[1],e)})},function(a){return d[10]=b.i64.lsl_(c(ub()),b.i64.to_int32(c(tb()))),d[11]=b.i64.lsl_(c(sb()),b.i64.to_int32(c(rb()))),a=[b.createArray()],d[12]=a[0],a,[(d[12].push(b.i64.eq(c(qb()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(pb()),b.i64.to_int32(c(ob()))),d[2]),c(nb()))?b.i64.lsl_(c(mb()),b.i64.to_int32(c(lb()))):c(kb())),d[12])],[(d[12].push(b.i64.eq(c(jb()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(ib()),b.i64.to_int32(c(hb()))),d[2]),c(gb()))?b.i64.lsl_(c(fb()),b.i64.to_int32(c(eb()))):c(db())),d[12])],[(d[12].push(b.i64.eq(c(cb()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(bb()),b.i64.to_int32(c(ab()))),d[2]),c($a()))?b.i64.lsl_(c(Za()),b.i64.to_int32(c(Ya()))):c(Xa())),d[12])],[(d[12].push(b.i64.eq(c(Wa()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(Va()),b.i64.to_int32(c(Ua()))),d[2]),c(Ta()))?b.i64.lsl_(c(Sa()),b.i64.to_int32(c(Ra()))):c(Qa())),d[12])],[(d[12].push(b.i64.eq(c(Pa()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(Oa()),b.i64.to_int32(c(Na()))),d[2]),c(Ma()))?b.i64.lsl_(c(La()),b.i64.to_int32(c(Ka()))):c(Ja())),d[12])],[(d[12].push(b.i64.eq(c(Ia()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(Ha()),b.i64.to_int32(c(Ga()))),d[2]),c(Fa()))?b.i64.lsl_(c(Ea()),b.i64.to_int32(c(Da()))):c(Ca())),d[12])],[(d[12].push(b.i64.eq(c(Ba()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(Aa()),b.i64.to_int32(c(za()))),d[2]),c(ya()))?b.i64.lsl_(c(xa()),b.i64.to_int32(c(wa()))):c(va())),d[12])],[(d[12].push(b.i64.eq(c(ua()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(ta()),b.i64.to_int32(c(sa()))),d[2]),c(ra()))?b.i64.lsl_(c(qa()),b.i64.to_int32(c(pa()))):c(oa())),d[12])],[(d[12].push(b.i64.eq(c(na()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(ma()),b.i64.to_int32(c(la()))),d[2]),c(ka()))?b.i64.lsl_(c(ja()),b.i64.to_int32(c(ia()))):c(ha())),d[12])],[(d[12].push(b.i64.eq(c(ga()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(fa()),b.i64.to_int32(c(ea()))),d[2]),c(da()))?b.i64.lsl_(c(ca()),b.i64.to_int32(c(ba()))):c($())),d[12])],[(d[12].push(b.i64.eq(c(Z()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(Y()),b.i64.to_int32(c(X()))),d[2]),c(W()))?b.i64.lsl_(c(V()),b.i64.to_int32(c(U()))):c(T())),d[12])],[(d[12].push(b.i64.eq(c(S()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(R()),b.i64.to_int32(c(Q()))),d[2]),c(P()))?b.i64.lsl_(c(O()),b.i64.to_int32(c(N()))):c(M())),d[12])],[(d[12].push(b.i64.eq(c(L()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(K()),b.i64.to_int32(c(J()))),d[2]),c(I()))?b.i64.lsl_(c(H()),b.i64.to_int32(c(G()))):c(F())),d[12])],[(d[12].push(b.i64.eq(c(E()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(D()),b.i64.to_int32(c(C()))),d[2]),c(B()))?b.i64.lsl_(c(A()),b.i64.to_int32(c(z()))):c(y())),d[12])],[(d[12].push(b.i64.eq(void 0,void 0)||b.i64.neq(b.i64.and_(c(x()),d[2]),c(w()))?b.i64.lsl_(c(v()),b.i64.to_int32(c(u()))):c(t())),d[12])],[(d[12].push(b.i64.eq(c(s()),void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_(c(r()),b.i64.to_int32(c(q()))),d[2]),c(p()))?b.i64.lsl_(c(o()),b.i64.to_int32(c(n()))):c(m())),d[12])],d[13]=c(l()),a=[b.i64.of_int32(d[12].length)],d[14]=a[0],a,b.i64.gt(d[14],c(k()))?b.loopAsync(d[14],function(a){return d[15]=a,b.seq([function(a){return b.ntop("Array",3,d[12],d[15]).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[13]=b.i64.add(d[16],d[13])}])}):b.resolve()},function(a){return a=[b.i64.and_(d[13],b.i64.and_(b.i64.eq(d[8],c(j()))?b.i64.eq(d[4],c(i())):b.i64.eq(b.i64.and_(d[7],d[10]),c(h()))?d[7]:b.i64.sub(d[7],d[10]),b.i64.eq(d[8],c(g()))?b.i64.eq(b.i64.and_(d[7],d[11]),c(f()))?d[7]:b.i64.sub(d[7],d[11]):d[7]))],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("message_id",a[0])],[d[0].set("cta_id",a[1])],[d[0].set("cta_index",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","account_link_encoded_url_create",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["9e"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("action_url",a[1])],[d[0].set("cta_id",a[2])],[d[0].set("attachment_fbid",a[3])],[d[0].set("attachment_index",a[4])],[d[0].set("message_id",a[5])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","account_link_encoded_url_create_v2",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateMeetingPlanStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["188"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("meeting_time",a[1])],[d[0].set("location",a[2])],[d[0].set("notes",a[3])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","marketplace_create_meeting_plan",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateOfflineThreadingIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["fffffffffffffffe"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7ffffe"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2c"]);i=function(){return a};return a}a=function(){var a,b,c=arguments,d=c[c.length-1],e=d.n,f=[],j=[];return a=[d.i64.random()],f[0]=a[0],a,b=[d.i64.and_(d.i64.or_(d.i64.lsl_(c[0],d.i64.to_int32(e(i()))),d.i64.and_(f[0],e(h()))),e(g()))],j[0]=b[0],b,d.resolve(j)};e.exports=a}),null);
__d("LSMailboxDeleteAllReactionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteCTAsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(16).getArr([[[a[1],a[0],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&c.c===a[0]&&c.e===a[2]}).forEach(function(a){var b=a.update;a.item;return b({r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteExpiredMSuggestionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(21).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.lt(c.f,b.i64.of_float(Date.now()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteFocusModeCtaStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(30).getArr([[[a[0],a[1],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.b===a[1]&&b.i64.eq(c.c,a[2])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(34).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return c.e===a[1]&&b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeletePollDataStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(38).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteReactionStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(8).getArr([[[a[0],a[1],a[2]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&b.i64.eq(d.d,a[2])&&b.i64.eq(c(h()),c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(24).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcOngoingCallDataStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(23).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])&&b.i64.gt(d.d,a[3])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(26).put({a:a[0],b:a[1],d:a[3],c:a[2]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAttachmentStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(16).getArr([[[a[32],a[37],a[40]]]]).filter(function(d){return b.i64.eq(d.a,a[32])&&b.i64.eq(c(h()),a[33])&&d.c===a[37]&&b.i64.eq(c(g()),a[38])&&d.e===a[40]&&b.i64.gt(d.bU,a[109])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(16).put({a:a[32],c:a[37],e:a[40],h:a[1],i:a[2],j:a[3],k:a[4],A:a[5],B:a[6],C:a[7],D:a[8],F:a[10],G:a[11],H:a[12],I:a[13],J:a[15],K:a[16],L:a[17],X:a[19],Y:a[20],Z:a[21],ba:a[22],bb:a[23],bc:a[24],bd:a[25],be:a[26],bi:a[27],f:a[34],b:a[36],d:a[39],l:a[41],m:a[42],n:a[43],o:a[44],p:a[45],q:a[46],r:a[48],s:a[49],t:a[50],u:a[52],v:a[53],w:a[54],x:a[56],y:a[57],z:a[58],M:a[59],N:a[60],O:a[61],Q:a[62],R:a[63],S:a[64],T:a[65],U:a[66],V:a[67],W:a[68],bf:a[69],bg:a[70],bh:a[71],g:a[72],bU:a[109],E:a[9],P:a[18],bj:a[28],bk:a[29],bJ:a[30],bT:a[31],bl:a[74],bm:a[75],bn:a[76],bo:a[77],bp:a[78],bq:a[79],br:a[80],bs:a[81],bt:a[82],bv:a[83],bw:a[84],bx:a[85],by:a[86],bz:a[87],bA:a[88],bC:a[89],bD:a[90],bE:a[91],bF:a[92],bG:a[93],bH:a[94],bK:a[95],bO:a[96],bP:a[97],bL:a[98],bM:a[99],bN:a[100],bQ:a[101],bR:a[102],bS:a[103],bV:a[107],bW:a[108]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("76").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(30).put({a:a[0],b:a[1],c:c[0],e:a[3],d:a[2],f:a[4],g:"focus_mode_exit",h:a[6]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertMessageStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).filter(function(b){return b.f===a[9]}).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],W:a[1],V:a[2],c:a[6],d:a[7],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52]}):(d=c.item,b.i64.le(d.V,a[2])?b.db.table(12).put({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],W:a[1],V:a[2],c:d.c,d:d.d,h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52]}):b.resolve())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(i()),void 0],d[0]=e[0],d[1]=e[1],e):(b=a.item,e=[b.A,b.V],d[0]=e[0],d[1]=e[1],e)})},function(a){return b.db.table(9).getArr([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(a){return b.i64.eq(a.A,d[0])}).count().then(function(a){return d[3]=a})},function(e){return a[1]&&b.i64.neq(d[0],c(h()))&&b.i64.eq(d[3],c(g()))?b.seq([function(c){return b.db.table(9).getArr([[[a[0]],[d[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])||b.i64.eq(c.a,d[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.i64.neq(d[1],void 0)?b.db.table(46).getArr([[[d[1]]]]).filter(function(a){return b.i64.eq(a.a,d[1])}).forEach(function(a){return a["delete"]()}):b.resolve()}]):b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.i64.neq(d[1],void 0)?b.db.table(46).getArr([[[d[1]]]]).filter(function(a){return b.i64.eq(a.a,d[1])}).forEach(function(a){return a["delete"]()}):b.resolve()}])}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxFetchMultiwayConferenceNameStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("group_thread_id",a[0])],[d[0].set("peer_id",a[1])],[d[0].set("is_video_call",a[2])],[d[0].set("call_trigger",a[3])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","rtc_fetch_multiway_conference_name",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(16).getArr().filter(function(d){return d.bJ===a[0]&&b.i64.eq(d.bU,c(g()))}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[0]=c[0],c):(b=a.item,c=[b.e],d[0]=c[0],c)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(30).getArr().sortBy([["c","DESC"]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[c(h())],d[0]=f[0],f):(e=a.item,f=[b.i64.add(e.c,c(g()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(29).getArrDesc().next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[c(h())],d[0]=f[0],f):(e=a.item,f=[b.i64.add(e.a,c(g()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetParentThreadKeyStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(g())],d[0]=e[0],e):(b=a.item,e=[b.A],d[0]=e[0],e)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxGetThreadAttributionInfoStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(31).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(h()),void 0,void 0],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(b=a.item,e=[b.e==null?c(g()):b.e,b.g,b.h],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(a){return a=[d[0],d[1],d[2]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxHandleRepliesOnUnsendStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["94"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.r===a[1]}).forEach(function(a){a=a.item;return[(d[0].push(a.e),d[0])]})},function(e){return e=[b.i64.of_int32(d[0].length)],d[1]=e[0],e,(b.i64.eq(d[1],c(i()))?!0:!1)?b.resolve():(e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],[d[2].set("message_id",a[1])],[d[2].set("reply_message_ids",d[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","update_replies_on_unsend",c(h()),d[3],void 0,void 0,c(g()),void 0))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxInsertCtaStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(15).add({a:a[0],b:a[1],c:a[3],d:a[4],e:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertIntoAdminApprovalQueueStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(j()),c(i()))&&b.i64.eq(d.b,a[1])&&b.i64.lt(d.d,c(h()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(26).add({a:a[0],b:a[1],d:c(g()),c:a[2]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.i64.eq(a[2],c(g()))?b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],V:a[2],c:a[6],d:a[7],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],n:a[18],o:a[19],p:a[20],r:a[22],s:a[23],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],W:a[1],X:a[17],q:a[21],t:a[24],U:a[52]}):b.seq([function(c){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).filter(function(b){return b.f===a[9]}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[6],a[7]],d[1]=e[0],d[2]=e[1],e):(c=b.item,e=[c.c,c.d],d[1]=e[0],d[2]=e[1],e)})},function(c){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).filter(function(c){return c.f===a[9]&&b.i64.lt(c.V,a[2])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],V:a[2],c:d[1],d:d[2],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],n:a[18],o:a[19],p:a[20],r:a[22],s:a[23],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],W:a[1],X:a[17],q:a[21],t:a[24],U:a[52]})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxInsertOptimisticAttachmentStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(16).getArr([[[a[0],a[2],a[4]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(m()),c(l()))&&d.c===a[2]&&b.i64.eq(c(k()),c(j()))&&d.e===a[4]&&b.i64.lt(d.bU,c(i()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(16).add({a:a[0],c:a[2],e:a[4],b:a[1],d:a[3],f:a[5],h:a[6],X:a[7],j:a[8],k:!1,l:a[9],bU:c(h())})},function(d){return b.sp("90",a[0],a[2],a[1],void 0,!1,b.i64.eq(a[5],c(g())))}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure",[],(function(a,b,c,d,e,f){function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["a"]);a=function(){return b};return b}b=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(a){return b.resolve()},function(a){return b.resolve(d)}])};e.exports=b}),null);
__d("LSMailboxInsertRtcSignalStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(22).add({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxIssueParticipantPointQueryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["22"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("table","14")],[d[0].set("type",c(j()))],[d[0].set("1",a[0])],[d[0].set("2",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","ppq",c(i()),d[1],void 0,void 0,c(h()),c(g()))},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssueSendAttachmentMessageTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return e=[b.i64.of_int32(a[5].length)],d[0]=e[0],e,b.i64.gt(d[0],c(l()))?b.loopAsync(d[0],function(e){return d[10]=e,b.seq([function(c){return b.ntop("Array",3,a[5],d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(e){return b.db.table(16).getArr([[[a[1],a[3]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&e.c===a[3]&&b.i64.eq(e.be,d[10])&&b.i64.eq(e.bU,c(k()))}).forEach(function(a){var c=a.update;a.item;return c({e:b.i64.to_string(d[11])})})}])}):b.resolve()},function(e){return a[9]?(e=[c(j())],d[2]=e[0],e):(e=[c(i())],d[2]=e[0],e),e=[new b.Map()],d[3]=e[0],e,[d[3].set("thread_id",a[1])],[d[3].set("otid",a[3])],[d[3].set("text",a[4])],[d[3].set("attachment_fbids",a[5])],[d[3].set("send_type",d[2])],[d[3].set("source",a[6])],d[7]=a[10]===""?void 0:a[10],d[7]!==void 0?[d[3].set("platform_ref",d[7])]:0,d[8]=a[11]===""?void 0:a[11],d[8]!==void 0?[d[3].set("platform_token",d[8])]:0,d[9]=a[7]===""?void 0:a[7],d[9]!==void 0?b.i64.neq(a[8],void 0)?(e=[new b.Map()],d[10]=e[0],e,[d[10].set("reply_source_id",d[9])],[d[10].set("reply_source_type",a[8])],[d[3].set("reply_metadata",d[10])]):0:0,e=[d[3].get("thread_id"),d[3]],d[4]=e[0],e,e=[b.toJSON(d[3])],d[5]=e[0],e,b.sp("2",b.i64.to_string(d[4]),c(h()),d[5],void 0,void 0,c(g()),void 0).then(function(a){return a=a,d[6]=a[0],a})},function(c){return b.db.table(31).add({a:d[6],b:a[1],c:a[3],e:a[6],g:a[10],h:a[11],i:a[7],j:a[8],k:d[2],l:!1})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssueSetThreadImageTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("image_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","thread_image",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);u=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.sp("154",b.i64.of_float(Date.now())).then(function(a){return a=a,d[0]=a[0],a})},function(a){return b.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(a){return b.db.table(9).getArr([[[d[0]]]]).filter(function(a){return b.i64.eq(a.a,d[0])&&b.i64.lt(a.Z,c(u()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(9).add({a:d[0],b:c(t()),c:c(s()),O:d[0],e:"inbox",A:c(r()),i:c(q()),j:c(p()),I:!1,o:d[1],u:c(o()),Z:c(n()),B:a[1],d:a[2]})},function(e){return e=[b.i64.of_int32(a[0].length)],d[2]=e[0],e,b.i64.gt(d[2],c(m()))?b.loopAsync(d[2],function(e){return d[3]=e,b.seq([function(c){return b.ntop("Array",3,a[0],d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return b.db.table(14).getArr([[[d[0],d[4]]]]).filter(function(a){return b.i64.eq(a.a,d[0])&&b.i64.eq(c(l()),c(k()))&&b.i64.eq(a.b,d[4])&&b.i64.lt(a.j,c(j()))}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(14).add({a:d[0],b:d[4],c:c(i()),d:c(h()),j:c(g())})}])}):b.resolve()},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["61cc1c3707d0ed54"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["6d1d0c978dcaacc4"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["69897636a3afcf48"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a435aa818a019ec"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["c855937e8e4a2c04"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);pa=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return d[8]=b.i64.of_float(Date.now()),void 0!==void 0?b.resolve((a=[void 0],d[1]=a[0],a)):b.seq([function(a){return b.sp("154",d[8]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return a=[b.i64.to_string(d[10])],d[1]=a[0],a}])},function(e){return d[9]=a[4]==null?a[3]:a[4],b.seq([function(a){return b.db.table(9).getArrDesc([[[]],"lastActivityTimestampMs"]).slice(0,b.i64.to_float(c(pa()))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(oa())],d[10]=e[0],e):(b=a.item,e=[b.i],d[10]=e[0],e)})},function(e){return d[12]=b.i64.add(d[10],c(na())),d[14]=b.i64.gt(d[8],d[12])?d[8]:d[12],b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?b.seq([function(d){return b.log("localApplyOptimisticMessage insert optimistic thread",[0,4]),b.db.table(9).getArr([[[a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.lt(d.Z,c(ma()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(9).add({a:a[1],b:c(la()),c:a[2],O:a[1],e:"inbox",A:c(ka()),i:d[14],j:d[14],m:d[9],I:a[5]==null?!1:a[5],o:a[0],u:c(ja()),Z:c(ia())})},function(d){return b.i64.eq(a[2],c(ha()))||b.i64.eq(a[2],c(ga()))||b.i64.eq(a[2],c(fa()))?b.seq([function(d){return b.db.table(14).getArr([[[a[1],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(ea()),c(da()))&&b.i64.eq(d.b,a[1])&&b.i64.lt(d.j,c(ca()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(14).add({a:a[1],b:a[1],c:c(ba()),d:c(aa()),j:c($())})}]):b.resolve()},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[15]=c[0],c):(b=a.item,c=[b.c],d[15]=c[0],c)})},function(a){return d[15]===!0?(a=[!0],d[17]=a[0],a,d[17]?(a=[b.localize(c(Z()),void 0)],d[23]=a[0],a,a=[d[23]],d[19]=a[0],a):(a=["Messenger Is Offline"],d[19]=a[0],a),a=[!0],d[20]=a[0],a,d[20]?(a=[b.localize(c(Y()),void 0)],d[23]=a[0],a,a=[d[23]],d[22]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[22]=a[0],a),b.sp("11",void 0,c(X()),d[19],d[22])):b.resolve()}]):(e.item,b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq(c.c,a[2])}).forEach(function(b){var c=b.update;b.item;return c({i:d[14],j:d[14],m:d[9],I:a[5]==null?!1:a[5],o:a[0],p:void 0,q:void 0,r:void 0,s:void 0})}))})}])},function(e){return b.seq([function(e){return b.db.table(12).getArrDesc([[[a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&(b.i64.eq(d.V,c(W()))||b.i64.eq(d.V,c(V()))||b.i64.eq(d.V,c(U())))}).slice(0,b.i64.to_float(c(T()))).next().then(function(a,c){var e=a.done;a=a.value;return e?(e=[b.i64.of_float(Date.now())],d[10]=e[0],e):(c=a.item,e=[c.c],d[10]=e[0],e)})},function(e){return a[8]!==void 0&&(b.i64.eq(a[9],c(S()))||b.i64.eq(a[10],c(R())))?b.seq([function(e){return b.db.table(12).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&c.e===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c(Q()),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[36]=g[0],d[37]=g[1],d[38]=g[2],d[39]=g[3],d[40]=g[4],d[41]=g[5],d[42]=g[6],d[43]=g[7],d[44]=g[8],d[45]=g[9],d[46]=g[10],d[47]=g[11],d[48]=g[12],d[49]=g[13],d[50]=g[14],g):(f=e.item,b.seq([function(e){return d[56]=f.h,d[55]=f.i,b.i64.neq(d[55],void 0)?(e=[d[55],c(P())],d[58]=e[0],d[59]=e[1],e):(e=[void 0,void 0],d[58]=e[0],d[59]=e[1],e),e=[d[58],d[59]],d[52]=e[0],d[53]=e[1],e,b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[58]=a[0],a})},function(e){return b.i64.eq(a[0],d[58])?b.seq([function(e){return b.i64.eq(d[56],d[58])?b.resolve((e=[!0],d[63]=e[0],e,d[63]?(e=[b.localize(c(O()),void 0)],d[66]=e[0],e,e=[d[66]],d[65]=e[0],e):(e=["You replied to yourself"],d[65]=e[0],e),e=[d[65]],d[62]=e[0],e)):b.seq([function(e){return b.seq([function(e){return b.db.table(14).getArr([[[a[1],d[56]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(c(N()),c(M()))&&b.i64.eq(e.b,d[56])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[67]=a[0],a):(c=b.item,a=[c.e],d[67]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[56]]]]).filter(function(a){return b.i64.eq(a.a,d[56])&&b.i64.eq(c(L()),c(K()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[71]=a[0],a,d[71]?(a=[b.localize(c(J()),void 0)],d[74]=a[0],a,a=[d[74]],d[73]=a[0],a):(a=["Facebook User"],d[73]=a[0],a),a=[d[73]],d[69]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[69]=a[0],a)})},function(a){return a=[d[67]==null?d[69]:d[67]],d[63]=a[0],a}])},function(a){return a=[!0],d[64]=a[0],a,d[64]?(a=[b.createArray()],d[67]=a[0],a,[(d[67].push(d[63]),d[67])],a=[b.localize(c(I()),d[67])],d[68]=a[0],a,a=[d[68]],d[66]=a[0],a):(a=["You replied to %@"],d[66]=a[0],a),a=[d[66]],d[62]=a[0],a}])},function(a){return a=[d[62]],d[60]=a[0],a}]):b.seq([function(e){return b.seq([function(e){return b.db.table(14).getArr([[[a[1],a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(H()),c(G()))&&b.i64.eq(d.b,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[64]=a[0],a):(c=b.item,a=[c.e],d[64]=a[0],a)})},function(e){return b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(F()),c(E()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[68]=a[0],a,d[68]?(a=[b.localize(c(D()),void 0)],d[71]=a[0],a,a=[d[71]],d[70]=a[0],a):(a=["Facebook User"],d[70]=a[0],a),a=[d[70]],d[66]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[66]=a[0],a)})},function(a){return a=[d[64]==null?d[66]:d[64]],d[61]=a[0],a}])},function(e){return b.i64.eq(d[56],d[58])?b.resolve((e=[!0],d[64]=e[0],e,d[64]?(e=[b.createArray()],d[67]=e[0],e,[(d[67].push(d[61]),d[67])],e=[b.localize(c(C()),d[67])],d[68]=e[0],e,e=[d[68]],d[66]=e[0],e):(e=["%@ replied to you"],d[66]=e[0],e),e=[d[66]],d[63]=e[0],e)):b.seq([function(e){return b.i64.eq(a[0],d[56])?b.resolve((e=[!0],d[66]=e[0],e,d[66]?(e=[b.createArray()],d[69]=e[0],e,[(d[69].push(d[61]),d[69])],e=[b.localize(c(B()),d[69])],d[70]=e[0],e,e=[d[70]],d[68]=e[0],e):(e=["%@ replied to themselves"],d[68]=e[0],e),e=[d[68]],d[65]=e[0],e)):b.seq([function(e){return b.seq([function(e){return b.db.table(14).getArr([[[a[1],d[56]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(c(A()),c(z()))&&b.i64.eq(e.b,d[56])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[70]=a[0],a):(c=b.item,a=[c.e],d[70]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[56]]]]).filter(function(a){return b.i64.eq(a.a,d[56])&&b.i64.eq(c(y()),c(x()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[74]=a[0],a,d[74]?(a=[b.localize(c(w()),void 0)],d[77]=a[0],a,a=[d[77]],d[76]=a[0],a):(a=["Facebook User"],d[76]=a[0],a),a=[d[76]],d[72]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[72]=a[0],a)})},function(a){return a=[d[70]==null?d[72]:d[70]],d[66]=a[0],a}])},function(a){return a=[!0],d[67]=a[0],a,d[67]?(a=[b.createArray()],d[70]=a[0],a,[(d[70].push(d[61]),d[70])],[(d[70].push(d[66]),d[70])],a=[b.localize(c(v()),d[70])],d[71]=a[0],a,a=[d[71]],d[69]=a[0],a):(a=["%@ replied to %@"],d[69]=a[0],a),a=[d[69]],d[65]=a[0],a}])},function(a){return a=[d[65]],d[63]=a[0],a}])},function(a){return a=[d[63]],d[60]=a[0],a}])},function(a){return a=[d[60]],d[57]=a[0],a}])},function(e){return e=[b.i64.eq(a[10],c(u()))?d[57]:""],d[54]=e[0],e}])},function(b){return b=[a[8],a[9],a[10],c(t()),d[54],d[56],f.g,d[52],d[53],void 0,void 0,void 0,void 0,void 0,void 0],d[36]=b[0],d[37]=b[1],d[38]=b[2],d[39]=b[3],d[40]=b[4],d[41]=b[5],d[42]=b[6],d[43]=b[7],d[44]=b[8],d[45]=b[9],d[46]=b[10],d[47]=b[11],d[48]=b[12],d[49]=b[13],d[50]=b[14],b}]))})},function(a){return a=[d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48],d[49],d[50]],d[13]=a[0],d[14]=a[1],d[15]=a[2],d[16]=a[3],d[17]=a[4],d[18]=a[5],d[19]=a[6],d[20]=a[7],d[21]=a[8],d[22]=a[9],d[23]=a[10],d[24]=a[11],d[25]=a[12],d[26]=a[13],d[27]=a[14],a}]):b.resolve((a[8]===void 0||b.i64.eq(a[9],c(s()))||b.i64.eq(a[10],c(r()))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[37]=e[0],d[38]=e[1],d[39]=e[2],d[40]=e[3],d[41]=e[4],d[42]=e[5],d[43]=e[6],d[44]=e[7],d[45]=e[8],d[46]=e[9],d[47]=e[10],d[48]=e[11],d[49]=e[12],d[50]=e[13],d[51]=e[14],e):(e=[a[8],a[9],a[10],c(q()),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[37]=e[0],d[38]=e[1],d[39]=e[2],d[40]=e[3],d[41]=e[4],d[42]=e[5],d[43]=e[6],d[44]=e[7],d[45]=e[8],d[46]=e[9],d[47]=e[10],d[48]=e[11],d[49]=e[12],d[50]=e[13],d[51]=e[14],e),e=[d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48],d[49],d[50],d[51]],d[13]=e[0],d[14]=e[1],d[15]=e[2],d[16]=e[3],d[17]=e[4],d[18]=e[5],d[19]=e[6],d[20]=e[7],d[21]=e[8],d[22]=e[9],d[23]=e[10],d[24]=e[11],d[25]=e[12],d[26]=e[13],d[27]=e[14],e))},function(e){return a[11]?(e=[!1],d[29]=e[0],e):(e=[!0],d[29]=e[0],e),d[29]?(e=[void 0,void 0,void 0,void 0],d[31]=e[0],d[32]=e[1],d[33]=e[2],d[34]=e[3],e):(e=[a[11].get("mention_offsets"),a[11]],d[36]=e[0],e,e=[a[11].get("mention_lengths"),a[11]],d[37]=e[0],e,e=[a[11].get("mention_ids"),a[11]],d[38]=e[0],e,e=[a[11].get("mention_types"),a[11]],d[39]=e[0],e,e=[d[36],d[37],d[38],d[39]],d[31]=e[0],d[32]=e[1],d[33]=e[2],d[34]=e[3],e),b.i64.eq(c(p()),c(o()))?b.db.table(12).add({a:a[1],e:d[1],b:d[8],f:d[1],c:d[10],d:d[8],g:a[3],h:a[0],i:a[6],U:a[7],j:!1,k:c(n()),l:c(m()),V:c(l()),r:d[13],s:d[14],t:d[15],u:d[16],v:d[17],x:d[18],w:d[19],H:d[20],G:d[21],z:d[22],D:d[23],A:d[24],B:d[25],C:d[26],n:d[31],o:d[32],p:d[33],q:d[34]}):b.seq([function(a){return b.db.table(12).getArr([[[d[1]]],"optimistic"]).filter(function(a){return a.f===d[1]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[10],d[8]],d[36]=c[0],d[37]=c[1],c):(b=a.item,c=[b.c,b.d],d[36]=c[0],d[37]=c[1],c)})},function(a){return b.db.table(12).getArr([[[d[1]]],"optimistic"]).filter(function(a){return a.f===d[1]&&b.i64.lt(a.V,c(k()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(12).add({a:a[1],e:d[1],b:d[8],f:d[1],c:d[36],d:d[37],g:a[3],h:a[0],i:a[6],U:a[7],j:!1,k:c(j()),l:c(i()),V:c(h()),r:d[13],s:d[14],t:d[15],u:d[16],v:d[17],x:d[18],w:d[19],H:d[20],G:d[21],z:d[22],D:d[23],A:d[24],B:d[25],C:d[26],n:d[31],o:d[32],p:d[33],q:d[34]})}])}])},function(e){return e=[b.createArray()],d[2]=e[0],e,e=[(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2])],d[3]=e[0],e,e=[(d[2].push("localApplyOptimisticMessage"),d[2])],d[4]=e[0],e,e=[(d[2].push(a[1]),d[2])],d[5]=e[0],e,e=[(d[2].push(d[1]),d[2])],d[6]=e[0],e,e=[b.toJSON(d[2])],d[7]=e[0],e,b.log(d[7],[0,4]),a[12]?b.seq([function(e){return b.sp("89",a[1],d[1],d[8],b.i64.eq(a[2],c(g())))},function(c){return b.sp("90",a[1],d[1],d[8],a[3],!1,b.i64.neq(a[6],void 0))}]):b.resolve()},function(a){return a=[d[1],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalMarkThreadReadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[2]=f[0],f,f=[(c[2].push("ocalMarkThreadRead unable to find thread key in DB:"),c[2])],c[3]=f[0],f,f=[(c[2].push(a[0]),c[2])],c[4]=f[0],f,f=[b.toJSON(c[2])],c[5]=f[0],f,b.log(c[5],[0,3]),f=[void 0],c[0]=f[0],f):(e=d.item,b.seq([function(a){return c[4]=e.i,c[5]=e.j,c[6]=e.a,b.db.table(12).getArrDesc([[[c[6]]]]).filter(function(a){return b.i64.eq(a.a,c[6])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[b.createArray()],c[7]=a[0],a,a=[(c[7].push("localMarkThreadRead unable to find message with thread key in DB:"),c[7])],c[8]=a[0],a,a=[(c[7].push(c[6]),c[7])],c[9]=a[0],a,a=[b.toJSON(c[7])],c[10]=a[0],a,b.log(c[10],[0,3]),a=[void 0],c[2]=a[0],a):(e=d.item,b.seq([function(a){return c[16]=e.b,a=[b.createArray()],c[7]=a[0],a,a=[(c[7].push("localMarkThreadRead"),c[7])],c[8]=a[0],a,a=[(c[7].push("lastMessageTimestampMs"),c[7])],c[9]=a[0],a,a=[(c[7].push(c[16]),c[7])],c[10]=a[0],a,a=[(c[7].push("currentLastActivityTimestampMs"),c[7])],c[11]=a[0],a,a=[(c[7].push(c[4]),c[7])],c[12]=a[0],a,a=[(c[7].push("currentLastReadWatermarkTimestampMs"),c[7])],c[13]=a[0],a,a=[(c[7].push(c[5]),c[7])],c[14]=a[0],a,a=[b.toJSON(c[7])],c[15]=a[0],a,b.log(c[15],[0,4]),c[19]=b.i64.gt(c[16],c[4])?c[16]:c[4],b.i64.gt(c[19],c[5])?b.seq([function(a){return b.sp("48",c[19],c[6])},function(a){return a=[c[19]],c[18]=a[0],a}]):b.resolve((a=[void 0],c[18]=a[0],a))},function(a){return a=[c[18]],c[2]=a[0],a}]))})},function(a){return a=[c[2]],c[0]=a[0],a}]))})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkAllThreadsReadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr().filter(function(c){return b.i64.lt(c.j,c.i)&&c.e===a[0]}).forEach(function(a){var c=a.item;return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,c.a)}).forEach(function(a){var b=a.update;a.item;return b({j:c.i})})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(31).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,b.db.table(12).getArr([[[d.c]],"optimistic"]).filter(function(a){return d.c===a.f}).forEach(function(a){var b=a.update;a.item;return b({k:c(h()),l:c(g())})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkOptimisticMessageFailedStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(12).getArr().filter(function(d){return d.e===a[0]&&b.i64.eq(d.V,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({k:c(h()),l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkThreadUnreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){var h=e.done;e=e.value;return h?(h=[b.createArray()],d[2]=h[0],h,h=[(d[2].push("markThreadUnread unable to find thread key in DB:"),d[2])],d[3]=h[0],h,h=[(d[2].push(a[0]),d[2])],d[4]=h[0],h,h=[b.toJSON(d[2])],d[5]=h[0],h,b.log(d[5],[0,3]),h=[void 0],d[0]=h[0],h):(f=e.item,b.seq([function(a){return d[4]=f.i,d[5]=f.a,b.db.table(12).getArrDesc([[[d[5]]]]).filter(function(a){return b.i64.eq(a.a,d[5])}).next().then(function(e,i){var a=e.done;e=e.value;return a?(a=[b.createArray()],d[6]=a[0],a,a=[(d[6].push("markThreadUnread unable to find message with thread key in DB:"),d[6])],d[7]=a[0],a,a=[(d[6].push(d[5]),d[6])],d[8]=a[0],a,a=[b.toJSON(d[6])],d[9]=a[0],a,b.log(d[9],[0,3]),a=[void 0],d[2]=a[0],a):(i=e.item,b.seq([function(a){return d[6]=i.b,d[9]=b.i64.sub(b.i64.lt(d[6],d[4])?d[6]:d[4],c(g())),b.i64.lt(d[9],f.j)?b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({j:d[9]})})},function(a){return a=[d[9]],d[8]=a[0],a}]):b.resolve((a=[void 0],d[8]=a[0],a))},function(a){return a=[d[8]],d[2]=a[0],a}]))})},function(a){return a=[d[2]],d[0]=a[0],a}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({e:"inbox",A:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxOptimisticAcceptMessageRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["84"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var b=a.update;a.item;return b({e:"inbox",A:c(i())})})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","message_request",c(h()),d[1],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["66"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("ad_client_token",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","sponsored_message_ad_hide",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticExitFocusModeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["12c"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","focus_mode",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["82"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.A,c(i()))&&d.e==="pending"}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(c){return b.sp("55",a[0],!1)},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","message_request",c(h()),d[1],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["100"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.e==="inbox"}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(c){return b.sp("55",a[0],!1)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_id",a[0])],[d[2].set("request_id",void 0)],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","ignore_thread",c(h()),d[3],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("48",a[1],a[0])},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_id",a[0])],[d[0].set("last_read_watermark_ts",a[1])],e=[d[0].get("thread_id"),d[0]],d[1]=e[0],e,e=[b.toJSON(d[0])],d[2]=e[0],e,b.sp("1",b.i64.to_string(d[1]),c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveThreadImageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&(c.f!==void 0||b.i64.neq(c.h,void 0)||c.g!==void 0)}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(c){return b.sp("66",a[0],void 0,void 0,void 0,!1,!1)},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("image_id",void 0)],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","thread_image",c(h()),d[1],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],void 0,void 0,void 0,void 0,c(l()),void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return b.sp("33",a[1],d[1],d[0],d[0],a[6],c(k()),void 0,void 0,!0,!1)},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_id",a[1])],[d[2].set("otid",d[0])],[d[2].set("text",a[3])],[d[2].set("forwarded_share_id",a[6])],[d[2].set("send_type",c(j()))],[d[2].set("source",a[7])],e=[d[2].get("thread_id"),d[2]],d[3]=e[0],e,e=[b.toJSON(d[2])],d[4]=e[0],e,b.sp("2",b.i64.to_string(d[3]),c(i()),d[4],void 0,void 0,c(h()),void 0).then(function(a){return a=a,d[5]=a[0],a})},function(e){return b.db.table(31).add({a:d[5],b:a[1],c:d[0],e:a[7],k:c(g()),l:!1})},function(c){return c=[b.createArray()],d[6]=c[0],c,c=[(d[6].push("optimisticSendAttachmentShareForward"),d[6])],d[7]=c[0],c,c=[(d[6].push(a[1]),d[6])],d[8]=c[0],c,c=[(d[6].push(a[6]),d[6])],d[9]=c[0],c,c=[b.toJSON(d[6])],d[10]=c[0],c,b.log(d[10],[0,4]),c=[d[0]],e[0]=c[0],c}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendURLShareStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],void 0,void 0,void 0,void 0,void 0,void 0,!1).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return b.sp("33",a[1],d[1],d[0],d[0],d[0],c(k()),a[6],void 0,!1,!0)},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_id",a[1])],[d[2].set("otid",d[0])],[d[2].set("text",a[3])],[d[2].set("url",a[6])],[d[2].set("send_type",c(j()))],[d[2].set("source",a[7])],e=[d[2].get("thread_id"),d[2]],d[3]=e[0],e,e=[b.toJSON(d[2])],d[4]=e[0],e,b.sp("2",b.i64.to_string(d[3]),c(i()),d[4],void 0,void 0,c(h()),void 0).then(function(a){return a=a,d[5]=a[0],a})},function(e){return b.db.table(31).add({a:d[5],b:a[1],c:d[0],e:a[7],k:c(g()),l:!1})},function(c){return c=[b.createArray()],d[6]=c[0],c,c=[(d[6].push("optimisticSendURLShare"),d[6])],d[7]=c[0],c,c=[(d[6].push(a[1]),d[6])],d[8]=c[0],c,c=[(d[6].push(a[6]),d[6])],d[9]=c[0],c,c=[b.toJSON(d[6])],d[10]=c[0],c,b.log(d[10],[0,4]),c=[d[0]],e[0]=c[0],c}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUnarchiveThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1e4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(d){return b.sp("427",a[0],c(l()))},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","unarchive_thread",c(h()),d[3],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("136",a[0],a[1]===""?void 0:a[1],void 0)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],[d[2].set("custom_emoji",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","thread_custom_emoji",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["14c"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("177",a[0],a[1])},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("description",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","update_thread_description",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["150"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({W:a[1],X:a[1]===!0?d[0]:void 0})})},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("thread_key",a[0])],[d[1].set("is_disappearing_mode",a[1])],e=[d[1].get("thread_key"),d[1]],d[2]=e[0],e,e=[b.toJSON(d[1])],d[3]=e[0],e,b.sp("1",b.i64.to_string(d[2]),c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadNameStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["40"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("62",a[1],a[0],a[1])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[5]=a[0],a,d[5]?(a=[b.localize(c(k()),void 0)],d[11]=a[0],a,a=[d[11]],d[7]=a[0],a):(a=["Messenger Is Offline"],d[7]=a[0],a),a=[!0],d[8]=a[0],a,d[8]?(a=[b.localize(c(j()),void 0)],d[11]=a[0],a,a=[d[11]],d[10]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[10]=a[0],a),b.sp("11",void 0,c(i()),d[7],d[10])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],[d[2].set("thread_name",a[1])],e=[d[2].get("thread_key"),d[2]],d[3]=e[0],e,e=[b.toJSON(d[2])],d[4]=e[0],e,b.sp("1",b.i64.to_string(d[3]),c(h()),d[4],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["32"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.b,a[1])&&b.i64.eq(c.a,a[0])&&c.f===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?b.seq([function(c){return b.sp("407",a[0],a[1],a[2])},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("thread_key",a[0])],[d[1].set("contact_id",a[1])],[d[1].set("is_admin",a[2])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","admin_status",c(h()),d[2],void 0,void 0,c(g()),void 0)}]):(e.item,0)})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadThemeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["56"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({z:a[1]})})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],[d[2].set("theme_fbid",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","thread_theme",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxProcessAccountUnlinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["88"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("cta_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","process_account_unlink",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxProcessCTAAccountUnlinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("attachment_fbid",a[1])],[d[0].set("attachment_index",a[2])],[d[0].set("message_id",a[3])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","process_cta_account_unlink",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["20000000001"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["10000000001"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["20000000000"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["10000000000"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);t=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.Z,c(t()))}).forEach(function(a){var e=a.item;return b.seq([function(a){return d[5]=e.a,d[6]=e.P,a=[b.createArray()],d[0]=a[0],a,b.db.table(14).getArr([[[d[5]]]]).filter(function(a){return b.i64.eq(a.a,d[5])&&b.i64.eq(c(s()),c(r()))}).forEach(function(a){var e=a.item;return b.seq([function(a){return b.db.table(7).getArr([[[e.b]]]).filter(function(a){return b.i64.eq(a.a,e.b)&&b.i64.eq(c(q()),c(p()))}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[!1],d[7]=f[0],f):(e=a.item,d[9]=e.r,f=[b.i64.eq(d[9],c(o()))||b.i64.eq(d[9],c(n()))||b.i64.eq(d[9],c(m()))],d[7]=f[0],f)})},function(a){return[(d[0].push(d[7]),d[0])]}])})},function(a){return d[1]=!1,a=[b.i64.of_int32(d[0].length)],d[2]=a[0],a,b.i64.gt(d[2],c(l()))?b.loopAsync(d[2],function(a){return d[7]=a,b.seq([function(a){return b.ntop("Array",3,d[0],d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[1]=d[8]||d[1]}])}):b.resolve()},function(a){return d[1]&&b.i64.eq(e.c,c(k()))?(a=[b.i64.or_(b.i64.or_(d[6],c(j())),c(i()))],d[4]=a[0],a):(a=[b.i64.and_(b.i64.and_(d[6],c(h())),c(g()))],d[4]=a[0],a),b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({P:d[4]})})}])})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllParticipantsForThreadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(26).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveFromAdminApprovalQueueStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticGroupThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.Z,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticParticipantStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(i()),c(h()))&&b.i64.eq(d.b,a[1])&&b.i64.eq(d.j,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticReactionStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(8).getArr([[[a[0],a[1],a[2]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&b.i64.eq(d.d,a[2])&&b.i64.eq(c(i()),c(h()))&&b.i64.eq(d.f,c(g()))&&d.e===a[3]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveParticipantFromThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(40).getArr([[[a[1],a[0],a[2]]]]).filter(function(c){return b.i64.eq(c.b,a[0])&&b.i64.eq(c.a,a[1])&&b.i64.eq(c.c,a[2])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(39).getArr([[[a[1],a[0]]]]).filter(function(c){return b.i64.eq(c.b,a[0])&&b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({e:a[3],d:a[4]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[6],a[3],a[7]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("174",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticReactionStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(8).getArr([[[a[0],a[2],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[2]&&b.i64.eq(d.d,a[1])&&b.i64.eq(c(j()),c(i()))&&b.i64.le(d.f,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(9).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.le(d.Z,c(h()))}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],Z:c(g())})}):(d.item,b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimsiticMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(12).getArr().filter(function(d){return d.e===a[0]&&b.i64.eq(d.V,c(j()))}).forEach(function(b){var d=b.update;b.item;return d({e:a[1],V:c(i()),k:c(h()),l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxResetPageMessagingWindowStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["d8"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("page_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","reset_message_window",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRetryMessageRangeQueryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(13).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&a[2]?b.i64.eq(c.d,a[1])&&c.g===!0:b.i64.eq(c.b,a[1])&&c.f===!0}).next().then(function(e,f){var n=e.done;e=e.value;return n?0:(f=e.item,b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("1",f.a)],[d[0].set("2",f.b)],[d[0].set("3",f.c)],[d[0].set("4",f.d)],[d[0].set("5",f.e)],[d[0].set("6",f.f)],[d[0].set("7",f.g)],[d[0].set("8",f.h)],[d[0].set("9",f.i)],[d[0].set("table",c(m()))],[d[0].set("type",c(l()))],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("2",a[4],c(k()),d[1],void 0,void 0,c(j()),c(i())).then(function(a){return a=a,d[2]=a[0],a})},function(d){return b.db.table(3).add({a:a[4],b:c(h()),e:b.i64.of_float(Date.now()),f:a[3],g:c(g())})}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxRtcP2PEndCallStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["48"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("call_acknowledged",a[0])],[d[0].set("call_duration",a[1])],[d[0].set("call_id",a[2])],[d[0].set("call_message",a[3])],[d[0].set("call_start_time",a[4])],[d[0].set("call_type",a[5])],[d[0].set("caller_ended",a[6])],[d[0].set("conference_name",a[7])],[d[0].set("event_name",a[8])],[d[0].set("event_type",a[9])],[d[0].set("to",a[10])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","rtc_p2p_end_call",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSecureTemplateStatusUpdateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("user_action",a[0])],[d[0].set("encrypted_form_id",a[1])],[d[0].set("timestamp_ms",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("6","fire_forget",c(g()),d[1])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("token",a[0])],[d[0].set("only_show_admin_text",a[1])],[d[0].set("send_welcome_message",!1)],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","ctm_ad_from_app",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSendMessageV2FailureCleanupStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxSendPlatformReferralFireForgetEventStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("page_id",a[0])],[d[0].set("ref",a[1])],[d[0].set("channel_id",a[2])],[d[0].set("source",a[3])],[d[0].set("metadata",a[4])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("6","fire_forget",c(g()),d[1])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetMessageViewFlagsStoredProcedure",[],(function(a,b,c,d,e,aa){function f(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);f=function(){return a};return a}function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1f"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["20"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["124f80"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["1f"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["400000"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["29fa47c8c5434"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["29fa477c7a03c"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["29fa46e3e384c"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["200000"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Da=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(Da()),c(Ca()))&&b.i64.eq(d.b,a[2])&&d.e===a[1]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(Ba()),c(Aa()),c(za()),!1,"nonexistent",c(ya()),void 0,c(xa()),c(wa())],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,b.c,b.d==null?c(va()):b.d],d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],e)})},function(e){return b.db.table(12).getArr([[[a[0]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&e.e!==a[1]&&(b.i64.gt(e.c,d[7])||b.i64.eq(e.c,d[7])&&b.i64.ge(e.d==null?c(ua()):e.d,d[8]))}).sortBy([["d","ASC"],["b","ASC"]],["c"]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(ta()),c(sa()),c(ra()),!1,"nonexistent",c(qa()),void 0,c(pa()),c(oa())],d[10]=e[0],d[11]=e[1],d[12]=e[2],d[13]=e[3],d[14]=e[4],d[15]=e[5],d[16]=e[6],d[17]=e[7],d[18]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,c(na()),c(ma())],d[10]=e[0],d[11]=e[1],d[12]=e[2],d[13]=e[3],d[14]=e[4],d[15]=e[5],d[16]=e[6],d[17]=e[7],d[18]=e[8],e)})},function(e){return b.db.table(12).getArr([[[a[0]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&e.e!==a[1]&&(b.i64.lt(e.c,d[7])||b.i64.eq(e.c,d[7])&&b.i64.le(e.d==null?c(la()):e.d,d[8]))}).sortBy([["d","DESC"],["b","DESC"]],["c"]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(ka()),c(ja()),c(ia()),!1,"nonexistent",c(ha()),void 0,c(ga()),c(fa())],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],d[24]=e[4],d[25]=e[5],d[26]=e[6],d[27]=e[7],d[28]=e[8],e):(b=a.item,e=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,c(ea()),c(da())],d[20]=e[0],d[21]=e[1],d[22]=e[2],d[23]=e[3],d[24]=e[4],d[25]=e[5],d[26]=e[6],d[27]=e[7],d[28]=e[8],e)})},function(e){return d[34]=b.i64.or_(c(ca()),b.i64.or_(!d[3]&&!a[3]?c(ba()):c($()),b.i64.or_(d[3]?c(Y()):c(Z()),b.i64.or_(b.i64.eq(d[5],c(X()))||b.i64.eq(d[5],c(W()))?c(V()):c(U()),b.i64.neq(d[6],c(T()))&&b.i64.neq(d[6],c(S()))&&b.i64.neq(d[6],c(R()))?c(P()):c(Q()))))),d[14]!=="nonexistent"?b.seq([function(e){return d[37]=b.i64.or_(b.i64.and_(d[12],c(O())),b.i64.or_(b.i64.gt(b.i64.sub(d[10],d[0]),c(N()))?c(M()):c(L()),b.i64.or_(b.i64.eq(d[11],d[1])&&!d[13]&&!d[3]&&!b.i64.gt(b.i64.sub(d[10],d[0]),c(K()))?c(J()):c(I()),b.i64.or_(!a[3]&&!d[13]&&!(b.i64.eq(d[11],d[1])&&!d[13]&&!d[3]&&!b.i64.gt(b.i64.sub(d[10],d[0]),c(H())))?c(G()):c(F()),b.i64.and_(d[12],c(E())))))),d[35]=b.i64.eq(b.i64.and_(d[37],c(D())),c(C())),d[36]=d[35]?b.i64.or_(d[34],c(B())):d[34],b.db.table(12).getArr([[[a[0],d[10],d[14]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(c(A()),c(z()))&&b.i64.eq(e.b,d[10])&&e.e===d[14]}).forEach(function(a){var b=a.update;a.item;return b({P:d[37]})})},function(a){return a=[d[35]?b.i64.and_(d[36],c(y())):d[36]],d[31]=a[0],a}]):b.resolve((e=[d[34]],d[31]=e[0],e))},function(e){return d[24]!=="nonexistent"?b.seq([function(e){return d[37]=b.i64.or_(b.i64.and_(d[31],c(x())),b.i64.or_(b.i64.gt(b.i64.sub(d[0],d[20]),c(w()))?c(v()):c(u()),b.i64.or_(b.i64.eq(d[1],d[21])&&!d[3]&&!d[23]&&!b.i64.gt(b.i64.sub(d[0],d[20]),c(t()))?c(s()):c(r()),b.i64.or_(!a[3]&&!d[3]&&!(b.i64.eq(d[1],d[21])&&!d[3]&&!d[23]&&!b.i64.gt(b.i64.sub(d[0],d[20]),c(q())))?c(p()):c(o()),b.i64.and_(d[31],c(n())))))),d[35]=b.i64.eq(b.i64.and_(d[37],c(m())),c(l())),d[36]=d[35]?b.i64.or_(d[22],c(k())):d[22],b.db.table(12).getArr([[[a[0],d[20],d[24]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(c(j()),c(i()))&&b.i64.eq(e.b,d[20])&&e.e===d[24]}).forEach(function(a){var e=a.update;a.item;return e({P:d[35]?b.i64.and_(d[36],c(h())):d[36]})})},function(a){return a=[d[37]],d[33]=a[0],a}]):b.resolve((e=[d[31]],d[33]=e[0],e))},function(e){return b.db.table(12).getArr([[[a[0],d[0],d[4]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(c(g()),c(f()))&&b.i64.eq(e.b,d[0])&&e.e===d[4]}).forEach(function(a){var b=a.update;a.item;return b({P:d[33]})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetMessagesViewedPluginStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[2])&&d.e===a[1]}).forEach(function(b){var c=b.update;b.item;return c({R:a[3],S:a[4]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({t:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetPollsThreadCapabilityStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2000000001"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2000000000"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);p=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.Z,c(p()))}).forEach(function(a){var e=a.item;return b.seq([function(a){return d[5]=e.a,d[6]=e.P,a=[b.createArray()],d[0]=a[0],a,b.db.table(14).getArr([[[d[5]]]]).filter(function(a){return b.i64.eq(a.a,d[5])&&b.i64.eq(c(o()),c(n()))}).forEach(function(a){var e=a.item;return b.seq([function(a){return b.db.table(7).getArr([[[e.b]]]).filter(function(a){return b.i64.eq(a.a,e.b)&&b.i64.eq(c(m()),c(l()))}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[!1],d[7]=f[0],f):(e=a.item,f=[b.i64.eq(e.r,c(k()))],d[7]=f[0],f)})},function(a){return[(d[0].push(d[7]),d[0])]}])})},function(a){return d[1]=!1,a=[b.i64.of_int32(d[0].length)],d[2]=a[0],a,b.i64.gt(d[2],c(j()))?b.loopAsync(d[2],function(a){return d[7]=a,b.seq([function(a){return b.ntop("Array",3,d[0],d[7]).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[1]=d[8]||d[1]}])}):b.resolve()},function(a){return!d[1]&&b.i64.eq(e.c,c(i()))?(a=[b.i64.or_(d[6],c(h()))],d[4]=a[0],a):(a=[b.i64.and_(d[6],c(g()))],d[4]=a[0],a),b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,d[5])}).forEach(function(a){var b=a.update;a.item;return b({P:d[4]})})}])})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCannotUnsendReasonStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({L:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(d){var e=d.update;d.item;return e({P:b.i64.or_(c(i()),a[1]?c(h()):c(g()))})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSyncUpdateThreadNameStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(d.c,c(g()))}).forEach(function(b){var c=b.update;b.item;return c({d:a[0]===""?void 0:a[0].trim()})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerMuteThreadV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["120"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(32).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){var i=e.done;e=e.value;return i?(i=[b.createArray()],d[3]=i[0],i,i=[(d[3].push("TaskSerializerMuteThreadV2: Task ID not found"),d[3])],d[4]=i[0],i,i=[(d[3].push(a[0]),d[3])],d[5]=i[0],i,i=[b.toJSON(d[3])],d[6]=i[0],i,b.log(d[6],[0,3]),i=[void 0,void 0],d[0]=i[0],d[1]=i[1],i):(f=e.item,b.seq([function(a){return d[6]=f.b,b.db.table(9).getArr([[[d[6]]]]).filter(function(a){return b.i64.eq(a.a,d[6])}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[b.createArray()],d[7]=a[0],a,a=[(d[7].push("TaskSerializerMuteThreadV2: Thread not found"),d[7])],d[8]=a[0],a,a=[(d[7].push(d[6]),d[7])],d[9]=a[0],a,a=[b.toJSON(d[7])],d[10]=a[0],a,b.log(d[10],[0,3]),a=[void 0,void 0],d[3]=a[0],d[4]=a[1],a):(f=e.item,a=[new b.Map()],d[7]=a[0],a,[d[7].set("thread_key",d[6])],[d[7].set("mailbox_type",c(h()))],[d[7].set("mute_expire_time_ms",f.l)],e=[b.toJSON(d[7])],d[8]=e[0],e,a=[d[8],c(g())],d[3]=a[0],d[4]=a[1],a)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerRemoveThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["124"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(32).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){var h=e.done;e=e.value;return h?(h=[b.createArray()],d[3]=h[0],h,h=[(d[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),d[3])],d[4]=h[0],h,h=[(d[3].push(a[0]),d[3])],d[5]=h[0],h,h=[b.toJSON(d[3])],d[6]=h[0],h,b.log(d[6],[0,3]),h=[void 0,void 0],d[0]=h[0],d[1]=h[1],h):(f=e.item,d[6]=f.c,b.i64.neq(d[6],void 0)?(h=[new b.Map()],d[7]=h[0],h,[d[7].set("thread_key",f.b)],[d[7].set("remove_type",d[6])],e=[b.toJSON(d[7])],d[8]=e[0],e,h=[d[8],c(g())],d[4]=h[0],d[5]=h[1],h):(f=[void 0,void 0],d[4]=f[0],d[5]=f[1],f),e=[d[4],d[5]],d[0]=e[0],d[1]=e[1],e)})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerSendMessageV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["104"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);I=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(31).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){var J=e.done;e=e.value;return J?(J=[b.createArray()],d[3]=J[0],J,J=[(d[3].push("task ID not found"),d[3])],d[4]=J[0],J,J=[(d[3].push(a[0]),d[3])],d[5]=J[0],J,J=[b.toJSON(d[3])],d[6]=J[0],J,b.log(d[6],[0,3]),J=[void 0,void 0],d[0]=J[0],d[1]=J[1],J):(f=e.item,b.seq([function(e){return d[9]=f.c,d[10]=f.d,d[13]=f.e,d[7]=f.g,d[8]=f.h,d[6]=f.i,d[11]=f.j,d[12]=f.k,b.db.table(12).getArr([[[d[9]]],"optimistic"]).filter(function(a){return a.f===d[9]}).next().then(function(f,K){var e=f.done;f=f.value;return e?(e=[b.createArray()],d[14]=e[0],e,e=[(d[14].push("OTID not found"),d[14])],d[15]=e[0],e,e=[(d[14].push(d[9]),d[14])],d[16]=e[0],e,e=[b.toJSON(d[14])],d[17]=e[0],e,b.log(d[17],[0,3]),e=[void 0,void 0],d[3]=e[0],d[4]=e[1],e):(K=f.item,b.seq([function(e){return d[20]=K.g,d[18]=K.a,d[21]=K.e,d[19]=K.i,d[22]=K.n,d[23]=K.o,d[17]=K.p,d[24]=K.q,d[25]=K.U,b.db.table(9).getArr([[[d[18]]]]).filter(function(a){return b.i64.eq(a.a,d[18])}).next().then(function(f,L){var e=f.done;f=f.value;return e?(e=[b.createArray()],d[26]=e[0],e,e=[(d[26].push("thread not found"),d[26])],d[27]=e[0],e,e=[(d[26].push(d[18]),d[26])],d[28]=e[0],e,e=[b.toJSON(d[26])],d[29]=e[0],e,b.log(d[29],[0,3]),e=[void 0,void 0],d[14]=e[0],d[15]=e[1],e):(L=f.item,b.seq([function(e){return b.db.table(2).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(f,g){var e=f.done;f=f.value;return e?(e=[!1],d[26]=e[0],e):(g=f.item,b.seq([function(e){return b.db.table(2).getArr().filter(function(a){return a.b===g.b}).slice(0,b.i64.to_float(c(I()))).next().then(function(e,f){var c=e.done;e=e.value;return c?(c=[!1],d[31]=c[0],c):(f=e.item,c=[b.i64.eq(f.a,a[0])],d[31]=c[0],c)})},function(a){return a=[d[31]],d[26]=a[0],a}]))})},function(a){return b.i64.eq(L.Z,c(H()))&&b.i64.eq(L.c,c(G()))&&d[26]?b.seq([function(a){return d[33]=d[12]==null?c(F()):d[12],a=[new b.Map()],d[31]=a[0],a,[d[31].set("thread_id",d[18])],[d[31].set("otid",d[9])],[d[31].set("source",d[13]==null?c(E()):d[13])],[d[31].set("send_type",c(D()))],b.i64.eq(d[33],c(C()))?b.resolve([d[31].set("text",d[20])]):b.i64.eq(d[33],c(B()))?b.resolve(b.i64.neq(d[19],void 0)?([d[31].set("sticker_id",d[19])],[d[31].set("send_type",d[33])]):0):b.i64.eq(d[33],c(A()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[43]=a[0],d[44]=a[1],a):(c=b.item,a=[c.h,c.X],d[43]=a[0],d[44]=a[1],a)})},function(a){return d[43]!==void 0?b.i64.neq(d[44],void 0)?([d[31].set("url",d[43])],[d[31].set("attribution_app_id",d[44])],[d[31].set("send_type",d[33])]):0:0}]):b.i64.eq(d[33],c(z()))?b.seq([function(a){return[d[31].set("text",d[20])],a=[b.createArray()],d[44]=a[0],a,b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).forEach(function(a){a=a.item;return[(d[44].push(b.i64.from_string(a.e)),d[44])]})},function(a){return[d[31].set("attachment_fbids",d[44])],[d[31].set("send_type",d[33])]}]):b.i64.eq(d[33],c(y()))?b.seq([function(a){return[d[31].set("text",d[20])],a=[b.createArray()],d[45]=a[0],a,b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).forEach(function(a){a=a.item;return[(d[45].push(b.i64.from_string(a.e)),d[45])]})},function(a){return[d[31].set("attachment_fbids",d[45])],[d[31].set("send_type",d[33])]}]):b.i64.eq(d[33],c(x()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[46]=a[0],a):(c=b.item,a=[c.e],d[46]=a[0],a)})},function(a){return d[46]!==void 0?([d[31].set("text",d[20])],[d[31].set("forwarded_share_id",d[46])],[d[31].set("send_type",d[33])]):0}]):b.i64.eq(d[33],c(w()))?b.resolve(d[10]!==void 0?([d[31].set("forwarded_msg_id",d[10])],[d[31].set("send_type",d[33])]):0):b.i64.eq(d[33],c(v()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[48]=a[0],d[49]=a[1],a):(c=b.item,a=[c.h,c.X],d[48]=a[0],d[49]=a[1],a)})},function(a){return d[48]!==void 0?([d[31].set("url",d[48])],[d[31].set("text",d[20])],[d[31].set("send_type",d[33])]):0}]):b.resolve(0)},function(a){return d[37]=d[6]===""?void 0:d[6],d[37]!==void 0?b.i64.neq(d[11],void 0)?(a=[new b.Map()],d[41]=a[0],a,[d[41].set("reply_source_id",d[37])],[d[41].set("reply_source_type",d[11])],[d[31].set("reply_metadata",d[41])]):0:0,d[38]=d[17]===""?void 0:d[17],d[38]!==void 0?(d[41]=d[22]===""?void 0:d[22],d[41]!==void 0?(d[42]=d[23]===""?void 0:d[23],d[42]!==void 0?(a=[new b.Map()],d[43]=a[0],a,[d[43].set("mention_ids",d[38])],[d[43].set("mention_offsets",d[41])],[d[43].set("mention_lengths",d[42])],[d[43].set("mention_types",d[24]===""?void 0:d[24])],[d[31].set("mention_data",d[43])]):0):0):0,d[39]=d[7]===""?void 0:d[7],d[39]!==void 0?[d[31].set("platform_ref",d[39])]:0,d[40]=d[8]===""?void 0:d[8],d[40]!==void 0?[d[31].set("platform_token",d[40])]:0,b.i64.eq(d[33],c(u()))?b.i64.neq(d[25],void 0)?[d[31].set("hot_emoji_size",d[25])]:0:0,a=[b.createArray()],d[34]=a[0],a,b.db.table(14).getArr([[[d[18]]]]).filter(function(a){return b.i64.eq(a.a,d[18])}).forEach(function(a){a=a.item;return[(d[34].push(a.b),d[34])]})},function(a){return a=[new b.Map()],d[35]=a[0],a,[d[35].set("participants",d[34])],[d[35].set("send_payload",d[31])],b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,L.a)}).forEach(function(a){var b=a.update;a.item;return b({S:K.f})})},function(a){return a=[b.toJSON(d[35])],d[36]=a[0],a,a=[d[36],c(t())],d[29]=a[0],d[30]=a[1],a}]):b.seq([function(a){return d[33]=d[12]==null?c(s()):d[12],a=[new b.Map()],d[31]=a[0],a,[d[31].set("thread_id",d[18])],[d[31].set("otid",d[9])],[d[31].set("source",d[13]==null?c(r()):d[13])],[d[31].set("send_type",c(q()))],b.i64.eq(d[33],c(p()))?b.resolve([d[31].set("text",d[20])]):b.i64.eq(d[33],c(o()))?b.resolve(b.i64.neq(d[19],void 0)?([d[31].set("sticker_id",d[19])],[d[31].set("send_type",d[33])]):0):b.i64.eq(d[33],c(n()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[41]=a[0],d[42]=a[1],a):(c=b.item,a=[c.h,c.X],d[41]=a[0],d[42]=a[1],a)})},function(a){return d[41]!==void 0?b.i64.neq(d[42],void 0)?([d[31].set("url",d[41])],[d[31].set("attribution_app_id",d[42])],[d[31].set("send_type",d[33])]):0:0}]):b.i64.eq(d[33],c(m()))?b.seq([function(a){return[d[31].set("text",d[20])],a=[b.createArray()],d[42]=a[0],a,b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).forEach(function(a){a=a.item;return[(d[42].push(b.i64.from_string(a.e)),d[42])]})},function(a){return[d[31].set("attachment_fbids",d[42])],[d[31].set("send_type",d[33])]}]):b.i64.eq(d[33],c(l()))?b.seq([function(a){return[d[31].set("text",d[20])],a=[b.createArray()],d[43]=a[0],a,b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).forEach(function(a){a=a.item;return[(d[43].push(b.i64.from_string(a.e)),d[43])]})},function(a){return[d[31].set("attachment_fbids",d[43])],[d[31].set("send_type",d[33])]}]):b.i64.eq(d[33],c(k()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[44]=a[0],a):(c=b.item,a=[c.e],d[44]=a[0],a)})},function(a){return d[44]!==void 0?([d[31].set("text",d[20])],[d[31].set("forwarded_share_id",d[44])],[d[31].set("send_type",d[33])]):0}]):b.i64.eq(d[33],c(j()))?b.resolve(d[10]!==void 0?([d[31].set("forwarded_msg_id",d[10])],[d[31].set("send_type",d[33])]):0):b.i64.eq(d[33],c(i()))?b.seq([function(a){return b.db.table(16).getArr([[[d[18],d[21]]]]).filter(function(a){return b.i64.eq(a.a,d[18])&&a.c===d[21]}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0,void 0],d[46]=a[0],d[47]=a[1],a):(c=b.item,a=[c.h,c.X],d[46]=a[0],d[47]=a[1],a)})},function(a){return d[46]!==void 0?([d[31].set("url",d[46])],[d[31].set("text",d[20])],[d[31].set("send_type",d[33])]):0}]):b.resolve(0)},function(a){return d[35]=d[6]===""?void 0:d[6],d[35]!==void 0?b.i64.neq(d[11],void 0)?(a=[new b.Map()],d[39]=a[0],a,[d[39].set("reply_source_id",d[35])],[d[39].set("reply_source_type",d[11])],[d[31].set("reply_metadata",d[39])]):0:0,d[36]=d[17]===""?void 0:d[17],d[36]!==void 0?(d[39]=d[22]===""?void 0:d[22],d[39]!==void 0?(d[40]=d[23]===""?void 0:d[23],d[40]!==void 0?(a=[new b.Map()],d[41]=a[0],a,[d[41].set("mention_ids",d[36])],[d[41].set("mention_offsets",d[39])],[d[41].set("mention_lengths",d[40])],[d[41].set("mention_types",d[24]===""?void 0:d[24])],[d[31].set("mention_data",d[41])]):0):0):0,d[37]=d[7]===""?void 0:d[7],d[37]!==void 0?[d[31].set("platform_ref",d[37])]:0,d[38]=d[8]===""?void 0:d[8],d[38]!==void 0?[d[31].set("platform_token",d[38])]:0,b.i64.eq(d[33],c(h()))?b.i64.neq(d[25],void 0)?[d[31].set("hot_emoji_size",d[25])]:0:0,a=[b.toJSON(d[31])],d[34]=a[0],a,a=[d[34],c(g())],d[29]=a[0],d[30]=a[1],a}])},function(a){return a=[d[29],d[30]],d[14]=a[0],d[15]=a[1],a}]))})},function(a){return a=[d[14],d[15]],d[3]=a[0],d[4]=a[1],a}]))})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]))})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateAdditionalThreadContextStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({U:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateDeliveryReceiptStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[1],a[2]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[2])&&b.i64.gt(a[0],d.d)}).forEach(function(b){var c=b.update;b.item;return c({d:a[0]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateDraftMessageStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({H:a[1]===""||a[1]===void 0?void 0:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateEphemeralMediaStateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["17e"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("437",a[0],a[1],a[3],a[5]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.i64.neq(a[4],void 0)?(e=[new b.Map()],d[1]=e[0],e,[d[1].set("message_id",a[1])],[d[1].set("ephemeral_media_state",a[4])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","update_ephemeral_media_state",c(h()),d[2],void 0,void 0,c(g()),void 0)):b.resolve()},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateExistingMessageRangeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(13).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&a[2]?b.i64.eq(c.d,a[1]):b.i64.eq(c.b,a[1])}).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.db.table(13).put({a:d.a,b:d.b,c:d.c,d:d.d,e:d.e,f:!1,g:!1,h:a[2]&&!a[3]?d.h:!1,i:a[2]&&!a[3]?!1:d.i}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateExistingThreadV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[0])||b.i64.eq(c.O,a[42])}).forEach(function(b){var c=b.update;b.item;return c({a:a[0],d:a[1],e:a[2],A:a[3],f:a[4],g:a[5],h:a[6],i:a[7],j:a[8],k:a[9],l:a[10],m:a[11],n:a[12],o:a[13],t:a[14],Z:a[15],u:a[17],v:a[18],w:a[19],x:a[20],y:a[21],z:a[22],B:a[23],C:a[24],D:a[25],E:a[26],F:a[27],G:a[28],H:a[29],I:a[30],J:a[31],K:a[32],L:a[33],M:a[34],N:a[35],P:a[36],Q:a[37],R:a[38],T:a[39],ba:a[41]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateFolderThreadSnippetStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.i64.neq(a[1],void 0)?b.resolve((c=[a[1]],d[1]=c[0],c)):b.seq([function(c){return b.db.table(9).getArr([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])&&b.i64.lt(c.j,c.i)}).count().then(function(a){return d[11]=a})},function(a){return a=[d[11]],d[1]=a[0],a}])},function(e){return e=[a[2].get("all_read"),a[2]],d[2]=e[0],e,e=[a[2].get("unread_singular"),a[2]],d[3]=e[0],e,e=[b.createArray()],d[4]=e[0],e,[(d[4].push(b.i64.to_string(d[1])),d[4])],[(d[4].push(d[3]),d[4])],e=[d[4].join("")],d[5]=e[0],e,e=[a[2].get("unread_plural"),a[2]],d[6]=e[0],e,e=[b.createArray()],d[7]=e[0],e,[(d[7].push(b.i64.to_string(d[1])),d[7])],[(d[7].push(d[6]),d[7])],e=[d[7].join("")],d[8]=e[0],e,b.i64.eq(d[1],c(h()))?(e=[d[2]],d[10]=e[0],e):(b.i64.eq(d[1],c(g()))?(e=[d[5]],d[12]=e[0],e):(e=[d[8]],d[13]=e[0],e,e=[d[13]],d[12]=e[0],e),e=[d[12]],d[10]=e[0],e),b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var b=a.update;a.item;return b({m:d[10],p:void 0,q:void 0,r:void 0,s:void 0})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateHasMenuAndComposerStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).count().then(function(a){return d[0]=a})},function(e){return b.i64.eq(d[0],c(g()))?b.resolve(0):b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({J:a[1],K:a[2]})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateMessageRangeV1StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateOngoingCallServerInfoDataStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(23).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(16).getArr([[[a[0],a[1],a[2]]]]).filter(function(d){return d.e===a[2]&&b.i64.eq(d.a,a[0])&&d.c===a[1]&&b.i64.eq(d.bU,c(g()))}).forEach(function(b){var c=b.update;b.item;return c({A:a[3],B:a[4],C:a[5],D:a[6],F:a[7],G:a[8],H:a[9],I:a[10],K:a[11],L:a[12]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateOptimisticEphemeralMediaStateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(e){return b.seq([function(d){return b.i64.neq(a[3],void 0)?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&(b.i64.eq(d.f,c(r()))||b.i64.eq(d.f,c(q())))&&b.i64.eq(d.bV,c(p()))}).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&(b.i64.eq(d.f,c(o()))||b.i64.eq(d.f,c(n())))}).forEach(function(b){var c=b.update;b.item;return c({bV:a[2],bW:a[3]})}):(d.item,b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&(b.i64.eq(d.f,c(m()))||b.i64.eq(d.f,c(l())))}).forEach(function(b){var c=b.update;b.item;return c({bW:a[3]})}))}):b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&(b.i64.eq(d.f,c(k()))||b.i64.eq(d.f,c(j())))&&b.i64.eq(d.bV,c(i()))}).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.c===a[1]&&(b.i64.eq(d.f,c(h()))||b.i64.eq(d.f,c(g())))}).forEach(function(b){var c=b.update;b.item;return c({bV:a[2]})}):(d.item,0)})},function(a){return a=[!0],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateOrInsertRtcOngoingCallDataStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(23).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(j()),c(i()))}).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(23).add({a:a[0],b:a[1],c:a[2]}):(e=d.item,b.db.table(23).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]==null?e.b:a[1],c:a[2]})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateParentFolderReadWatermarkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("105",a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.i64.neq(d[0],c(g()))?b.seq([function(a){return b.db.table(9).getArr([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(a){return b.i64.eq(a.A,d[0])&&b.i64.lt(a.j,a.i)}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[1]=c[0],c):(b=a.item,c=[b.j],d[1]=c[0],c)})},function(a){return b.i64.neq(d[1],void 0)?b.db.table(9).getArr([[[d[0]]]]).filter(function(a){return b.i64.eq(a.a,d[0])}).forEach(function(a){var b=a.update;a.item;return b({j:d[1]})}):b.seq([function(a){return b.db.table(9).getArr([[[d[0]]]]).filter(function(a){return b.i64.eq(a.a,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[4]=c[0],c):(b=a.item,c=[b.i],d[4]=c[0],c)})},function(a){return b.i64.neq(d[4],void 0)?b.db.table(9).getArr([[[d[0]]]]).filter(function(a){return b.i64.eq(a.a,d[0])}).forEach(function(a){var b=a.update;a.item;return b({j:d[4]})}):b.resolve()}])},function(c){return b.sp("132",d[0],void 0,a[1])}]):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateParticipantCapabilitiesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("162",a[0],a[1]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(14).getArr([[[a[1],a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[0])}).forEach(function(a){var b=a.update;a.item;return b({i:d[0]})})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateParticipantSubscribeSourceTextStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdatePollAdminMessageSummaryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(38).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,a[1])&&([c(r()),c(q())].some(function(a){return b.i64.eq(d.e,a)})&&[c(p()),c(o())].some(function(c){return b.i64.eq(a[4],c)})||[c(n()),c(m())].some(function(a){return b.i64.eq(d.e,a)})&&[c(l()),c(k())].some(function(c){return b.i64.eq(a[4],c)}))&&b.i64.gt(a[3],d.d)&&d.c!==a[2]}).next().then(function(e,f){var k=e.done;e=e.value;return k?0:(f=e.item,d[0]=f.d,b.db.table(12).getArr([[[a[1],b.merge({gt:d[0]},{lt:a[3]})]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.gt(c.b,d[0])&&b.i64.lt(c.b,a[3])}).next().then(function(k){var e=k.done;k.value;return e?b.seq([function(e){return b.db.table(12).getArr([[[a[1],d[0],f.c]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(c(j()),c(i()))&&b.i64.eq(e.b,d[0])&&e.e===f.c}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(12).getArr([[[a[1],a[3],a[2]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[3])&&d.e===a[2]}).forEach(function(b){var c=b.update;b.item;return c({g:a[5]})})}]):0}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateRepliesOnUnsendStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[b.i64.of_int32(a[2].length)],d[0]=e[0],e,b.i64.gt(d[0],c(h()))?b.loopAsync(d[0],function(e){return d[1]=e,b.seq([function(c){return b.ntop("Array",3,a[2],d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(e){return e=[d[2].get("reply_snippet"),d[2]],d[3]=e[0],e,e=[d[2].get("message_id"),d[2]],d[4]=e[0],e,b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.e===d[4]}).forEach(function(a){var b=a.update;a.item;return b({u:c(g()),v:d[3],w:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,H:void 0,I:void 0})})}])}):b.resolve()},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateSenderIDToPersonaIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[2])&&d.e===a[1]}).forEach(function(b){var c=b.update;b.item;return c({h:a[3]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateShouldRoundThreadPictureStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({Q:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateSubscriptErrorMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return d.e===a[1]&&b.i64.eq(d.a,a[0])&&b.i64.eq(d.V,c(g()))}).forEach(function(b){var c=b.update;b.item;return c({W:a[2]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadApprovalModeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({t:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadCustomEmojiStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({w:a[1],x:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadDescriptionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({ba:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadMuteSettingStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({l:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadNullstateCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateThreadOngoingCallStateStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({u:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantAdminStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({f:a[2]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantNicknameStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(i()),c(h()))&&b.i64.eq(d.b,a[1])}).forEach(function(b){var d=b.update;b.item;return d({j:c(g()),e:a[2]===""?void 0:a[2],h:a[3]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantNicknameV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(i()),c(h()))&&b.i64.eq(d.b,a[1])}).forEach(function(b){var d=b.update;b.item;return d({j:c(g()),e:a[2]===""?void 0:a[2],h:a[3]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetAfterMessageDeletedStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[0]=c[0],c):(b=a.item,c=[b.V],d[0]=c[0],c)})},function(e){return b.db.table(12).getArrDesc([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).slice(0,b.i64.to_float(c(g()))).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[!1],d[2]=e[0],e):(c=b.item,e=[c.e===a[1]],d[2]=e[0],e)})},function(c){return d[2]?b.sp("51",a[0],d[0],!1,void 0,!1,void 0,void 0,!1):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetFromLastMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);R=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return c=[!0],d[0]=c[0],c,d[0]?b.seq([function(c){return b.sp("570",a[1])},function(a){return a=[!1],d[2]=a[0],a}]):b.resolve((c=[!0],d[2]=c[0],c))},function(e){return d[2]?b.db.table(12).getArrDesc([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).next().then(function(e,f){var S=e.done;e=e.value;return S?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(a){var b=a.update;a.item;return b({m:void 0,p:void 0,q:void 0,r:void 0,s:void 0,n:!1,o:void 0})}):(f=e.item,b.seq([function(e){return d[8]=f.g,d[11]=f.a,d[12]=c(R()),d[13]=f.e,d[15]=f.h,d[9]=f.i,d[14]=f.j,d[10]=f.m,b.db.table(9).getArr([[[a[1]]]]).filter(function(d){return b.i64.eq(a[1],d.a)&&b.i64.eq(c(Q()),d.c)}).count().then(function(a){return d[4]=a})},function(e){return d[14]?b.resolve((e=[c(P())],d[6]=e[0],e)):b.seq([function(e){return b.i64.eq(d[15],a[0])?b.seq([function(a){return d[10]?b.resolve((a=[c(O())],d[19]=a[0],a)):b.seq([function(a){return d[8]!==void 0&&d[8]!==""?b.resolve((a=[c(N())],d[21]=a[0],a)):b.seq([function(a){return b.i64.neq(d[9],void 0)?b.resolve((a=[c(M())],d[23]=a[0],a)):b.seq([function(a){return b.db.table(16).getArr([[[d[11],d[13]]]]).filter(function(a){return b.i64.eq(a.a,d[11])&&b.i64.eq(c(L()),d[12])&&a.c===d[13]}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[c(K())],d[24]=a[0],a):(f=e.item,b.i64.eq(f.f,c(J()))?(a=[c(I())],d[27]=a[0],a):(e=[c(H())],d[27]=e[0],e),f=[d[27]],d[24]=f[0],f)})},function(a){return a=[d[24]],d[23]=a[0],a}])},function(a){return a=[d[23]],d[21]=a[0],a}])},function(a){return a=[d[21]],d[19]=a[0],a}])},function(a){return a=[d[19]],d[17]=a[0],a}]):b.seq([function(a){return d[10]?b.resolve((a=[c(G())],d[19]=a[0],a)):b.seq([function(a){return d[8]!==void 0&&d[8]!==""?b.resolve((b.i64.eq(d[4],c(F()))?(a=[c(E())],d[23]=a[0],a):(a=[c(D())],d[23]=a[0],a),a=[d[23]],d[21]=a[0],a)):b.seq([function(a){return b.i64.neq(d[9],void 0)?b.resolve((a=[c(C())],d[23]=a[0],a)):b.seq([function(a){return b.db.table(16).getArr([[[d[11],d[13]]]]).filter(function(a){return b.i64.eq(a.a,d[11])&&b.i64.eq(c(B()),d[12])&&a.c===d[13]}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[c(A())],d[24]=a[0],a):(f=e.item,b.i64.eq(f.f,c(z()))?(a=[c(y())],d[27]=a[0],a):(e=[c(x())],d[27]=e[0],e),f=[d[27]],d[24]=f[0],f)})},function(a){return a=[d[24]],d[23]=a[0],a}])},function(a){return a=[d[23]],d[21]=a[0],a}])},function(a){return a=[d[21]],d[19]=a[0],a}])},function(a){return a=[d[19]],d[17]=a[0],a}])},function(a){return a=[d[17]],d[6]=a[0],a}])},function(e){return b.i64.eq(d[6],c(w()))?(d[18]=d[8]===""?void 0:d[8],d[18]!==void 0?(e=[b.createArray()],d[19]=e[0],e,[(d[19].push(a[2]),d[19])],[(d[19].push(": "),d[19])],[(d[19].push(d[18]),d[19])],e=[d[19].join("")],d[20]=e[0],e,e=[d[20]],d[17]=e[0],e):(e=[void 0],d[17]=e[0],e),b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(a){var b=a.update;a.item;return b({m:d[17],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})})):b.i64.eq(d[6],c(v()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[5],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(u()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[7],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(t()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[3],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(s()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[9],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(r()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(a){var b=a.update;a.item;return b({m:d[8],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(q()))?b.seq([function(e){return b.seq([function(e){return b.db.table(14).getArr([[[a[1],d[15]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(c(p()),c(o()))&&b.i64.eq(e.b,d[15])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[26]=a[0],a):(c=b.item,a=[c.e],d[26]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[15]]]]).filter(function(a){return b.i64.eq(a.a,d[15])&&b.i64.eq(c(n()),c(m()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[30]=a[0],a,d[30]?(a=[b.localize(c(l()),void 0)],d[33]=a[0],a,a=[d[33]],d[32]=a[0],a):(a=["Facebook User"],d[32]=a[0],a),a=[d[32]],d[28]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[28]=a[0],a)})},function(a){return a=[d[26]==null?d[28]:d[26]],d[22]=a[0],a}])},function(c){return d[25]=d[8]===""?void 0:d[8],d[25]!==void 0?(c=[b.createArray()],d[26]=c[0],c,[(d[26].push(d[22]),d[26])],[(d[26].push(": "),d[26])],[(d[26].push(d[25]),d[26])],c=[d[26].join("")],d[27]=c[0],c,c=[d[27]],d[24]=c[0],c):(c=[void 0],d[24]=c[0],c),b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(a){var b=a.update;a.item;return b({m:d[24],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})})}]):b.i64.eq(d[6],c(k()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[6],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(j()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[8],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(i()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[4],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(h()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(b){var c=b.update;b.item;return c({m:a[10],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.i64.eq(d[6],c(g()))?b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])}).forEach(function(a){var b=a.update;a.item;return b({m:d[8],p:void 0,q:void 0,r:void 0,s:void 0,n:d[14],o:d[15]})}):b.resolve(0)}]))}):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["723e48ea5d954a9e"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["94fd642ac1aa7be4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["d3ad93f7d57d0e72"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["90ef82426c5c8644"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["7031fe7e96a6e7a0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["562989c9db1e29c4"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["7031fe7e96a6e7a0"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["562989c9db1e29c4"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["9945996d52168304"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["b453a38d809d2274"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["e96fd6470bd942ba"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["524b5d86e7bf8624"]);Z=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["a5a882db3cb827f8"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["ce20ebf1993336f4"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["f751d60e1b51e4a2"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["8e6c7ef244fe5364"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["6b370902d98568a6"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["bb112d1c50f8f88a"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["f482bc5f98959be0"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["d2d41a04853246c4"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);La=function(){return a};return a}function Ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ma=function(){return a};return a}function Na(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Na=function(){return a};return a}function Oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Oa=function(){return a};return a}function Pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Pa=function(){return a};return a}function Qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Qa=function(){return a};return a}function Ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["7031fe7e96a6e7a0"]);Ra=function(){return a};return a}function Sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Sa=function(){return a};return a}function Ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["562989c9db1e29c4"]);Ta=function(){return a};return a}function Ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);Ua=function(){return a};return a}function Va(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Va=function(){return a};return a}function Wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Wa=function(){return a};return a}function Xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Xa=function(){return a};return a}function Ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Ya=function(){return a};return a}function Za(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);Za=function(){return a};return a}function $a(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);$a=function(){return a};return a}function ab(){var a=babelHelpers.taggedTemplateLiteralLoose(["98ddfaa87ba1f91e"]);ab=function(){return a};return a}function bb(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);bb=function(){return a};return a}function cb(){var a=babelHelpers.taggedTemplateLiteralLoose(["c734c8e249bc3150"]);cb=function(){return a};return a}function db(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);db=function(){return a};return a}function eb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);eb=function(){return a};return a}function fb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);fb=function(){return a};return a}function gb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);gb=function(){return a};return a}function hb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);hb=function(){return a};return a}function ib(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);ib=function(){return a};return a}function jb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);jb=function(){return a};return a}function kb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);kb=function(){return a};return a}function lb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);lb=function(){return a};return a}function mb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);mb=function(){return a};return a}function nb(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);nb=function(){return a};return a}function ob(){var a=babelHelpers.taggedTemplateLiteralLoose(["30171e65b1b0a7c"]);ob=function(){return a};return a}function pb(){var a=babelHelpers.taggedTemplateLiteralLoose(["eb197a98eb96b806"]);pb=function(){return a};return a}function qb(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);qb=function(){return a};return a}function rb(){var a=babelHelpers.taggedTemplateLiteralLoose(["3f2b2b7c317abea4"]);rb=function(){return a};return a}function sb(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);sb=function(){return a};return a}function tb(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);tb=function(){return a};return a}function ub(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ub=function(){return a};return a}function vb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);vb=function(){return a};return a}function wb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);wb=function(){return a};return a}function xb(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);xb=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return d[0]=!1,b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){var yb=e.done;e=e.value;return yb?0:(f=e.item,b.db.table(12).getArrDesc([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,$){var a=e.done;e=e.value;return a?0:($=e.item,b.seq([function(a){return d[5]=$.g,d[4]=$.a,d[7]=c(xb()),d[8]=$.e,d[3]=$.h,d[2]=$.j,d[2]?b.seq([function(a){return b.sp("571",void 0,d[5]==null?"":d[5],void 0,void 0,void 0,void 0,void 0).then(function(a){return a=a,d[9]=a[0],a})},function(a){return b.sp("51",d[4],d[9],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.resolve()},function(a){return b.sp("4").then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[6]=b.i64.eq(d[1],d[3]),d[0]?b.resolve():$.m?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(wb()),c(vb()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[12]=a[0],a):(c=b.item,a=[c.e],d[12]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(ub()),c(tb()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[16]=a[0],a,d[16]?(a=[b.localize(c(sb()),void 0)],d[19]=a[0],a,a=[d[19]],d[18]=a[0],a):(a=["Facebook User"],d[18]=a[0],a),a=[d[18]],d[14]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[14]=a[0],a)})},function(a){return a=[d[12]==null?d[14]:d[12]],d[9]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(rb()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[12]=a[0],a})},function(a){return a=[d[12]],d[11]=a[0],a}]):b.seq([function(a){return a=[!0],d[12]=a[0],a,d[12]?(a=[b.localize(c(qb()),void 0)],d[16]=a[0],a,a=[d[16]],d[14]=a[0],a):(a=["Facebook User"],d[14]=a[0],a),b.sp("571",void 0,void 0,c(pb()),d[9]==null?d[14]:d[9],void 0,void 0,void 0).then(function(a){return a=a,d[15]=a[0],a})},function(a){return a=[d[15]],d[11]=a[0],a}])},function(a){return b.sp("51",d[4],d[11],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.resolve()},function(a){return d[0]?b.resolve():d[5]!==void 0&&d[5]!==""?d[6]?b.seq([function(a){return b.sp("571",void 0,d[5]==null?"":d[5],void 0,void 0,void 0,void 0,c(ob())).then(function(a){return a=a,d[10]=a[0],a})},function(a){return b.sp("51",d[4],d[10],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(f.c,c(nb()))?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(mb()),c(lb()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[13]=a[0],a):(c=b.item,a=[c.e],d[13]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(kb()),c(jb()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[17]=a[0],a,d[17]?(a=[b.localize(c(ib()),void 0)],d[20]=a[0],a,a=[d[20]],d[19]=a[0],a):(a=["Facebook User"],d[19]=a[0],a),a=[d[19]],d[15]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[15]=a[0],a)})},function(a){return a=[d[13]==null?d[15]:d[13]],d[11]=a[0],a}])},function(a){return b.sp("571",void 0,d[5]==null?"":d[5],void 0,void 0,void 0,d[11],void 0).then(function(a){return a=a,d[12]=a[0],a})},function(a){return b.sp("51",d[4],d[12],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.seq([function(a){return b.sp("571",void 0,d[5]==null?"":d[5],void 0,void 0,void 0,void 0,void 0).then(function(a){return a=a,d[11]=a[0],a})},function(a){return b.sp("51",d[4],d[11],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.resolve()},function(a){return d[0]?b.resolve():b.i64.neq($.i,void 0)?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(hb()),c(gb()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[12]=a[0],a):(c=b.item,a=[c.e],d[12]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(fb()),c(eb()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[16]=a[0],a,d[16]?(a=[b.localize(c(db()),void 0)],d[19]=a[0],a,a=[d[19]],d[18]=a[0],a):(a=["Facebook User"],d[18]=a[0],a),a=[d[18]],d[14]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[14]=a[0],a)})},function(a){return a=[d[12]==null?d[14]:d[12]],d[9]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(cb()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[12]=a[0],a})},function(a){return a=[d[12]],d[11]=a[0],a}]):b.seq([function(a){return a=[!0],d[12]=a[0],a,d[12]?(a=[b.localize(c(bb()),void 0)],d[16]=a[0],a,a=[d[16]],d[14]=a[0],a):(a=["Facebook User"],d[14]=a[0],a),b.sp("571",void 0,void 0,c(ab()),d[9]==null?d[14]:d[9],void 0,void 0,void 0).then(function(a){return a=a,d[15]=a[0],a})},function(a){return a=[d[15]],d[11]=a[0],a}])},function(a){return b.sp("51",d[4],d[11],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.resolve()},function(a){return d[0]?b.resolve():b.seq([function(a){return b.db.table(16).getArr([[[d[4],d[8]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c($a()),d[7])&&a.c===d[8]}).count().then(function(a){return d[9]=a})},function(a){return b.i64.eq(d[9],c(Za()))?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(Ya()),c(Xa()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[14]=a[0],a):(c=b.item,a=[c.e],d[14]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(Wa()),c(Va()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[18]=a[0],a,d[18]?(a=[b.localize(c(Ua()),void 0)],d[21]=a[0],a,a=[d[21]],d[20]=a[0],a):(a=["Facebook User"],d[20]=a[0],a),a=[d[20]],d[16]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[16]=a[0],a)})},function(a){return a=[d[14]==null?d[16]:d[14]],d[11]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(Ta()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[14]=a[0],a})},function(a){return a=[d[14]],d[13]=a[0],a}]):b.seq([function(a){return a=[!0],d[14]=a[0],a,d[14]?(a=[b.localize(c(Sa()),void 0)],d[18]=a[0],a,a=[d[18]],d[16]=a[0],a):(a=["Facebook User"],d[16]=a[0],a),b.sp("571",void 0,void 0,c(Ra()),d[11]==null?d[16]:d[11],void 0,void 0,void 0).then(function(a){return a=a,d[17]=a[0],a})},function(a){return a=[d[17]],d[13]=a[0],a}])},function(a){return b.sp("51",d[4],d[13],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(d[9],c(Qa()))?b.db.table(16).getArr([[[d[4],d[8]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(Pa()),d[7])&&a.c===d[8]}).next().then(function(e,f){var a=e.done;e=e.value;return a?0:(f=e.item,d[14]=f.Y,d[13]=f.f,b.i64.eq(d[13],c(Oa()))?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(Na()),c(Ma()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[18]=a[0],a):(c=b.item,a=[c.e],d[18]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(La()),c(Ka()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[22]=a[0],a,d[22]?(a=[b.localize(c(Ja()),void 0)],d[25]=a[0],a,a=[d[25]],d[24]=a[0],a):(a=["Facebook User"],d[24]=a[0],a),a=[d[24]],d[20]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[20]=a[0],a)})},function(a){return a=[d[18]==null?d[20]:d[18]],d[15]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(Ia()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[18]=a[0],a})},function(a){return a=[d[18]],d[17]=a[0],a}]):b.seq([function(a){return a=[!0],d[18]=a[0],a,d[18]?(a=[b.localize(c(Ha()),void 0)],d[22]=a[0],a,a=[d[22]],d[20]=a[0],a):(a=["Facebook User"],d[20]=a[0],a),b.sp("571",void 0,void 0,c(Ga()),d[15]==null?d[20]:d[15],void 0,void 0,void 0).then(function(a){return a=a,d[21]=a[0],a})},function(a){return a=[d[21]],d[17]=a[0],a}])},function(a){return b.sp("51",d[4],d[17],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(d[13],c(Fa()))?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(Ea()),c(Da()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[19]=a[0],a):(c=b.item,a=[c.e],d[19]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(Ca()),c(Ba()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[23]=a[0],a,d[23]?(a=[b.localize(c(Aa()),void 0)],d[26]=a[0],a,a=[d[26]],d[25]=a[0],a):(a=["Facebook User"],d[25]=a[0],a),a=[d[25]],d[21]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[21]=a[0],a)})},function(a){return a=[d[19]==null?d[21]:d[19]],d[16]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(za()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[19]=a[0],a})},function(a){return a=[d[19]],d[18]=a[0],a}]):b.seq([function(a){return a=[!0],d[19]=a[0],a,d[19]?(a=[b.localize(c(ya()),void 0)],d[23]=a[0],a,a=[d[23]],d[21]=a[0],a):(a=["Facebook User"],d[21]=a[0],a),b.sp("571",void 0,void 0,c(xa()),d[16]==null?d[21]:d[16],void 0,void 0,void 0).then(function(a){return a=a,d[22]=a[0],a})},function(a){return a=[d[22]],d[18]=a[0],a}])},function(a){return b.sp("51",d[4],d[18],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(d[13],c(wa()))?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(va()),c(ua()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[20]=a[0],a):(c=b.item,a=[c.e],d[20]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(ta()),c(sa()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[24]=a[0],a,d[24]?(a=[b.localize(c(ra()),void 0)],d[27]=a[0],a,a=[d[27]],d[26]=a[0],a):(a=["Facebook User"],d[26]=a[0],a),a=[d[26]],d[22]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[22]=a[0],a)})},function(a){return a=[d[20]==null?d[22]:d[20]],d[17]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(qa()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[20]=a[0],a})},function(a){return a=[d[20]],d[19]=a[0],a}]):b.seq([function(a){return a=[!0],d[20]=a[0],a,d[20]?(a=[b.localize(c(pa()),void 0)],d[24]=a[0],a,a=[d[24]],d[22]=a[0],a):(a=["Facebook User"],d[22]=a[0],a),b.sp("571",void 0,void 0,c(oa()),d[17]==null?d[22]:d[17],void 0,void 0,void 0).then(function(a){return a=a,d[23]=a[0],a})},function(a){return a=[d[23]],d[19]=a[0],a}])},function(a){return b.sp("51",d[4],d[19],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(d[13],c(na()))?d[14]!==void 0?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(ma()),c(la()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[22]=a[0],a):(c=b.item,a=[c.e],d[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(ka()),c(ja()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[26]=a[0],a,d[26]?(a=[b.localize(c(ia()),void 0)],d[29]=a[0],a,a=[d[29]],d[28]=a[0],a):(a=["Facebook User"],d[28]=a[0],a),a=[d[28]],d[24]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[24]=a[0],a)})},function(a){return a=[d[22]==null?d[24]:d[22]],d[19]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(ha()),d[14],void 0,void 0,void 0).then(function(a){return a=a,d[22]=a[0],a})},function(a){return a=[d[22]],d[21]=a[0],a}]):b.seq([function(a){return a=[!0],d[22]=a[0],a,d[22]?(a=[b.localize(c(ga()),void 0)],d[26]=a[0],a,a=[d[26]],d[24]=a[0],a):(a=["Facebook User"],d[24]=a[0],a),b.sp("571",void 0,void 0,c(fa()),d[19]==null?d[24]:d[19],d[14],void 0,void 0).then(function(a){return a=a,d[25]=a[0],a})},function(a){return a=[d[25]],d[21]=a[0],a}])},function(a){return b.sp("51",d[4],d[21],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(ea()),c(da()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[22]=a[0],a):(c=b.item,a=[c.e],d[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(ca()),c(ba()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[26]=a[0],a,d[26]?(a=[b.localize(c(aa()),void 0)],d[29]=a[0],a,a=[d[29]],d[28]=a[0],a):(a=["Facebook User"],d[28]=a[0],a),a=[d[28]],d[24]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[24]=a[0],a)})},function(a){return a=[d[22]==null?d[24]:d[22]],d[19]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(Z()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[22]=a[0],a})},function(a){return a=[d[22]],d[21]=a[0],a}]):b.seq([function(a){return a=[!0],d[22]=a[0],a,d[22]?(a=[b.localize(c(Y()),void 0)],d[26]=a[0],a,a=[d[26]],d[24]=a[0],a):(a=["Facebook User"],d[24]=a[0],a),b.sp("571",void 0,void 0,c(X()),d[19]==null?d[24]:d[19],void 0,void 0,void 0).then(function(a){return a=a,d[25]=a[0],a})},function(a){return a=[d[25]],d[21]=a[0],a}])},function(a){return b.sp("51",d[4],d[21],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.i64.eq(d[13],c(W()))?f.q==="xma_live_location_sharing"?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(V()),c(U()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[23]=a[0],a):(c=b.item,a=[c.e],d[23]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(T()),c(S()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[27]=a[0],a,d[27]?(a=[b.localize(c(R()),void 0)],d[30]=a[0],a,a=[d[30]],d[29]=a[0],a):(a=["Facebook User"],d[29]=a[0],a),a=[d[29]],d[25]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[25]=a[0],a)})},function(a){return a=[d[23]==null?d[25]:d[23]],d[20]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(Q()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[23]=a[0],a})},function(a){return a=[d[23]],d[22]=a[0],a}]):b.seq([function(a){return a=[!0],d[23]=a[0],a,d[23]?(a=[b.localize(c(P()),void 0)],d[27]=a[0],a,a=[d[27]],d[25]=a[0],a):(a=["Facebook User"],d[25]=a[0],a),b.sp("571",void 0,void 0,c(O()),d[20]==null?d[25]:d[20],void 0,void 0,void 0).then(function(a){return a=a,d[26]=a[0],a})},function(a){return a=[d[26]],d[22]=a[0],a}])},function(a){return b.sp("51",d[4],d[22],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(N()),c(M()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[23]=a[0],a):(c=b.item,a=[c.e],d[23]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(L()),c(K()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[27]=a[0],a,d[27]?(a=[b.localize(c(J()),void 0)],d[30]=a[0],a,a=[d[30]],d[29]=a[0],a):(a=["Facebook User"],d[29]=a[0],a),a=[d[29]],d[25]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[25]=a[0],a)})},function(a){return a=[d[23]==null?d[25]:d[23]],d[20]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(I()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[23]=a[0],a})},function(a){return a=[d[23]],d[22]=a[0],a}]):b.seq([function(a){return a=[!0],d[23]=a[0],a,d[23]?(a=[b.localize(c(H()),void 0)],d[27]=a[0],a,a=[d[27]],d[25]=a[0],a):(a=["Facebook User"],d[25]=a[0],a),b.sp("571",void 0,void 0,c(G()),d[20]==null?d[25]:d[20],void 0,void 0,void 0).then(function(a){return a=a,d[26]=a[0],a})},function(a){return a=[d[26]],d[22]=a[0],a}])},function(a){return b.sp("51",d[4],d[22],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(F()),c(E()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[22]=a[0],a):(c=b.item,a=[c.e],d[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(D()),c(C()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[26]=a[0],a,d[26]?(a=[b.localize(c(B()),void 0)],d[29]=a[0],a,a=[d[29]],d[28]=a[0],a):(a=["Facebook User"],d[28]=a[0],a),a=[d[28]],d[24]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[24]=a[0],a)})},function(a){return a=[d[22]==null?d[24]:d[22]],d[19]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(A()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[22]=a[0],a})},function(a){return a=[d[22]],d[21]=a[0],a}]):b.seq([function(a){return a=[!0],d[22]=a[0],a,d[22]?(a=[b.localize(c(z()),void 0)],d[26]=a[0],a,a=[d[26]],d[24]=a[0],a):(a=["Facebook User"],d[24]=a[0],a),b.sp("571",void 0,void 0,c(y()),d[19]==null?d[24]:d[19],void 0,void 0,void 0).then(function(a){return a=a,d[25]=a[0],a})},function(a){return a=[d[25]],d[21]=a[0],a}])},function(a){return b.sp("51",d[4],d[21],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]))}):b.seq([function(a){return d[12]=!0,b.db.table(16).getArr([[[d[4],d[8]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(x()),d[7])&&a.c===d[8]}).forEach(function(a){a=a.item;return b.i64.eq(a.f,c(w()))?0:d[12]=!1})},function(a){return d[12]?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(v()),c(u()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[17]=a[0],a):(c=b.item,a=[c.e],d[17]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(t()),c(s()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[21]=a[0],a,d[21]?(a=[b.localize(c(r()),void 0)],d[24]=a[0],a,a=[d[24]],d[23]=a[0],a):(a=["Facebook User"],d[23]=a[0],a),a=[d[23]],d[19]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[19]=a[0],a)})},function(a){return a=[d[17]==null?d[19]:d[17]],d[14]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(q()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[17]=a[0],a})},function(a){return a=[d[17]],d[16]=a[0],a}]):b.seq([function(a){return a=[!0],d[17]=a[0],a,d[17]?(a=[b.localize(c(p()),void 0)],d[21]=a[0],a,a=[d[21]],d[19]=a[0],a):(a=["Facebook User"],d[19]=a[0],a),b.sp("571",void 0,void 0,c(o()),d[14]==null?d[19]:d[14],void 0,void 0,void 0).then(function(a){return a=a,d[20]=a[0],a})},function(a){return a=[d[20]],d[16]=a[0],a}])},function(a){return b.sp("51",d[4],d[16],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[d[4],d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[4])&&b.i64.eq(c(n()),c(m()))&&b.i64.eq(a.b,d[3])}).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[17]=a[0],a):(c=b.item,a=[c.e],d[17]=a[0],a)})},function(a){return b.db.table(7).getArr([[[d[3]]]]).filter(function(a){return b.i64.eq(a.a,d[3])&&b.i64.eq(c(l()),c(k()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[!0],d[21]=a[0],a,d[21]?(a=[b.localize(c(j()),void 0)],d[24]=a[0],a,a=[d[24]],d[23]=a[0],a):(a=["Facebook User"],d[23]=a[0],a),a=[d[23]],d[19]=a[0],a):(f=e.item,a=[f.p==null?f.h:f.p],d[19]=a[0],a)})},function(a){return a=[d[17]==null?d[19]:d[17]],d[14]=a[0],a}])},function(a){return d[6]?b.seq([function(a){return b.sp("571",void 0,void 0,c(i()),void 0,void 0,void 0,void 0).then(function(a){return a=a,d[17]=a[0],a})},function(a){return a=[d[17]],d[16]=a[0],a}]):b.seq([function(a){return a=[!0],d[17]=a[0],a,d[17]?(a=[b.localize(c(h()),void 0)],d[21]=a[0],a,a=[d[21]],d[19]=a[0],a):(a=["Facebook User"],d[19]=a[0],a),b.sp("571",void 0,void 0,c(g()),d[14]==null?d[19]:d[14],void 0,void 0,void 0).then(function(a){return a=a,d[20]=a[0],a})},function(a){return a=[d[20]],d[16]=a[0],a}])},function(a){return b.sp("51",d[4],d[16],d[2],d[3],!1,void 0,void 0,!1)},function(a){return d[0]=!0}])}])}])}]))}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["36a6d11f7659bfc4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return a[7]?b.seq([function(e){return b.i64.neq(a[3],void 0)?b.seq([function(e){return b.seq([function(e){return b.db.table(14).getArr([[[a[0],a[3]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(k()),c(j()))&&b.i64.eq(d.b,a[3])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[6]=c[0],c):(b=a.item,c=[b.e],d[6]=c[0],c)})},function(e){return b.db.table(7).getArr([[[a[3]]]]).filter(function(d){return b.i64.eq(d.a,a[3])&&b.i64.eq(c(i()),c(h()))}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[!0],d[10]=f[0],f,d[10]?(f=[b.localize(c(g()),void 0)],d[13]=f[0],f,f=[d[13]],d[12]=f[0],f):(f=["Facebook User"],d[12]=f[0],f),f=[d[12]],d[8]=f[0],f):(e=a.item,f=[e.p==null?e.h:e.p],d[8]=f[0],f)})},function(a){return a=[d[6]==null?d[8]:d[6]],d[3]=a[0],a}])},function(c){return a[1]!==void 0?(c=[b.createArray()],d[6]=c[0],c,[(d[6].push(d[3]),d[6])],[(d[6].push(": "),d[6])],[(d[6].push(a[1]),d[6])],c=[d[6].join("")],d[7]=c[0],c,c=[d[7]],d[5]=c[0],c):(c=[void 0],d[5]=c[0],c),c=[d[5]],d[2]=c[0],c}]):b.resolve((e=[a[1]],d[2]=e[0],e))},function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({m:d[2],p:void 0,q:void 0,r:void 0,s:void 0,n:a[2],o:a[3],I:a[4],M:a[5],N:a[6]})})}]):b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({m:a[1],p:void 0,q:void 0,r:void 0,s:void 0,n:a[2],o:a[3],I:a[4],M:a[5],N:a[6]})})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetV2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({m:void 0,p:a[2],q:a[3],r:a[4],s:a[5],n:a[6],o:a[7]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadThemeColorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.log("call to unsupported stored procedure: updateThreadThemeColor",[0,3]),b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateThreadThemeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({z:a[1],y:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateTypingStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpsertFolderStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.i64.neq(a[3],void 0)?b.resolve((e=[a[3]],d[1]=e[0],e)):b.seq([function(e){return b.db.table(9).getArrDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(w())],d[5]=e[0],e):(b=a.item,e=[b.i],d[5]=e[0],e)})},function(a){return a=[d[5]],d[1]=a[0],a}])},function(e){return b.i64.neq(a[4],void 0)?b.resolve((e=[a[4]],d[3]=e[0],e)):b.seq([function(e){return b.db.table(9).getArr([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])&&b.i64.lt(c.j,c.i)}).next().then(function(e,f){var g=e.done;e=e.value;return g?b.seq([function(e){return b.i64.neq(a[3],void 0)?b.resolve((e=[a[3]],d[8]=e[0],e)):b.seq([function(e){return b.db.table(9).getArrDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c(v())],d[9]=a[0],a):(e=b.item,a=[e.i],d[9]=a[0],a)})},function(a){return a=[d[9]],d[8]=a[0],a}])},function(a){return a=[d[8]],d[5]=a[0],a}]):(f=e.item,g=[f.j],d[5]=g[0],g)})},function(a){return a=[d[5]],d[3]=a[0],a}])},function(e){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){f=e.done;e=e.value;return f?b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.lt(d.Z,c(u()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(9).add({a:a[0],b:c(t()),c:c(s()),d:a[1],e:"",A:c(r()),f:a[2],i:d[1],j:d[3],k:c(q()),l:c(p()),m:"",n:!1,J:!1,K:!1,I:!1,Z:c(o()),u:c(n()),P:c(m()),Q:!1})}]):(e.item,b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var e=b.update;b.item;return e({d:a[1],e:"",A:c(l()),f:a[2],i:d[1],j:d[3],k:c(k()),l:c(j()),m:"",p:void 0,q:void 0,r:void 0,s:void 0,n:!1,J:!1,K:!1,I:!1,Z:c(i()),u:c(h()),P:c(g()),Q:!1})}))})},function(c){return b.sp("132",a[0],a[5],a[6])}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpsertMSuggestionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(21).put({c:a[2],a:a[0],b:a[1],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertMessagesStatusInTableStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(12).getArrDesc([[[a[0],{lte:a[1]}]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.V,c(i()))&&b.i64.le(d.b,a[1])}).slice(0,b.i64.to_float(c(h()))).next().then(function(e,f){var h=e.done;e=e.value;return h?0:(f=e.item,d[3]=f.b,d[2]=f.e,b.i64.eq(a[4],c(g()))&&a[5]===void 0?b.db.table(7).getArr([[[a[3]]]]).filter(function(c){return b.i64.eq(c.a,a[3])}).next().then(function(e,f){var c=e.done;e=e.value;return c?0:(f=e.item,b.db.table(33).put({a:d[2],b:a[0],c:d[3],d:a[2],e:a[3],f:a[4],g:f.b}))}):b.db.table(33).put({a:d[2],b:a[0],c:d[3],d:a[2],e:a[3],f:a[4],g:a[5]}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxUpsertReactionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({a:a[0],c:a[2],d:a[3],b:a[1],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertRtcMultiwayCallInitiationConferenceNameStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(24).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxWriteCtaAccountLinkEncodedUrlStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(19).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({h:a[1],k:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendGetIsFinalUploadingStateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,c){var e=a.done;a=a.value;return e?0:(c=a.item,e=[new b.Map()],d[5]=e[0],e,[d[5].set("offline_attachment_id",c.a)],[d[5].set("offline_threading_id",c.b)],[d[5].set("in_message_index",c.c)],[d[5].set("attachment_type",c.d)],[d[5].set("should_transcode",c.e)],[d[5].set("use_double_phase",c.f)],[d[5].set("send_by_server",c.g)],[d[5].set("is_secure",c.h)],[d[5].set("state",c.i)],[d[5].set("fbid",c.j)],[d[5].set("metadata",c.k)],[d[5].set("error",c.l)],[(d[0].push(d[5]),d[0])])})},function(a){return a=[b.i64.of_int32(d[0].length)],d[2]=a[0],a,b.i64.neq(d[2],c(j()))?b.seq([function(a){return b.ntop("Array",3,d[0],c(i())).then(function(a){return a=a,d[5]=a[0],a})},function(a){return a=[d[5].get("state"),d[5]],d[6]=a[0],a,a=[d[5].get("use_double_phase"),d[5]],d[7]=a[0],a,a=[d[7]?b.i64.eq(d[6],c(h())):b.i64.eq(d[6],c(g()))],d[4]=a[0],a}]):b.resolve((a=[!1],d[4]=a[0],a))},function(a){return a=[d[4]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendGetMediaSendConfigStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(51).getArr().filter(function(a){return a.b===d[4]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],d):(b=a.item,d=[b.e,b.f,b.g,b.h,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],d)})},function(a){return a=[c[0],c[1],c[2],c[3]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[4]=a[4],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendGetMessageAttributionParamsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.e,b.g,b.h],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendGetUploadParamsForPhase2StoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.b,b.m,b.j],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return c[0]!==void 0?b.seq([function(a){return b.db.table(12).getArr([[[c[0]]],"optimistic"]).filter(function(a){return a.f===c[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[8]=d[0],d):(b=a.item,d=[b.a],c[8]=d[0],d)})},function(a){return a=[c[1],c[8],c[2]],c[5]=a[0],c[6]=a[1],c[7]=a[2],a}]):b.resolve((a=[void 0,void 0,void 0],c[5]=a[0],c[6]=a[1],c[7]=a[2],a))},function(a){return a=[c[5],c[6],c[7]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendInsertPhase2PendingTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7d4"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.f===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[0]=c[0],c):(b=a.item,c=[b.a],d[0]=c[0],c)})},function(e){return b.i64.neq(d[0],void 0)?b.seq([function(c){return c=[b.createArray()],d[4]=c[0],c,[(d[4].push(b.i64.to_string(d[0])),d[4])],[(d[4].push("_multi_media"),d[4])],c=[d[4].join(void 0||"")],d[5]=c[0],c,b.db.table(2).add({a:void 0,c:a[0],b:d[5],d:"4",e:b.i64.of_float(Date.now()),k:a[1]})},function(a){return a=[void 0],d[3]=a[0],a}]):b.resolve((e=[c(g())],d[3]=e[0],e))},function(a){return a=[d[3]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendMarkSubJobCompletedStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["3"]);a=function(){return b};return b}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}b=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,c){var e=a.done;a=a.value;return e?0:(c=a.item,e=[new b.Map()],d[3]=e[0],e,[d[3].set("offline_attachment_id",c.a)],[d[3].set("offline_threading_id",c.b)],[d[3].set("in_message_index",c.c)],[d[3].set("attachment_type",c.d)],[d[3].set("should_transcode",c.e)],[d[3].set("use_double_phase",c.f)],[d[3].set("send_by_server",c.g)],[d[3].set("is_secure",c.h)],[d[3].set("state",c.i)],[d[3].set("fbid",c.j)],[d[3].set("metadata",c.k)],[d[3].set("error",c.l)],[(d[0].push(d[3]),d[0])])})},function(e){return e=[b.i64.of_int32(d[0].length)],d[2]=e[0],e,b.i64.neq(d[2],c(x()))?b.seq([function(a){return b.ntop("Array",3,d[0],c(w())).then(function(a){return a=a,d[3]=a[0],a})},function(e){var f;return e=[d[3].get("state"),d[3]],d[4]=e[0],e,b.i64.eq(d[4],c(v()))?(e=[c(u())],d[8]=e[0],e,e=[d[8]],d[6]=e[0],e):(b.i64.eq(d[4],c(t()))?(e=[c(s())],d[8]=e[0],e):(b.i64.eq(d[4],c(r()))?(e=[c(q())],d[10]=e[0],e):(b.i64.eq(d[4],c(p()))?(e=[c(o())],d[12]=e[0],e):(b.i64.eq(d[4],c(n()))?(e=[c(m())],d[14]=e[0],e):(b.i64.eq(d[4],c(l()))?(e=[c(k())],d[16]=e[0],e):(b.i64.eq(d[4],c(j()))?(e=[c(i())],d[18]=e[0],e):(b.i64.eq(d[4],c(h()))?(e=[c(g())],d[20]=e[0],e):(e=[d[4]],d[21]=e[0],e,e=[d[21]],d[20]=e[0],e),e=[d[20]],d[18]=e[0],e),e=[d[18]],d[16]=e[0],e),e=[d[16]],d[14]=e[0],e),e=[d[14]],d[12]=e[0],e),e=[d[12]],d[10]=e[0],e),e=[d[10]],d[8]=e[0],e),e=[d[8]],d[6]=e[0],e),b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({i:d[6],j:a[1],k:a[2],l:a[3]})})}]):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=b}),null);
__d("LSMediaSendNextPendingJobIdToScheduleStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);B=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.seq([function(e){return e=[b.i64.of_int32(a[0].length)],d[2]=e[0],e,b.i64.neq(d[2],c(B()))?b.seq([function(a){return a=[new b.Map()],d[6]=a[0],a,b.db.table(51).getArr().filter(function(a){return b.i64.eq(a.c,c(A()))}).forEach(function(a){a=a.item;return[d[6].set(a.b,a.i)]})},function(e){return d[7]=void 0,e=[b.i64.of_int32(a[0].length)],d[8]=e[0],e,b.i64.gt(d[8],c(z()))?b.loopAsync(d[8],function(e){return d[12]=e,b.seq([function(c){return b.ntop("Array",3,a[0],d[12]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[7]!==void 0?(a=[d[7]],d[15]=a[0],a):(a=[d[6].get(d[13]),d[6]],d[16]=a[0],a,b.i64.neq(d[16],void 0)?(b.i64.eq(d[16],c(y()))?(a=[!0],d[20]=a[0],a):(b.i64.eq(d[16],c(x()))?(a=[!0],d[24]=a[0],a):(b.i64.eq(d[16],c(w()))?(a=[!0],d[26]=a[0],a):(b.i64.eq(d[16],c(v()))?(a=[!0],d[28]=a[0],a):(b.i64.eq(d[16],c(u()))?(a=[!0],d[30]=a[0],a):(b.i64.eq(d[16],c(t()))?(a=[!0],d[32]=a[0],a):(b.i64.eq(d[16],c(s()))?(a=[!0],d[34]=a[0],a):(b.i64.eq(d[16],c(r()))?(a=[!0],d[36]=a[0],a):(b.i64.eq(d[16],c(q()))?(a=[!0],d[38]=a[0],a):(a=[!1],d[39]=a[0],a,a=[d[39]],d[38]=a[0],a),a=[d[38]],d[36]=a[0],a),a=[d[36]],d[34]=a[0],a),a=[d[34]],d[32]=a[0],a),a=[d[32]],d[30]=a[0],a),a=[d[30]],d[28]=a[0],a),a=[d[28]],d[26]=a[0],a),a=[d[26]],d[24]=a[0],a),a=[d[24]],d[20]=a[0],a),d[20]?(a=[d[13]],d[22]=a[0],a):(a=[d[7]],d[22]=a[0],a),a=[d[22]],d[18]=a[0],a):(a=[d[7]],d[18]=a[0],a),a=[d[18]],d[15]=a[0],a),d[7]=d[15]}])}):b.resolve()},function(e){return d[7]!==void 0?b.resolve((e=[d[7],!0],d[10]=e[0],d[11]=e[1],e)):b.seq([function(e){return d[12]=void 0,e=[b.i64.of_int32(a[0].length)],d[13]=e[0],e,b.i64.gt(d[13],c(p()))?b.loopAsync(d[13],function(e){return d[17]=e,b.seq([function(c){return b.ntop("Array",3,a[0],d[17]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[12]!==void 0?(a=[d[12]],d[20]=a[0],a):(a=[d[6].get(d[18]),d[6]],d[21]=a[0],a,b.i64.neq(d[21],void 0)?(b.i64.eq(d[21],c(o()))?(a=[!0],d[25]=a[0],a):(b.i64.eq(d[21],c(n()))?(a=[!0],d[29]=a[0],a):(b.i64.eq(d[21],c(m()))?(a=[!0],d[31]=a[0],a):(b.i64.eq(d[21],c(l()))?(a=[!0],d[33]=a[0],a):(b.i64.eq(d[21],c(k()))?(a=[!0],d[35]=a[0],a):(b.i64.eq(d[21],c(j()))?(a=[!0],d[37]=a[0],a):(b.i64.eq(d[21],c(i()))?(a=[!0],d[39]=a[0],a):(b.i64.eq(d[21],c(h()))?(a=[!0],d[41]=a[0],a):(b.i64.eq(d[21],c(g()))?(a=[!0],d[43]=a[0],a):(a=[!1],d[44]=a[0],a,a=[d[44]],d[43]=a[0],a),a=[d[43]],d[41]=a[0],a),a=[d[41]],d[39]=a[0],a),a=[d[39]],d[37]=a[0],a),a=[d[37]],d[35]=a[0],a),a=[d[35]],d[33]=a[0],a),a=[d[33]],d[31]=a[0],a),a=[d[31]],d[29]=a[0],a),a=[d[29]],d[25]=a[0],a),d[25]?(a=[d[12]],d[27]=a[0],a):(a=[d[18]],d[27]=a[0],a),a=[d[27]],d[23]=a[0],a):(a=[d[12]],d[23]=a[0],a),a=[d[23]],d[20]=a[0],a),d[12]=d[20]}])}):b.resolve()},function(a){return d[12]!==void 0?(a=[d[12],!1],d[15]=a[0],d[16]=a[1],a):(a=[void 0,void 0],d[15]=a[0],d[16]=a[1],a),a=[d[15],d[16]],d[10]=a[0],d[11]=a[1],a}])},function(a){return a=[d[10],d[11]],d[4]=a[0],d[5]=a[1],a}]):b.resolve((e=[void 0,void 0],d[4]=e[0],d[5]=e[1],e))},function(a){return a=[d[4],d[5]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendRemoveMediaSendJobsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendResetSendByServerConfigIfNotDoublePhaseStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,c){var e=a.done;a=a.value;return e?0:(c=a.item,e=[new b.Map()],d[5]=e[0],e,[d[5].set("offline_attachment_id",c.a)],[d[5].set("offline_threading_id",c.b)],[d[5].set("in_message_index",c.c)],[d[5].set("attachment_type",c.d)],[d[5].set("should_transcode",c.e)],[d[5].set("use_double_phase",c.f)],[d[5].set("send_by_server",c.g)],[d[5].set("is_secure",c.h)],[d[5].set("state",c.i)],[d[5].set("fbid",c.j)],[d[5].set("metadata",c.k)],[d[5].set("error",c.l)],[d[5].set("message_id",c.m)],[(d[0].push(d[5]),d[0])])})},function(e){return e=[b.i64.of_int32(d[0].length)],d[2]=e[0],e,b.i64.gt(d[2],c(h()))?b.seq([function(a){return b.ntop("Array",3,d[0],c(g())).then(function(a){return a=a,d[5]=a[0],a})},function(c){return c=[d[5].get("use_double_phase"),d[5]],d[6]=c[0],c,d[6]?b.resolve((c=[!1],d[8]=c[0],c)):b.seq([function(c){return b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({g:a[1]})})},function(a){return a=[!0],d[8]=a[0],a}])},function(a){return a=[d[8]],d[4]=a[0],a}]):b.resolve((e=[!1],d[4]=e[0],e))},function(a){return a=[d[4]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendResetUseDoublePhaseConfigStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendSendPhase1MultiPhotoMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return e=[b.createArray()],d[0]=e[0],e,d[1]=!1,d[2]=c(j()),b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return d[6]=a.j,d[2]=b.i64.add(d[2],c(i())),b.i64.neq(d[6],void 0)?[(d[0].push(d[6]),d[0])]:0})},function(e){return e=[b.i64.of_int32(d[0].length)],d[3]=e[0],e,b.i64.neq(d[3],d[2])||b.i64.eq(d[2],c(h()))?b.resolve((e=[!1],d[5]=e[0],e)):b.seq([function(c){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.f===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0],d[6]=c[0],d[7]=c[1],d[8]=c[2],d[9]=c[3],d[10]=c[4],c):(b=a.item,c=[b.a,b.h,b.g,b.r,b.t],d[6]=c[0],d[7]=c[1],d[8]=c[2],d[9]=c[3],d[10]=c[4],c)})},function(e){return b.i64.eq(d[6],void 0)||b.i64.eq(d[7],void 0)?b.resolve((e=[!1],d[13]=e[0],e)):b.seq([function(a){return b.db.table(9).getArr([[[d[6]]]]).filter(function(a){return b.i64.eq(a.a,d[6])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[14]=c[0],c):(b=a.item,c=[b.c],d[14]=c[0],c)})},function(c){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[16]=c[0],d[17]=c[1],c):(b=a.item,c=[b.g,b.h],d[16]=c[0],d[17]=c[1],c)})},function(e){return b.i64.neq(d[14],void 0)?b.seq([function(e){return b.seq([function(c){return b.sp("239",a[0]).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],d[23]=a[2],a})},function(e){return b.i64.neq(d[21],void 0)?(e=[d[21]],d[25]=e[0],e):(e=[c(g())],d[25]=e[0],e),b.sp("35",d[7],d[6],d[14],a[0],d[8],d[0],d[25],d[9],d[10],d[1],d[16],d[17])}])},function(a){return a=[!0],d[20]=a[0],a}]):b.resolve((e=[!1],d[20]=e[0],e))},function(a){return a=[d[20]],d[13]=a[0],a}])},function(a){return a=[d[13]],d[5]=a[0],a}])},function(a){return a=[d[5]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendSendPhase2UpdateMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["110"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_fbid",a[0])],[d[0].set("message_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","send_phase_two_message",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsClearAttemptedJoinersStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(79).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsContactUploadUpdateSettingsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["7c"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(74).put({a:d[0],b:a[0],c:"",d:"",e:c(i())})},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("status",a[0])],[d[1].set("os_permission",a[1])],[d[1].set("source",a[2])],[d[1].set("contact_upload_protocol_source",a[3])],[d[1].set("machine_id",a[4])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","contact_upload",c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsContactUploadUpdateSettingsSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(74).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.gt(d.e,c(h()))}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(74).put({a:a[0],b:a[1],c:a[2],d:a[3],e:c(g())}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsCreateVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["fa"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(d){return b.db.table(78).getArr([[[a[0]]],"optimistic"]).filter(function(d){return d.b===a[0]&&b.i64.lt(d.o,c(n()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(78).add({a:a[0],b:a[0],f:c(m()),e:!1,c:d[0],d:c(l()),i:c(k()),l:!1,m:c(j()),o:c(i())})},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("optimistic_client_token",a[0])],[d[1].set("funnel_session_id",a[6])],[d[1].set("referral_surface",a[7])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","video_chat_link_create",c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsDeleteThenInsertMessagingSettingsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(83).put({a:c(g()),b:a[0],c:a[1],d:a[2],e:a[3],f:a[4]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsEnterMessengerCallRoomStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["fe"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){var b=a.update;a.item;return b({f:c(i())})})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("url",a[0])],[d[0].set("funnel_session_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","video_chat_link_enter_room",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsFetchPinnedThreadsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["240"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return a=[new b.Map()],d[0]=a[0],a,a=[b.toJSON(d[0])],d[1]=a[0],a,b.sp("1","fetch_pinned_threads",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsGdprConsentUpsertStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(75).put({a:c[0],b:a[0]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsGetFirstAvailablePersistentMenuItemsCTAIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(77).getArr().sortBy([["b","DESC"]]).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[c(h())],d[0]=f[0],f):(e=a.item,f=[b.i64.add(e.b,c(g()))],d[0]=f[0],f)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertAttemptedJoinerStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[b.i64.of_int32(a[1].length)],d[0]=e[0],e,b.i64.gt(d[0],c(g()))?b.loopAsync(d[0],function(c){return d[1]=c,b.seq([function(c){return b.ntop("Array",3,a[1],d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(c){return c=[d[2].get("participant_status"),d[2]],d[3]=c[0],c,c=[d[2].get("user_id"),d[2]],d[4]=c[0],c,c=[d[2].get("name"),d[2]],d[5]=c[0],c,c=[d[2].get("list_rank"),d[2]],d[6]=c[0],c,c=[d[2].get("last_attempted_join_time"),d[2]],d[7]=c[0],c,c=[d[2].get("room_invite_reason"),d[2]],d[8]=c[0],c,b.db.table(79).put({b:a[0],a:d[4],c:d[5]})}])}):b.resolve()},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertCreatedVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.b===a[0]}).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.i64.eq(e.f,c(k()))?b.db.table(78).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.b===a[0]}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],c:a[2],d:a[3],e:a[4],j:a[5],l:a[6],m:a[7],f:c(j()),h:a[8],o:c(i()),n:a[9]})}):b.db.table(78).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.b===a[0]}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],c:a[2],d:a[3],e:a[4],j:a[5],l:a[6],m:a[7],f:c(h()),h:a[8],o:c(g()),n:a[9]})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertEnterMessengerCallRoomStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var d=b.update;b.item;return d({f:c(g()),g:a[1],h:a[2]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertLockStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var d=b.update;b.item;return d({m:a[2],l:a[1],o:c(g()),n:a[3]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateCowatchSessionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(80).getArr([[[{lt:a[0]}],[{gt:a[0]}]]]).filter(function(c){return b.i64.eq(c.b,a[1])&&c.a!==a[0]}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(80).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(80).add({a:a[0],b:a[1]}):(d=c.item,b.i64.neq(d.b,a[1])?b.db.table(80).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve())})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateFeatureLimitStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(150).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(150).add({a:a[0],b:a[1]}):(d=c.item,b.i64.neq(d.b,a[1])?b.db.table(150).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdatePinnedThreadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(82).put({a:a[0],b:a[1]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateSelfProfileStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(81).add({a:c[0],b:a[0],c:a[1],d:a[2]}):(e=d.item,b.seq([function(d){return e.b!==a[0]&&a[0]!==void 0?b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[0]})}):b.resolve()},function(d){return e.c!==a[1]&&a[1]!==void 0?b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({c:a[1]})}):b.resolve()},function(d){return e.d!==a[2]&&a[2]!==void 0?b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({d:a[2]})}):b.resolve()}]))})},function(d){return b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(81).add({a:c[0],e:a[3],f:a[4]}):(d.item,b.seq([function(d){return a[3]!==void 0?b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({e:a[3]})}):b.resolve()},function(d){return a[4]!==void 0?b.db.table(81).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({f:a[4]})}):b.resolve()}]))})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertPersistentMenuItemsForThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("482").then(function(a){return a=a,d[0]=a[0],a})},function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).count().then(function(a){return d[1]=a})},function(e){return b.i64.eq(d[1],c(g()))?b.resolve(0):b.db.table(77).add({a:a[0],b:d[0],c:a[1],d:a[2],e:a[3],f:a[4],g:a[5],h:a[6],i:a[7]})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertResolvedVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var d=b.update;b.item;return d({c:a[1],d:a[2],e:a[3],j:a[4],l:a[6],m:a[7],f:c(h()),h:a[8],k:a[5],o:c(g()),n:a[9],g:void 0})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInviteParticipantToVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a,b=arguments,c=b[b.length-1];c.n;var d=[];return a=[!1],d[0]=a[0],a,c.resolve(d)};e.exports=a}),null);
__d("LSOmnistoreSettingsNotifyVideoChatLinkJoinAttemptStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["152"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("url",a[0])],[d[0].set("funnel_session_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","video_chat_link_notify_join_attempt",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticSetLockStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["14e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var d=b.update;b.item;return d({m:a[1],o:c(i()),n:a[2]})})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("uri",a[0])],[d[0].set("new_lock_status",a[1])],[d[0].set("funnel_session_id",a[3])],[d[0].set("can_anonymous_users_join",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","video_chat_link_update_lock",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyInsertOrUpdatePinnedThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["13c"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("499",a[0],a[1])},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("pinned_timestamp",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","pin_thread",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyRemovePinnedThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["13c"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.sp("327",a[0])},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","pin_thread",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateGlobalMuteUntilStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["74"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("global_mute_until",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","notification_settings_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateIsSoundOnStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["76"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("is_sound_on",a[0])],[d[0].set("show_message_preview",void 0)],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","notification_settings_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateMessagingSettingsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["13a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);A=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(83).getArr([[[c(A())]]]).filter(function(a){return b.i64.eq(a.a,c(z()))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[12]=f.b,d[13]=f.c,d[14]=f.d,d[15]=f.e,d[16]=f.f,b.i64.neq(d[12],c(y()))||b.i64.eq(a[0],c(x()))?0:b["throw"]("LS:assert is failed. "),b.i64.neq(d[13],c(w()))||b.i64.eq(a[1],c(v()))?0:b["throw"]("LS:assert is failed. "),b.i64.neq(d[15],c(u()))||b.i64.eq(a[3],c(t()))?0:b["throw"]("LS:assert is failed. "),b.i64.neq(d[14],c(s()))||b.i64.eq(a[2],c(r()))?0:b["throw"]("LS:assert is failed. "),b.i64.neq(d[16],c(q()))||b.i64.eq(a[4],c(p()))?0:b["throw"]("LS:assert is failed. "),b.i64.eq(a[0],c(o()))?(g=[d[12]],d[3]=g[0],g):(e=[a[0]],d[3]=e[0],e),b.i64.eq(a[1],c(n()))?(f=[d[13]],d[5]=f[0],f):(g=[a[1]],d[5]=g[0],g),b.i64.eq(a[2],c(m()))?(e=[d[14]],d[7]=e[0],e):(f=[a[2]],d[7]=f[0],f),b.i64.eq(a[3],c(l()))?(g=[d[15]],d[9]=g[0],g):(e=[a[3]],d[9]=e[0],e),b.i64.eq(a[4],c(k()))?(f=[d[16]],d[11]=f[0],f):(g=[a[4]],d[11]=g[0],g),b.db.table(83).getArr([[[c(j())]]]).filter(function(a){return b.i64.eq(a.a,c(i()))}).forEach(function(a){var b=a.update;a.item;return b({b:d[3],c:d[5],d:d[7],e:d[9],f:d[11]})}))})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("friends_of_friends",a[0])],[d[0].set("has_phone_number",a[1])],[d[0].set("instagram_follower",a[2])],[d[0].set("instagram_followee",a[3])],[d[0].set("other_people",a[4])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","update_messaging_settings",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateReplyReminderSettingStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateShowMessagePreviewStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["76"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("show_message_preview",a[0])],[d[0].set("is_sound_on",void 0)],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","notification_settings_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveCowatchSessionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(80).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveExistingPersistentMenuItemsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(77).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveFeatureLimitStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(150).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemovePinnedThreadStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(82).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRequestRankedRoomParticipantsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["186"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("url",a[0])],[d[0].set("funnel_session_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","request_attempted_joiners",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsResolveVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["18a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["fc"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["50"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);s=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).count().then(function(a){return d[0]=a})},function(e){return b.i64.eq(d[0],c(s()))?b.seq([function(a){return d[6]="",b.db.table(78).getArr([[[d[6]]],"optimistic"]).filter(function(a){return a.b===d[6]&&b.i64.lt(a.o,c(r()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(78).add({a:a[0],b:d[6],f:c(q()),e:!1,c:c(p()),d:c(o()),i:c(n()),l:!1,m:c(m()),o:c(l()),n:!1})}]):b.db.table(78).getArr([[[a[0],""]]]).filter(function(b){return b.a===a[0]&&b.b===""}).forEach(function(a){var b=a.update;a.item;return b({f:c(k())})})},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("url",a[0])],[d[2].set("funnel_session_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","video_chat_link_resolve",c(j()),d[3],void 0,void 0,c(i()),void 0)},function(e){return e=[new b.Map()],d[4]=e[0],e,[d[4].set("url",a[0])],[d[4].set("funnel_session_id",a[1])],e=[b.toJSON(d[4])],d[5]=e[0],e,b.sp("1","live_stream_metadata",c(h()),d[5],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRevokeVideoChatLinkStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["156"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("url",a[0])],[d[0].set("funnel_session_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","video_chat_link_revoke",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryArchiveModeUpdateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["52"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("audience_mode",void 0)],[d[0].set("archive_enabled",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_pref_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryAudienceModeUpdateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["52"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("audience_mode",a[0])],[d[0].set("archive_enabled",void 0)],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_pref_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryParticipantSettingsUpdateRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["54"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("type",a[0])],[d[0].set("added_ids",a[1])],[d[0].set("removed_ids",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_part_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryParticipantSettingsUpdateStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(73).add({a:a[0],b:!1,c:!1,d:!1})},function(c){return a[1]!==void 0?b.db.table(73).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve()},function(c){return a[2]!==void 0?b.db.table(73).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({c:a[2]})}):b.resolve()},function(c){return a[3]!==void 0?b.seq([function(c){return b.db.table(73).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({d:a[3]})})},function(c){return a[3]?b.seq([function(c){return b.sp("270",a[0])},function(c){return b.sp("261",a[0],void 0,void 0)}]):b.resolve()}]):b.resolve()},function(a){return b.db.table(73).getArr().filter(function(a){return a.c===!1&&a.d===!1&&a.b===!1}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStorySettingsPreferenceUpdateSuccessStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(72).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[0],c:a[1]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsTruncatePinnedThreadsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(82).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateGlobalMuteUntilStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateIsSoundOnStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateMessagingSettingsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(83).getArr([[[c(t())]]]).filter(function(a){return b.i64.eq(a.a,c(s()))}).next().then(function(e,f){var s=e.done;e=e.value;return s?0:(f=e.item,d[10]=f.b,d[11]=f.c,d[12]=f.d,d[13]=f.e,d[14]=f.f,b.i64.eq(d[10],c(r()))||b.i64.eq(a[0],c(q()))?(s=[d[10]],d[1]=s[0],s):(e=[a[0]],d[1]=e[0],e),b.i64.eq(d[11],c(p()))||b.i64.eq(a[1],c(o()))?(f=[d[11]],d[3]=f[0],f):(s=[a[1]],d[3]=s[0],s),b.i64.eq(d[12],c(n()))||b.i64.eq(a[2],c(m()))?(e=[d[12]],d[5]=e[0],e):(f=[a[2]],d[5]=f[0],f),b.i64.eq(d[13],c(l()))||b.i64.eq(a[3],c(k()))?(s=[d[13]],d[7]=s[0],s):(e=[a[3]],d[7]=e[0],e),b.i64.eq(d[14],c(j()))||b.i64.eq(a[4],c(i()))?(f=[d[14]],d[9]=f[0],f):(s=[a[4]],d[9]=s[0],s),b.db.table(83).getArr([[[c(h())]]]).filter(function(a){return b.i64.eq(a.a,c(g()))}).forEach(function(a){var b=a.update;a.item;return b({b:d[1],c:d[3],d:d[5],e:d[7],f:d[9]})}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateReplyReminderSettingStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateRoomsUserRingabilityStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["17a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("url",a[0])],[d[0].set("should_ring",a[1])],[d[0].set("funnel_session_id",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","rooms_update_user_ringability",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateShowMessagePreviewStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpsertLiveStreamMetadataStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsDeleteAllPaymentMethodDetailsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(88).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(86).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(85).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeleteAllPriceListItemStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(96).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeletePayPalFundingOptionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(91).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeletePaymentMethodStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.i64.eq(a[1],c(h()))?b.db.table(86).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.b,a[0])}).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(89).getArr([[[c.a]]]).filter(function(a){return a.a===c.a}).forEach(function(a){return a["delete"]()}))}):b.resolve()},function(d){return b.i64.eq(a[1],c(g()))?b.db.table(85).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.b,a[0])}).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(89).getArr([[[c.a]]]).filter(function(a){return a.a===c.a}).forEach(function(a){return a["delete"]()}))}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsDoUserRiskVerificationStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsFetchP2mInvoiceDetailStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2bf20"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["be"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(m())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(l()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(j()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("order_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(i()),d[3],void 0,b.i64.add(b.i64.of_float(Date.now()),c(h())),c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsFetchP2mInvoiceStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ca"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(k()),c(j()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("request_id",a[0])],[d[0].set("order_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","payments",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsFetchPaymentMethodsForSellerStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["f2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(k()),c(j()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("request_id",a[0])],[d[0].set("receiver_id",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","payments",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsFetchSellerOnboardingStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["16a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("seller_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsInsertNewPaymentMethodCardStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("credit_card_number",a[1])],[d[2].set("card_first_six",a[2])],[d[2].set("card_last_four",a[3])],[d[2].set("csc",a[4])],[d[2].set("zip_code",a[5])],[d[2].set("country",a[6])],[d[2].set("credential_type",a[7])],[d[2].set("product_type",a[8])],[d[2].set("expire_month",a[9])],[d[2].set("expire_year",a[10])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsInsertPayPalFundingOptionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(91).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentPinVerificationResultStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(r()),c(q()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(p())})},function(d){return b.db.table(113).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(113).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("pin",a[1])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsCTAsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(104).add({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsRowStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(105).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(103).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[10],k:a[9],l:a[11],m:a[12],n:a[13],o:a[14],r:a[17],q:a[16],p:a[15],s:a[18],t:a[19],u:a[20]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPriceListItemStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.random()],c[0]=d[0],d,b.db.table(96).add({a:a[0],b:c[0],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsInvalidateNewPaymentCredentialOptionsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(90).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsLinkPayPalAccountStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["b8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.sp("511")},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("ba_token",a[1])],[d[2].set("login_ref_id",a[2])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsLocalOptimisticCreateP2PRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);v=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=b.i64.of_float(Date.now()),b.db.table(99).getArr([[[a[3]]],"optimistic"]).filter(function(d){return b.i64.eq(d.c,a[3])&&b.i64.lt(c(v()),c(u()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(99).add({c:a[3],b:a[3],a:d[1],d:c(t())})},function(d){return b.db.table(100).getArr([[[a[3]]],"optimistic"]).filter(function(d){return b.i64.eq(d.c,a[3])&&b.i64.lt(c(s()),c(r()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(100).add({c:a[3],b:a[3],a:d[1],i:a[2],g:c(q()),e:a[0],d:d[0],k:c(p())})},function(e){return d[2]=b.i64.to_string(a[3]),b.db.table(109).getArr([[[d[2]]]]).filter(function(a){return a.a===d[2]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(109).add({a:d[2],b:c(m())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[3]=c[0],c):(b=a.item,c=[b.c],d[3]=c[0],c)})},function(a){return d[3]===!0?(a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(l()),void 0)],d[13]=a[0],a,a=[d[13]],d[9]=a[0],a):(a=["Messenger Is Offline"],d[9]=a[0],a),a=[!0],d[10]=a[0],a,d[10]?(a=[b.localize(c(k()),void 0)],d[13]=a[0],a,a=[d[13]],d[12]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[12]=a[0],a),b.sp("11",void 0,c(j()),d[9],d[12])):b.resolve()},function(e){return e=[new b.Map()],d[5]=e[0],e,[d[5].set("requestee_id",a[0])],[d[5].set("transfer_amount",a[2])],[d[5].set("request_id",a[3])],[d[5].set("currency",c(i()))],[d[5].set("memo_text",a[1])],[d[5].set("timestamp_ms",d[1])],[d[5].set("group_thread_id",a[4])],[d[5].set("entry_point",void 0)],e=[b.toJSON(d[5])],d[6]=e[0],e,b.sp("1","payments",c(h()),d[6],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsLocalOptimisticSendP2PTransactionStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["1e"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);v=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=b.i64.of_float(Date.now()),b.db.table(99).getArr([[[a[4]]],"optimistic"]).filter(function(d){return b.i64.eq(d.c,a[4])&&b.i64.lt(c(v()),c(u()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(99).add({c:a[4],b:a[4],a:d[1],d:c(t())})},function(d){return b.db.table(101).getArr([[[a[4]]],"optimistic"]).filter(function(d){return b.i64.eq(d.c,a[4])&&b.i64.lt(c(s()),c(r()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(101).add({c:a[4],b:a[4],a:d[1],f:a[1],d:d[0],e:a[0],g:c(q()),h:a[3],i:a[2],j:c(p())})},function(e){return d[2]=b.i64.to_string(a[4]),b.db.table(109).getArr([[[d[2]]]]).filter(function(a){return a.a===d[2]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(109).add({a:d[2],b:c(m())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[3]=c[0],c):(b=a.item,c=[b.c],d[3]=c[0],c)})},function(a){return d[3]===!0?(a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(l()),void 0)],d[13]=a[0],a,a=[d[13]],d[9]=a[0],a):(a=["Messenger Is Offline"],d[9]=a[0],a),a=[!0],d[10]=a[0],a,d[10]?(a=[b.localize(c(k()),void 0)],d[13]=a[0],a,a=[d[13]],d[12]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[12]=a[0],a),b.sp("11",void 0,c(j()),d[9],d[12])):b.resolve()},function(e){return e=[new b.Map()],d[5]=e[0],e,[d[5].set("receiver_id",a[0])],[d[5].set("transfer_amount",a[3])],[d[5].set("sender_credential_id",a[2])],[d[5].set("request_id",a[4])],[d[5].set("currency",c(i()))],[d[5].set("memo_text",a[1])],[d[5].set("timestamp_ms",d[1])],[d[5].set("funding_option_id",a[5])],[d[5].set("group_thread_id",a[6])],[d[5].set("gift_options",void 0)],[d[5].set("entry_point",void 0)],e=[b.toJSON(d[5])],d[6]=e[0],e,b.sp("1","payments",c(h()),d[6],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticAcceptPaymentRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("request_transaction_id",a[1])],[d[2].set("requestee_credential_id",a[2])],[d[2].set("funding_option_id",a[3])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCancelPaymentRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["e4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("transaction_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCancelTransferStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["e6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("transaction_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticChangePasscodeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["aa"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("new_pin",a[2])],[d[2].set("old_pin",a[1])],[d[2].set("request_id",a[0])],[d[2].set("fbpay_pin",a[3])],[d[2].set("fbpay_new_pin",a[4])],[d[2].set("fbpay_password_bypass_token_proxy",a[5])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreateBiometricsNonceStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["126"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],[d[2].set("fbpay_pin_token",a[2])],[d[2].set("pin",a[3])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreateClientAuthKeyStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["15c"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("fbpay_pin",a[4])],[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],[d[2].set("app_id",a[2])],[d[2].set("public_key",a[3])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreatePasscodeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["70"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("pin",a[1])],[d[2].set("fbpay_pin",a[2])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeclinePaymentRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["96"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("transaction_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeclineTransferStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["f0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("transaction_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeleteBiometricsNonceStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["128"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeleteClientAuthKeyStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["15e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("fbpay_pin",a[3])],[d[2].set("client_auth_token",a[4])],[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],[d[2].set("app_id",a[2])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeletePasscodeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["72"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("pin",a[1])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeletePaymentCredentialStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ba"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("credential_id",a[1])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticInsertPasscodeRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["5e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("pin",a[1])],[d[2].set("fbpay_pin",a[2])],[d[2].set("password_encrypted",a[3])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticInsertServerRequestResponseStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.gt(c(h()),c(g()))}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(109).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticResetPasscodeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["b0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(r()),c(q()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(p())})},function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("password",a[1])],[d[2].set("request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticSetPaymentMethodDefualtStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["bc"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("credential_id",a[1])],[d[2].set("client_request_id",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticSwitchPasscodeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["144"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(m())})},function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(l()),c(k()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(j()),c:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("fbpay_pin",a[1])],[d[0].set("fbpay_password_bypass_token_proxy",a[2])],[d[0].set("new_pin_status",a[3])],[d[0].set("request_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","payments",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticVerifyBiometricsNonceRequestStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["12a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],[d[2].set("nonce",a[2])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticVerifyClientAuthTokenStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["160"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(o()),c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(108).add({a:a[0],b:c(m()),c:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("device_id",a[1])],[d[2].set("app_id",a[2])],[d[2].set("client_auth_token",a[3])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsP2mChargeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["e0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("payment_type",a[1])],[d[2].set("request_id",a[0])],[d[2].set("session_id",a[2])],[d[2].set("order_id",a[3])],[d[2].set("receiver_id",a[4])],[d[2].set("credential_id",a[5])],[d[2].set("currency",a[6])],[d[2].set("amount",a[7])],[d[2].set("nmor_payment_method_type",a[8])],[d[2].set("bank_code",a[9])],[d[2].set("csc",a[10])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsP2mCreateInvoiceStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsP2mCreateInvoiceV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["14a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(k()),c(j()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("request_id",a[0])],[d[0].set("currency",a[1])],[d[0].set("amount",a[2])],[d[0].set("thread_id",a[3])],[d[0].set("actor_id",a[4])],[d[0].set("session_id",a[5])],[d[0].set("optimistic_invoice_id",a[6])],[d[0].set("memo",a[7])],[d[0].set("onboarding_status",a[8])],[d[0].set("invoice_action",a[9])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","payments",c(h()),d[1],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsPaymentUserRiskVerificationStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["9a"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("transaction_id",a[1])],[d[2].set("submitted_screen",a[2])],[d[2].set("csc",a[3])],[d[2].set("user_input",a[4])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsQueryPayPalFundingOptionsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.sp("527",a[0],c(l()),void 0,void 0)},function(a){return b.sp("382")},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("payment_type",a[1])],[d[2].set("paypal_ba_id",a[2])],[d[2].set("amount",a[3])],[d[2].set("currency",a[4])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsQueryPaymentHistoryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["ec"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("before_timestamp",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsQueryThreadContactsEligibilityStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["11e"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return a=[b.createArray()],d[0]=a[0],a,b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[1]=c[0],c):(b=a.item,c=[b.c],d[1]=c[0],c)})},function(a){return d[1]===!0?(a=[!0],d[5]=a[0],a,d[5]?(a=[b.localize(c(k()),void 0)],d[11]=a[0],a,a=[d[11]],d[7]=a[0],a):(a=["Messenger Is Offline"],d[7]=a[0],a),a=[!0],d[8]=a[0],a,d[8]?(a=[b.localize(c(j()),void 0)],d[11]=a[0],a,a=[d[11]],d[10]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[10]=a[0],a),b.sp("11",void 0,c(i()),d[7],d[10])):b.resolve()},function(e){return e=[new b.Map()],d[3]=e[0],e,[d[3].set("request_id",a[0])],[d[3].set("thread_id",a[1])],[d[3].set("contact_ids",d[0])],e=[b.toJSON(d[3])],d[4]=e[0],e,b.sp("1","payments",c(h()),d[4],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsRefetchNewPaymentCredentialOptionsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.sp("527",a[0],c(l()),void 0,void 0)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("target_id",a[1])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsUpdateAuthRequestResultStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(108).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.gt(c(h()),c(g()))}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(108).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalRequestStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(100).getArr([[[a[3],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalTransactionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(101).getArr([[[a[3],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalTransactionWithErrorStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1],e:a[4]})})},function(c){return b.db.table(101).getArr([[[a[3],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({g:a[2],j:a[5]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateP2mInvoiceStatusStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(94).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateP2mPaymentMethodCounterStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(89).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=["",c(h())],d[0]=e[0],d[1]=e[1],e):(b=a.item,e=[b.a,b.d],d[0]=e[0],d[1]=e[1],e)})},function(e){return b.db.table(89).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){var e=a.update;a.item;return e({d:b.i64.add(d[1],c(g())),b:b.i64.of_float(Date.now()),c:!1})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentMethodCardStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["e8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["bf83ce4856cb50de"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["9fbe731605fcfcd2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.lt(c(n()),c(m()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(109).add({a:a[0],b:c(l())})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?(a=[!0],d[4]=a[0],a,d[4]?(a=[b.localize(c(k()),void 0)],d[10]=a[0],a,a=[d[10]],d[6]=a[0],a):(a=["Messenger Is Offline"],d[6]=a[0],a),a=[!0],d[7]=a[0],a,d[7]?(a=[b.localize(c(j()),void 0)],d[10]=a[0],a,a=[d[10]],d[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],d[9]=a[0],a),b.sp("11",void 0,c(i()),d[6],d[9])):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("request_id",a[0])],[d[2].set("credential_id",a[1])],[d[2].set("number",a[2])],[d[2].set("csc",a[3])],[d[2].set("zip_code",a[4])],[d[2].set("product_type",a[5])],[d[2].set("expire_month",a[6])],[d[2].set("expire_year",a[7])],[d[2].set("credential_type",a[8])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","payments",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentMethodPreferredStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(89).getArr([[[a[1]]]]).filter(function(c){return c.a===a[1]&&c.c!==!0&&b.i64.gt(a[0],c.b)}).forEach(function(b){var c=b.update;b.item;return c({c:!0,b:a[0]})})},function(c){return b.db.table(89).getArr([[[{lt:a[1]}],[{gt:a[1]}]]]).filter(function(c){return c.a!==a[1]&&c.c===!0&&b.i64.gt(a[0],c.b)}).forEach(function(b){var c=b.update;b.item;return c({c:!1,b:a[0]})})},function(a){return b.db.table(89).getArr().forEach(function(a){var d=a.item;return b.seq([function(a){return c[0]=d.a,b.db.table(86).getArr().filter(function(a){return a.a===c[0]}).forEach(function(a){a=a.item;return b.db.table(86).add({b:a.b,a:a.a,c:a.c,e:a.e,f:a.f,d:a.d})})},function(a){return b.db.table(85).getArr().filter(function(a){return a.a===c[0]}).forEach(function(a){a=a.item;return b.db.table(85).add({b:a.b,a:a.a,e:a.e,d:a.d,c:a.c})})}])})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentPinVerificationResultStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(113).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.gt(c(h()),c(g()))}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(113).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdateRequestWithStatusStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(100).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({g:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertBankPaymentMethodStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[b.i64.of_int32(a[0].length)],d[0]=e[0],e,b.i64.gt(d[0],c(h()))?b.loopAsync(d[0],function(e){return d[1]=e,b.seq([function(c){return b.ntop("Array",3,a[0],d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return a=[d[2].get("payment_method_id"),d[2]],d[3]=a[0],a,a=[d[2].get("receiver_id"),d[2]],d[4]=a[0],a,a=[d[2].get("bank_code"),d[2]],d[5]=a[0],a,a=[d[2].get("bank_image_url"),d[2]],d[6]=a[0],a,a=[d[2].get("bank_title"),d[2]],d[7]=a[0],a,b.db.table(89).getArr([[[d[3]]]]).filter(function(a){return a.a===d[3]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=["",c(g())],d[8]=e[0],d[9]=e[1],e):(b=a.item,e=[b.a,b.d],d[8]=e[0],d[9]=e[1],e)})},function(a){return b.db.table(89).put({a:d[3],c:!1,b:b.i64.of_float(Date.now()),d:d[9]})},function(a){return b.db.table(88).add({a:d[3],b:d[4],c:d[5],d:d[6],e:d[7]})}])}):b.resolve()},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSPaymentsUpsertCardDetailsStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(86).put({b:a[0],a:a[5],c:a[1],d:a[2],e:a[3],f:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertCompletePaymentMethodStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(89).put({a:a[2],c:a[0],b:a[1],d:c(i())})},function(d){return b.i64.eq(a[5],c(h()))?b.db.table(86).put({b:a[3],a:a[2],c:a[6],d:a[7],e:a[8],f:a[9]}):b.resolve()},function(d){return b.i64.eq(a[5],c(g()))?b.db.table(85).put({b:a[3],a:a[2],e:a[10],c:a[12],d:a[11]}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpsertP2mChargeResponseStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(97).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16],r:a[17],s:a[18],t:a[19],u:a[20],v:a[21]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertP2mInvoiceDetailStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(94).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertPaymentClientAuthTokenStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(107).getArr([[[a[0],a[2],a[3]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.b===a[2]&&d.c===a[3]&&b.i64.gt(c(h()),c(g()))}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(107).put({a:a[0],b:a[2],c:a[3],d:a[1],e:a[4]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpsertPaymentMethodDetailsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(89).put({a:a[2],c:a[0],b:a[1],d:c(g())})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpsertServerRequestResponseStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(109).getArr([[[a[0]]]]).filter(function(d){return d.a===a[0]&&b.i64.gt(c(h()),c(g()))}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(109).put({a:a[0],b:a[1],c:a[2],d:a[3],e:b.i64.to_string(a[4]),f:a[5]}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpsertUserRiskVerificationResultStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(98).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16],r:a[17],s:a[18]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelFeatureStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(137).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelOutputStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(138).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelRuleStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(136).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingGetInboxActiveNowScoreStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(134).getArr([[[a[0],c(h())]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.d,c(g()))}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[0],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSRankingGetIsActiveStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a,b=arguments,c=b[b.length-1];c.n;var d=[];return c.log("Presence table does not exist!",[0,3]),a=[!1],d[0]=a[0],a,c.resolve(d)};e.exports=a}),null);
__d("LSRankingGetScoreTypeRankingScoreStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(134).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.d,a[1])}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[0],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSRankingUserHasStoryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("278",a[0]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],d[2]=a[2],a})},function(a){return b.i64.neq(d[2],void 0)?(a=[b.i64.eq(d[2],c(h()))||b.i64.eq(d[2],c(g()))],d[4]=a[0],a):(a=[!1],d[4]=a[0],a),a=[d[4]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSRankingUserHasUnreadStoryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("278",a[0]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],d[2]=a[2],a})},function(a){return b.i64.neq(d[2],void 0)?(a=[b.i64.eq(d[2],c(g()))],d[4]=a[0],a):(a=[!1],d[4]=a[0],a),a=[d[4]],e[0]=a[0],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSSearchDeleteAllRecentSearchesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(68).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchDeleteRecentSearchStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(68).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertMessageSearchResultStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(69).add({a:a[0],d:a[3],c:a[2],b:a[1],e:a[4],h:a[5],f:a[6],g:a[7],l:a[9],m:a[10],i:a[8],j:a[11],k:a[12]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertRecentSearchResultStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.i64.eq(a[1],c(g()))?(e=[a[8]],d[1]=e[0],e):(e=[void 0],d[1]=e[0],e),b.db.table(68).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:d[1],j:a[9],k:a[10]})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSSearchInsertRecentSearchStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSSearchInsertSearchResultStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(65).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertSearchSectionStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(66).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchUpdateMessageSearchQueryStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(70).put({a:a[0],b:a[1],c:a[5]==null?c(g()):a[5],d:a[2],e:a[3],f:a[4],g:a[6]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSSearchUpdateSearchQueryStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.i64.eq(a[1],c(h()))?b.db.table(67).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({b:a[2],e:a[3],f:a[4]})}):b.resolve()},function(d){return b.i64.eq(a[1],c(g()))?b.db.table(67).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({c:a[2],e:a[3],f:a[4]})}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerDownloadStickerPackStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["10a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(122).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e,f){f=e.done;e=e.value;return f?(f=[new b.Map()],d[1]=f[0],f,[d[1].set("pack_id",a[0])],[d[1].set("sticker_width",a[1])],[d[1].set("sticker_thumbnail_width",a[2])],[d[1].set("scale",a[3])],f=[b.toJSON(d[1])],d[2]=f[0],f,b.sp("1","sticker_pack_download",c(h()),d[2],void 0,void 0,c(g()),void 0)):(e.item,b.log("pack ID already exists",[0,2]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerPackDetailFetchStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["102"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("sticker_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","sticker_to_collection",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerSearchQueryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(124).put({a:a[0],b:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("query",a[0])],[d[0].set("width",a[1])],[d[0].set("scale",a[2])],[d[0].set("thumbnail_width",a[3])],e=[b.createArray()],d[1]=e[0],e,[(d[1].push("sticker_search"),d[1])],e=[b.i64.random()],d[2]=e[0],e,[(d[1].push(b.i64.to_string(d[2])),d[1])],e=[b.toJSON(d[1])],d[3]=e[0],e,e=[b.toJSON(d[0])],d[4]=e[0],e,b.sp("1",d[3],c(h()),d[4],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPackStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["11a"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("pack_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","remove_sticker_pack",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPacksStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["196"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("pack_ids",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","remove_sticker_packs",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerIssueReorderStickerPacksStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["140"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("pack_id",a[0])],[d[0].set("old_index",a[1])],[d[0].set("new_index",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","reorder_sticker_packs",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStickerQueryStickerStoreStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["116"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return a=[new b.Map()],d[0]=a[0],a,a=[b.toJSON(d[0])],d[1]=a[0],a,b.sp("1","query_sticker_store",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesClearStoryAdsTablesStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(57).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(58).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(59).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesDeleteOptimisticStoryStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.le(d.J,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryAdUnitStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(57).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryRepliesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[b.i64.sub(b.i64.of_float(Date.now()),c(j()))],d[0]=f[0],f):(e=a.item,f=[e.g==null?b.i64.sub(b.i64.of_float(Date.now()),c(i())):e.g],d[0]=f[0],f)})},function(e){return b.db.table(12).getArr().filter(function(c){return b.i64.ge(c.b,d[0])&&c.r===b.i64.to_string(a[0])}).forEach(function(a){var d=a.item;return b.db.table(12).getArr().filter(function(a){return b.i64.eq(a.a,d.a)&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(a.b,d.b)&&a.e===d.e}).forEach(function(a){var b=a.update;a.item;return b({w:void 0,y:void 0,z:void 0,D:void 0,H:void 0,I:void 0})})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesDeleteStorySharesStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[b.i64.sub(b.i64.of_float(Date.now()),c(l()))],d[0]=f[0],f):(e=a.item,f=[e.g==null?b.i64.sub(b.i64.of_float(Date.now()),c(k())):e.g],d[0]=f[0],f)})},function(e){return b.db.table(16).getArr().filter(function(c){return b.i64.ge(c.b,d[0])&&b.i64.eq(c.bS,a[0])}).forEach(function(a){var d=a.item;return b.db.table(16).getArr().filter(function(a){return b.i64.eq(a.a,d.a)&&b.i64.eq(c(j()),c(i()))&&a.c===d.c&&b.i64.eq(c(h()),c(g()))&&a.e===d.e}).forEach(function(a){var b=a.update;a.item;return b({F:void 0,G:void 0,I:void 0,H:void 0,K:void 0,L:void 0,m:void 0})})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCTAStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(59).put({a:a[0],c:a[2],b:a[1],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],j:a[8],k:a[9]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCardStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(58).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],l:a[10],m:a[11],n:a[12],k:a[13],o:a[14],p:a[15]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdUnitStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(57).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInstagramStoryReplyIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["178"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("story_id",a[0])],[d[0].set("reply_text",a[1])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","instagram_story_reply",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesIssueStoryAdsFetchStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4c"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("number_of_organic_story_buckets",a[0])],[d[0].set("number_of_recently_seen_ads",c(i()))],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_ads_fetch",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]],"optimistic"]).filter(function(d){return d.b===a[0]&&b.i64.eq(d.l,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]],"optimistic"]).filter(function(d){return d.b===a[0]&&b.i64.eq(d.l,c(h()))}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],d:a[2],l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomDeleteStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var b=a.update;a.item;return b({l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["16c"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("room_id",a[0])],[d[0].set("invitee_type",a[1])],[d[0].set("added_invitee_ids",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","room_invitee_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantDeleteStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(64).getArr([[[a[0],a[1],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])&&b.i64.eq(c.c,a[2])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantUpsertStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(64).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,a[1])&&b.i64.gt(d.h,c(h()))}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(64).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:c(g())}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.l,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["164"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(63).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.neq(d.l,c(j()))}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,b.seq([function(a){return d[2]=e.a,b.db.table(63).getArr().filter(function(a){return b.i64.eq(a.a,d[2])}).forEach(function(a){var b=a.update;a.item;return b({l:c(i())})})},function(a){return a=[new b.Map()],d[0]=a[0],a,[d[0].set("room_id",d[2])],a=[b.toJSON(d[0])],d[1]=a[0],a,b.sp("1","room_revoke",c(h()),d[1],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomTruncateStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(63).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(16).getArr().filter(function(c){return b.i64.eq(c.bS,a[3])&&c.t===a[1]}).forEach(function(b){var c=b.update;b.item;return c({s:a[0],t:a[2]})})},function(c){return b.db.table(19).getArr().filter(function(c){return b.i64.eq(c.o,a[3])&&c.g===a[1]}).forEach(function(b){var c=b.update;b.item;return c({f:a[0],g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["166"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return a[1]?b.sp("464",a[3],"xma_rooms_speakeasy_interested","xma_rooms_speakeasy_undo",a[0]):b.sp("464",a[3],"xma_rooms_speakeasy_undo","xma_rooms_speakeasy_interested",a[0])},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("room_id",a[0])],[d[1].set("is_interested",a[1])],[d[1].set("reminder_timestamp_ms",a[2])],[d[1].set("reminder_time",c(i()))],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","room_update_interested",c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return a[0]?b.sp("291",a[1],a[2],c(h()),void 0,void 0,void 0,void 0):b.sp("293",a[1],a[2],c(g()))},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["168"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("room_id",a[0])],[d[0].set("name",a[1])],[d[0].set("emoji",a[2])],[d[0].set("start_time_ms",a[3])],[d[0].set("audience_type",a[4])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","room_update",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var d=b.update;b.item;return d({e:a[1],f:a[2],g:a[3],h:a[4],k:a[5],l:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpsertStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[1]]],"optimistic"]).filter(function(d){return d.b===a[1]&&b.i64.gt(d.l,c(h()))}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(63).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[11],k:a[8],j:a[12],l:c(g())}):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["158"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["64"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(c){return d[3]=a[3]==null?b.i64.of_float(Date.now()):a[3],b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(d){return b.db.table(63).getArr([[[a[1]]],"optimistic"]).filter(function(d){return d.b===a[1]&&b.i64.lt(d.l,c(l()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(63).add({a:a[0],b:a[1],c:d[0],d:a[1],f:a[2],g:d[3],e:a[4],k:a[5],i:c(k()),j:c(j()),l:c(i())})},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("optimistic_client_token",a[1])],[d[1].set("callstart_timestamp_ms",d[3])],[d[1].set("name",a[4])],[d[1].set("emoji",a[2])],[d[1].set("audience_type",a[5])],[d[1].set("link_surface",a[7])],[d[1].set("invitee_type",a[9])],[d[1].set("join_permission",a[6])],[d[1].set("chat_mode",a[10])],[d[1].set("rooms_logging_data",a[14])],[d[1].set("is_screensharing_disabled",a[8])],[d[1].set("thread_id",a[11])],[d[1].set("allowlisted_participant_ids",a[12])],[d[1].set("is_e2e_encrypted",a[13])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","room_create",c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryArchiveStoryFetchIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["108"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return a[1]?b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[4]=a[0],a})},function(a){return b.db.table(53).getArr([[[d[4],c(j())]],"optimistic"]).filter(function(a){return b.i64.eq(a.b,d[4])&&b.i64.eq(a.c,c(i()))}).next().then(function(a,c){var e=a.done;a=a.value;return e?(e=[void 0],d[5]=e[0],e):(c=a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,c.a)}).sortBy([["g","ASC"]]).next().then(function(b,c){var a=b.done;b=b.value;return a?(a=[void 0],d[7]=a[0],a):(c=b.item,a=[c.g],d[7]=a[0],a)})},function(a){return a=[d[7]],d[5]=a[0],a}]))})},function(a){return a=[d[5]],d[1]=a[0],a}]):b.resolve((e=[void 0],d[1]=e[0],e))},function(a){return a=[new b.Map()],d[2]=a[0],a,[d[2].set("timestamp_ms",d[1])],a=[b.toJSON(d[2])],d[3]=a[0],a,b.sp("1","story_archive_range_query",c(h()),d[3],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryBucketTruncateStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(53).getArr().filter(function(c){return b.i64.eq(c.c,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryComputeRingStateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["133fe"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(c){return b.sp("275",a[0]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(a){return b.i64.neq(d[0],void 0)?(b.i64.eq(d[0],c(i()))?(a=[c(h())],d[5]=a[0],a):(a=[c(g())],d[5]=a[0],a),a=[d[5]],d[3]=a[0],a):(a=[void 0],d[3]=a[0],a),a=[d[0],d[1],d[3]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryContactSyncFromBucketStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1b5b5b4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["133fe"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(7).getArr().filter(function(a){return!0}).forEach(function(a){var b=a.update;a.item;return b({t:void 0,D:void 0})})},function(a){return b.db.table(53).getArr().filter(function(a){return b.i64.eq(a.c,c(m()))}).forEach(function(a){var e=a.item;return d[2]=e.f,b.i64.eq(d[2],c(l()))?(a=[c(k())],d[1]=a[0],a):(b.i64.eq(d[2],c(j()))?(a=[c(i())],d[4]=a[0],a):(a=[void 0],d[4]=a[0],a),a=[d[4]],d[1]=a[0],a),b.db.table(7).getArr([[[e.b]]]).filter(function(a){return b.i64.eq(a.a,e.b)&&b.i64.eq(c(h()),c(g()))}).forEach(function(a){var b=a.update;a.item;return b({D:d[2],t:d[1]})})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.J,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("optimistic_story_id",a[0])],[d[0].set("optimistic_client_id",a[1])],[d[0].set("text",a[2])],[d[0].set("media_id",a[4])],[d[0].set("sticker_id",a[3])],[d[0].set("copy_media",a[5])],[d[0].set("montage_overlays",a[6])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_create",c(h()),d[1],void 0,void 0,c(g()),void 0)},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryCreationSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],c:c(h()),J:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.J,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({J:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("253",a[0])},function(c){return b.sp("284",a[0])},function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,b.seq([function(a){return c[1]=d.a,c[3]=d.b,c[2]=d.f,b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,c[3])&&b.i64.neq(a.a,c[1])}).next().then(function(a,d){d=a.done;a=a.value;return d?b.seq([function(a){return b.sp("261",c[2],void 0,void 0)},function(a){return b.db.table(53).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])}).forEach(function(a){return a["delete"]()})}]):(a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.a,c[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.sp("276",c[2])}]))})},function(a){return b.sp("463",c[2])}]))})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryGetReadStateFromBucketStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(e){return b.db.table(53).getArr([[[a[0],c(i())]],"optimistic"]).filter(function(d){return b.i64.eq(a[0],d.b)&&b.i64.eq(c(h()),d.c)}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c(g()),void 0],d[0]=e[0],d[1]=e[1],e):(b=a.item,e=[b.f,void 0],d[0]=e[0],d[1]=e[1],e)})},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryInventoryReplenishStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["106"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["7d0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["1d4c0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.db.table(53).getArr().filter(function(a){return b.i64.eq(a.f,c(r()))}).count().then(function(a){return d[0]=a})},function(e){return b.i64.lt(d[0],a[0])?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?c(q()):a.d,c(p()))||b.i64.eq(a.b,c(o())))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(a){var e=a.done;a.value;return e?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string(c(n())),c:b.i64.add(b.i64.of_float(Date.now()),c(m())),b:c(l())})},function(a){return a=[b.createArray()],d[1]=a[0],a,[(d[1].push(b.i64.to_string(c(k()))),d[1])],[(d[1].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),c(j())))),d[1])],a=[d[1].join(":")],d[2]=a[0],a,a=[new b.Map()],d[3]=a[0],a,[d[3].set("dedup_key",d[2])],[d[3].set("page_num",c(i()))],a=[b.toJSON(d[3])],d[4]=a[0],a,b.sp("1","story_more_buckets",c(h()),d[4],void 0,void 0,c(g()),void 0)}]):0}):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryMarkReadSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(55).getArr([[[a[1],d[0],c(j())]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(e.b,d[0])&&b.i64.eq(e.c,c(i()))&&b.i64.le(e.f,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(g())})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryMoreBucketsIssueTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["106"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["7d0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1d4c0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["106"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["7d0"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1d4c0"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["106"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["7d0"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["1d4c0"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);L=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.i64.eq(a[0],c(L()))?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?c(K()):a.d,c(J()))||b.i64.eq(a.b,c(I())))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(a){var e=a.done;a.value;return e?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string(c(H())),c:b.i64.add(b.i64.of_float(Date.now()),c(G())),b:c(F())})},function(a){return a=[b.createArray()],d[1]=a[0],a,[(d[1].push(b.i64.to_string(c(E()))),d[1])],[(d[1].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),c(D())))),d[1])],a=[d[1].join(":")],d[2]=a[0],a,a=[new b.Map()],d[3]=a[0],a,[d[3].set("dedup_key",d[2])],[d[3].set("page_num",c(C()))],a=[b.toJSON(d[3])],d[4]=a[0],a,b.sp("1","story_more_buckets",c(B()),d[4],void 0,void 0,c(A()),void 0)}]):0}):b.db.table(53).getArr().sortBy([["e","DESC"]]).next().then(function(a,e){var f=a.done;a=a.value;return f?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?c(z()):a.d,c(y()))||b.i64.eq(a.b,c(x())))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(e){var a=e.done;e.value;return a?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string(c(w())),c:b.i64.add(b.i64.of_float(Date.now()),c(v())),b:c(u())})},function(a){return a=[b.createArray()],d[2]=a[0],a,[(d[2].push(b.i64.to_string(c(t()))),d[2])],[(d[2].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),c(s())))),d[2])],a=[d[2].join(":")],d[3]=a[0],a,a=[new b.Map()],d[4]=a[0],a,[d[4].set("dedup_key",d[3])],[d[4].set("page_num",c(r()))],a=[b.toJSON(d[4])],d[5]=a[0],a,b.sp("1","story_more_buckets",c(q()),d[5],void 0,void 0,c(p()),void 0)}]):0}):(e=a.item,d[2]=b.i64.add(e.e,c(o())),b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?c(n()):a.d,c(m()))||b.i64.eq(a.b,c(l())))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(e){var a=e.done;e.value;return a?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string(d[2]),c:b.i64.add(b.i64.of_float(Date.now()),c(k())),b:c(j())})},function(a){return a=[b.createArray()],d[3]=a[0],a,[(d[3].push(b.i64.to_string(d[2])),d[3])],[(d[3].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),c(i())))),d[3])],a=[d[3].join(":")],d[4]=a[0],a,a=[new b.Map()],d[5]=a[0],a,[d[5].set("dedup_key",d[4])],[d[5].set("page_num",d[2])],a=[b.toJSON(d[5])],d[6]=a[0],a,b.sp("1","story_more_buckets",c(h()),d[6],void 0,void 0,c(g()),void 0)}]):0}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticCreateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).filter(function(c){return b.i64.eq(c.b,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?b.seq([function(d){return b.db.table(53).getArr([[[a[0],a[1]]],"optimistic"]).filter(function(d){return b.i64.eq(d.b,a[0])&&b.i64.eq(d.c,a[1])&&b.i64.lt(c(l()),c(k()))}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(53).add({a:a[0],b:a[0],c:a[1],d:""})},function(b){return b=[a[0]],d[0]=b[0],b}]):(f=e.item,g=[f.a],d[0]=g[0],g)})},function(e){return b.db.table(54).getArr([[[a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[2])}).next().then(function(e){var f=e.done;e.value;return f?b.seq([function(d){return b.db.table(54).getArr([[[a[3]]],"optimistic"]).filter(function(d){return d.e===a[3]&&b.i64.lt(d.J,c(j()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(54).add({a:a[2],e:a[3],b:d[0],c:c(i()),d:a[4],f:a[5],g:b.i64.of_float(Date.now()),h:c(h()),i:a[6],j:a[7],k:a[8],l:a[9],m:a[10],n:a[11],o:a[12],p:a[13],q:a[14],r:a[15],s:a[16],t:a[17],u:a[18],v:a[19],J:c(g())})}]):0})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticDeleteStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["34"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["c8"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.neq(d.J,c(j()))}).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var b=a.update;a.item;return b({J:c(i())})})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("story_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_delete",c(h()),d[1],void 0,void 0,c(g()),void 0)}]))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticMarkReadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["24"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1b5b5b4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(55).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])}).next().then(function(e){var f=e.done;e.value;return f?b.seq([function(d){return b.db.table(55).getArr([[[a[0],a[1],c(p())]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,a[1])&&b.i64.eq(d.c,c(o()))&&b.i64.lt(d.f,c(n()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(55).add({a:a[0],b:a[1],c:c(m()),e:b.i64.of_float(Date.now()),f:c(l())})},function(e){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.d,c(k()))}).next().then(function(e,f){var a=e.done;e=e.value;return a?0:(f=e.item,d[2]=f.b,b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,d[2])}).sortBy([["g","DESC"]]).next().then(function(e,g){var a=e.done;e=e.value;return a?0:(g=e.item,b.i64.eq(f.a,g.a)?b.db.table(53).getArr([[[d[2]]]]).filter(function(a){return b.i64.eq(a.a,d[2])}).next().then(function(d,e){var a=d.done;d=d.value;return a?0:(e=d.item,b.sp("261",e.b,c(j()),c(i())))}):b.resolve())}))})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("story_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_mark_read",c(h()),d[1],void 0,void 0,c(g()),void 0)}]):0})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticPollVoteStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8c"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(55).getArr([[[a[0],d[0],c(m())]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(e.b,d[0])&&b.i64.eq(e.c,c(l()))&&b.i64.lt(e.f,c(k()))}).forEach(function(a){return a["delete"]()})},function(e){return b.db.table(55).add({b:d[0],a:a[0],c:c(j()),e:b.i64.of_float(Date.now()),d:a[1],f:c(i())})},function(e){return e=[new b.Map()],d[1]=e[0],e,[d[1].set("story_id",a[0])],[d[1].set("vote_idx",a[1])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","story_poll_vote",c(h()),d[2],void 0,void 0,c(g()),void 0)}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticReactStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["98"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(56).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e){var f=e.done;e.value;return f?b.seq([function(d){return b.db.table(56).getArr([[[a[5]]],"optimistic"]).filter(function(d){return d.f===a[5]&&b.i64.lt(d.g,c(j()))}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(56).add({a:a[0],f:a[5],b:a[1],c:a[2],d:a[3],e:a[4],g:c(i())})},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("optimistic_reaction_id",a[0])],[d[0].set("story_id",a[1])],[d[0].set("offline_threading_id",a[6])],[d[0].set("reaction",a[3])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","story_reaction",c(h()),d[1],void 0,void 0,c(g()),void 0)}]):0})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticUploadFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var b=a.update;a.item;return b({c:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryParticipantBucketDeleteStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(55).getArr([[[a[0],d[0],c(i())]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(e.b,d[0])&&b.i64.eq(e.c,c(h()))&&b.i64.le(e.f,c(g()))}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.db.table(55).getArr([[[a[0],d[0],c(j())]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(e.b,d[0])&&b.i64.eq(e.c,c(i()))&&b.i64.le(e.f,c(h()))}).forEach(function(a){var b=a.update;a.item;return b({f:c(g())})})},function(c){return b.db.table(60).getArr([[[a[0],b.i64.to_string(a[1])]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.b===b.i64.to_string(a[1])}).forEach(function(b){var c=b.update;b.item;return c({l:a[2],n:a[3]})})}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionFailureStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(56).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.g,c(g()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionSuccessStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["78"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(56).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var d=b.update;b.item;return d({a:a[1],g:c(g())})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingClearStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(7).getArr().filter(function(a){return b.i64.neq(a.t,void 0)}).forEach(function(a){var b=a.update;a.item;return b({t:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryRingExpirationTimestampUpdateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["a4cb800"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(54).getArr().filter(function(c){return b.i64.eq(c.f,a[0])}).sortBy([["g","DESC"]]).next().then(function(e,f){var n=e.done;e=e.value;return n?b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(m()),c(l()))&&b.i64.neq(d.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}):(f=e.item,d[2]=f.g,b.i64.neq(d[2],void 0)?(d[3]=b.i64.add(d[2],c(k())),b.db.table(7).getArr([[[a[0]]]]).filter(function(e){return b.i64.eq(e.a,a[0])&&b.i64.eq(c(j()),c(i()))&&b.i64.neq(e.z,d[3])}).forEach(function(a){var b=a.update;a.item;return b({z:d[3]})})):b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.neq(d.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}))})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingLatestStatusStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1b5b5b4"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["133fe"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,d[0]=a[0],a})},function(e){return b.i64.neq(a[0],d[0])?b.seq([function(e){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).filter(function(c){return b.i64.eq(c.b,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0],d[4]=f[0],d[5]=f[1],f):(e=a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,e.a)}).sortBy([["g","DESC"]]).next().then(function(e,f){var a=e.done;e=e.value;return a?(a=[void 0,void 0],d[7]=a[0],d[8]=a[1],a):(f=e.item,b.seq([function(a){return d[14]=f.g,d[15]=f.h,b.sp("4").then(function(a){return a=a,d[10]=a[0],a})},function(a){return b.db.table(55).getArr([[[f.a,d[10],c(n())]]]).filter(function(a){return b.i64.eq(a.a,f.a)&&b.i64.eq(a.b,d[10])&&b.i64.eq(a.c,c(m()))}).next().then(function(a,e){e=a.done;a=a.value;return e?(e=[c(l()),b.i64.add(d[14]==null?c(k()):d[14],d[15]==null?c(j()):d[15])],d[11]=e[0],d[12]=e[1],e):(a.item,e=[c(i()),b.i64.add(d[14]==null?c(h()):d[14],d[15]==null?c(g()):d[15])],d[11]=e[0],d[12]=e[1],e)})},function(a){return a=[d[11],d[12]],d[7]=a[0],d[8]=a[1],a}]))})},function(a){return a=[d[7],d[8]],d[4]=a[0],d[5]=a[1],a}]))})},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):b.resolve((e=[void 0,void 0],d[2]=e[0],d[3]=e[1],e))},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingRefreshStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("278",a[0]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],c[2]=a[2],a})},function(d){return b.sp("261",a[0],c[0],c[2])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateOnLookupStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["133fe"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1b5b5b4"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["133fe"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(e){return b.db.table(54).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.neq(c.f,a[0])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[void 0,void 0],d[0]=g[0],d[1]=g[1],g):(f=e.item,b.seq([function(e){return d[8]=f.f,e=[b.createArray()],d[3]=e[0],e,[(d[3].push(!1),d[3])],b.db.table(54).getArr([[[{lt:a[1]}],[{gt:a[1]}]]]).filter(function(c){return b.i64.eq(c.f,d[8])&&b.i64.neq(c.a,a[1])}).forEach(function(e){var f=e.item;return b.seq([function(c){return b.db.table(55).getArr([[[f.a,a[0]]]]).filter(function(c){return b.i64.eq(c.a,f.a)&&b.i64.eq(c.b,a[0])}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!0],d[9]=b[0],b):(a.item,b=[!1],d[9]=b[0],b)})},function(a){return b.ntop("Array",3,d[3],c(n())).then(function(a){return a=a,d[11]=a[0],a})},function(a){return b.ntop("Array",4,d[3],c(m()))},function(a){return[(d[3].push(d[11]||d[9]),d[3])]}])})},function(a){return b.ntop("Array",3,d[3],c(l())).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[4]?(a=[d[8],c(k())],d[6]=a[0],d[7]=a[1],a):(a=[d[8],c(j())],d[6]=a[0],d[7]=a[1],a),a=[d[6],d[7]],d[0]=a[0],d[1]=a[1],a}]))})},function(a){return b.i64.neq(d[0],void 0)?(b.i64.neq(d[1],void 0)?(b.i64.eq(d[1],c(i()))?(a=[c(h())],d[6]=a[0],a):(a=[c(g())],d[6]=a[0],a),a=[d[6]],d[4]=a[0],a):(a=[void 0],d[4]=a[0],a),b.sp("261",d[0],d[1],d[4])):b.resolve()}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(k()),c(j()))}).forEach(function(b){var c=b.update;b.item;return c({t:a[1],D:a[2]})})},function(d){return b.db.table(53).getArr([[[a[0],c(i())]],"optimistic"]).filter(function(d){return b.i64.eq(d.b,a[0])&&b.i64.eq(d.c,c(h()))}).forEach(function(b){var d=b.update;b.item;return d({f:a[2]==null?c(g()):a[2]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdateMediaIDStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);g=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.J,c(g()))}).forEach(function(b){var c=b.update;b.item;return c({k:a[1]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdatePostingStatusStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(b){var c=b.update;b.item;return c({c:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryUpsertAttributionRangeStoredProcedure",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSStoriesStoryVerifyRowExistsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8e"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).next().then(function(e){var f=e.done;e.value;return f?(e=[b.createArray()],d[0]=e[0],e,[(d[0].push(a[0]),d[0])],f=[new b.Map()],d[1]=f[0],f,[d[1].set("story_ids",d[0])],e=[b.toJSON(d[1])],d[2]=e[0],e,b.sp("1","story_point_query",c(h()),d[2],void 0,void 0,c(g()),void 0)):0})},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSTypingUpdateTypingIndicatorStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2710"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(d){return a[2]?b.db.table(52).put({a:a[0],b:a[1],c:b.i64.add(b.i64.of_float(Date.now()),c(i()))}):b.resolve()},function(d){return a[2]?b.resolve():b.db.table(52).getArr([[[a[0],a[1]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(c(h()),c(g()))&&b.i64.eq(d.b,a[1])}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("CometDevToolsLightspeedEvents.bs",[],(function(a,b,c,d,e,f){"use strict";a="TASK";f.task=a}),null);
__d("LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(a){return b.db.table(114).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(114).add({a:void 0,b:b.i64.of_float(Date.now()),c:a[0]})},function(c){return b.sp("531",b.i64.neq(a[0],[0,1]))}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSConnectivityTruncateTableAndSetShowErrorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(a){return b.db.table(115).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(115).add({a:void 0,b:b.i64.of_float(Date.now()),c:a[0]})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSContactContactUploadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.seq([function(d){return b.db.table(7).getArr([[[{gt:a[0]}]]]).filter(function(c){return b.i64.gt(c.a,a[0])&&(b.i64.eq(c.H,[0,1])||b.i64.eq(c.H,[0,0]))}).slice(0,b.i64.to_float(a[1])).forEach(function(a){a=a.item;return[(c[0].push(a.a),c[0])]})},function(d){return d=[b.i64.of_int32(c[0].length)],c[1]=d[0],d,d=[new b.Map()],c[2]=d[0],d,[c[2].set("contact_ids",c[0])],[c[2].set("is_last_page",b.i64.lt(c[1],a[1]))],[c[2].set("last_primary_key",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","contact_upload",[0,152],c[3],void 0,a[2],[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactInsertContactStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.seq([function(c){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.lt(c.J,a[21])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(7).add({a:a[0],b:a[2],c:a[3],d:a[4],e:a[5],f:a[6],g:a[7],h:a[9],K:a[40],i:a[10],k:a[11],l:a[12],m:a[35],n:a[14],o:a[17],p:a[18],q:a[19],r:a[20],J:a[21],s:a[22],t:a[23],u:a[24],v:a[25],w:a[26],z:a[27],x:a[28],y:a[29],A:a[30],B:a[31],C:a[32],E:a[34],F:a[36],G:a[37],H:a[38],I:a[39],N:a[42],O:[0,0]})}])},function(c){return b.sp("66",a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSContactOptimisticPseudoUnblockStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(7).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0]],c[0]=d[0],d):(b=a.item,d=[b.G],c[0]=d[0],d)})},function(c){return b.db.table(7).getArr([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(a){var c=a.update;a.item;return c({G:b.i64.and_(d.G==null?[0,0]:d.G,[-1,4227858431])})}))})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("blockee_id",a[0])],[c[2].set("request_id",a[1])],[c[2].set("capabilities",c[0]==null?[0,0]:c[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","pseudo_unblock",[0,194],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactOptimisticSetBlockStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return a[3]?b.i64.eq(a[1],[0,2])?b.resolve(0):b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(c){var d=c.update;c.item;return d({L:a[1],M:b.i64.of_float(Date.now())})}):b.db.table(7).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[4]=e.G,b.i64.eq(a[1],[0,1])?b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(d){var e=d.update;d.item;return e({n:a[1],w:!1,G:b.i64.and_(c[4]==null?[0,0]:c[4],[-1,4294967292])})}):b.i64.eq(a[1],[0,0])?b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(d){var e=d.update;d.item;return e({n:a[1],w:!0,G:b.i64.or_(c[4]==null?[0,0]:c[4],[0,3])})}):b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(b){var c=b.update;b.item;return c({n:a[1]})}))})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("blockee_id",a[0])],[c[1].set("blocked_by_viewer_status",a[1])],[c[1].set("request_id",a[2])],[c[1].set("use_optimistic_block_status",a[3])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","block_status",[0,151],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSContactResetOptimisticBlockStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(c){var d=c.update;c.item;return d({L:void 0,M:void 0,n:a[2]===!0?a[1]:b.i64.eq(a[1],[0,1])?[0,0]:[0,1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSContactSetContactCapabilitiesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(7).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({G:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingPendingTasksStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(2).getArr().sortBy([["b","ASC"]]).groupBy("b").forEach(function(d){return b.seq([function(e){return b.sp("21",d.b,a[0]).then(function(a){return a=a,c[1]=a[0],a})},function(a){return[(c[0].push(c[1]),c[0])]}])})},function(a){return b.db.table(5).getArr().sortBy([["b","ASC"]]).groupBy("b").forEach(function(a){return c[1]=a.b,b.seq([function(a){return a=[b.createArray()],c[2]=a[0],a,b.db.table(5).getArr().filter(function(a){return a.b===c[1]}).forEach(function(a){var d;a=a.item;return d=[new b.Map()],c[5]=d[0],d,[c[5].set("label",a.d)],[c[5].set("payload",a.c)],[c[5].set("queue_name",a.b)],[c[5].set("task_id",a.a)],[c[5].set("failure_count",b.i64.eq([0,0],[0,0])?void 0:[0,0])],[(c[2].push(c[5]),c[2])]})},function(a){return a=[new b.Map()],c[3]=a[0],a,[c[3].set("tasks",c[2])],[c[3].set("epoch_id",void 0)],a=[new b.Map()],c[4]=a[0],a,[c[4].set("queue_name",c[1])],[c[4].set("next_sync_ms",void 0)],[c[4].set("work_item_type",[0,5])],[c[4].set("network_payload",c[3])],[c[4].set("http_url_override",void 0)],[c[4].set("skip_realtime_gateway",!1)],[(c[0].push(c[4]),c[0])]}])})},function(a){return b.db.table(5).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreBeginHandlingSyncStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(1).getArr().forEach(function(d){var e=d.item;return b.seq([function(d){return b.sp("534",e.a,a[0]).then(function(a){return a=a,c[1]=a[0],a})},function(a){return[(c[0].push(c[1]),c[0])]}])})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSCoreCancelTaskByQueueNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(c){return c.b===a[0]&&c.d===b.i64.to_string(a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreForceImmediateSyncStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(1).getArr([[[a[0]]]]).forEach(function(a){var c=a.update;a.item;return c({f:b.i64.of_float(Date.now())})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreHandleSyncFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(3).getArr([[["",a[0]]]]).forEach(function(a){var c=a.update;a=a.item;return c({f:b.i64.add(a.f,[0,1]),c:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreHandleTaskSendFailureForQueueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(2).getArr().filter(function(b){return a[0]===b.b}).slice(0,b.i64.to_float([0,1])).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(2).getArr().filter(function(a){return b.i64.eq(a.a,c.a)}).next().then(function(c,d){var a=c.done;c=c.value;return a?0:(d=c.item,b.db.table(2).getArr().filter(function(a){return b.i64.eq(a.a,d.a)}).forEach(function(a){var c=a.update;a.item;return c({g:b.i64.add(d.g,[0,1])})}))}))})},function(c){return b.db.table(3).getArr([[[a[0],[-1,4294967295]]]]).forEach(function(a){var c=a.update;a=a.item;return c({f:b.i64.add(a.f,[0,1])})})},function(c){return b.db.table(3).getArr([[[a[0],[-1,4294967295]]]]).forEach(function(a){var b=a.update;a.item;return b({c:void 0,d:void 0})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreHandleTaskSendSuccessForQueueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(3).getArr([[[a[0],[-1,4294967295]]]]).filter(function(c){return c.a===a[0]&&b.i64.eq(c.b,[-1,4294967295])&&!b.i64.eq(c.c,void 0)}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreIssueNewErrorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(6).add({a:void 0,b:a[0],c:a[1],d:a[2],e:a[3],f:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreIssueNewFireAndForgetTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(5).add({a:void 0,b:a[0],d:b.i64.to_string(a[1]),c:a[2],e:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreRemoveErrorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(6).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreSetBackgroundModeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(1).getArr([[[a[0]]]]).forEach(function(a){var c=a.update;a.item;return c({k:b.i64.of_float(Date.now())})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateOptimisticContextThreadKeysStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(32).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(31).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskQueueNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(b){return b.b===a[0]}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSCoreUpdateTaskValueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(2).getArr().filter(function(b){return b.b===a[0]}).forEach(function(b){var c=b.update;b=b.item;return c({c:b.c.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSForwardContentsGenerateOrRefreshForwardContentStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(129).getArr([[[a[0],a[1]]]]).next().then(function(c){var d=c.done;c.value;return d?b.db.table(129).add({a:a[0],b:a[1],c:a[0],f:[0,2],h:b.i64.of_float(Date.now())}):0})},function(d){return b.i64.eq(a[1],[0,5])?b.seq([function(c){return b.db.table(129).getArr([[[a[0],a[1]]]]).forEach(function(a){var c=a.update;a.item;return c({f:[0,1],h:b.i64.of_float(Date.now())})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("value",a[0])],[c[0].set("type",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","FORWARD_CONTENT_GENERATE",[0,52],c[1],void 0,void 0,[0,0],void 0)}]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSForwardContentsPersistGeneratedForwardContentStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(129).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:b.i64.of_float(Date.now())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerClearInThreadBannerTablesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(118).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(119).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(118).getArr([[[a[1],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerDeleteBannersStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(118).getArr().filter(function(c){return b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerExecuteCTAStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(119).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,e=[new b.Map()],c[0]=e[0],e,[c[0].set("banner_id",d.a)],[c[0].set("cta_type",d.d)],[c[0].set("context_id",d.h)],a=[b.toJSON(c[0])],c[1]=a[0],a,b.sp("1","in_thread_banner_execute_cta_queue",[0,73],c[1],void 0,void 0,[0,0],void 0))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerFetchBannersStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","in_thread_banner_fetch_activity_banners_queue",[0,72],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerInsertNewBannerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(118).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[13],n:a[14],o:a[15],p:a[17],q:a[18],r:a[19],s:a[20],t:a[21]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertCTAStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(119).put({a:a[0],b:a[1],d:a[2],e:a[4],c:a[3],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInThreadBannerUpsertOverflowMenuStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(120).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLinkedGroupsDeleteThenInsertLinkedGroupStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(130).put({a:a[0],b:a[1],c:a[2],d:a[3]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLinkedGroupsFetchLinkedGroupForThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","FETCH_GROUP",[0,187],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSLocationDeleteLiveLocationSharerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(149).getArr([[[a[0],a[1]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSLocationPingLiveLocationSharersStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,[(c[0].push("live_location_sharer_ping"),c[0])],[(c[0].push(b.i64.to_string(a[0])),c[0])],d=[c[0].join("_")],c[1]=d[0],d,b.db.table(5).getArr().filter(function(a){return c[1]===a.b}).forEach(function(a){return a["delete"]()})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("6",c[1],[0,9],c[3])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSLocationUpsertLiveLocationSharerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(149).getArr([[[a[0],a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(149).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}):(c.item,b.db.table(149).getArr([[[a[0],a[1]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[2],d:a[3],e:a[4],f:a[5]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxAddParticipantToGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[5]=a[0],a,c[5]?(a=[b.localize([1340029323,50232937],void 0)],c[11]=a[0],a,a=[c[11]],c[7]=a[0],a):(a=["Messenger Is Offline"],c[7]=a[0],a),a=[!0],c[8]=a[0],a,c[8]?(a=[b.localize([1606543140,728082543],void 0)],c[11]=a[0],a,a=[c[11]],c[10]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[10]=a[0],a),b.sp("11",void 0,[0,1545093],c[7],c[10])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("contact_ids",a[1])],d=[c[2].get("thread_key"),c[2]],c[3]=d[0],d,d=[b.toJSON(c[2])],c[4]=d[0],d,b.sp("1",b.i64.to_string(c[3]),[0,23],c[4],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollForThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(38).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.lt(c.f,[0,80])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(38).add({a:a[0],f:[0,80],b:a[1],c:a[2],d:a[3],e:a[4]})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxAddPollOptionV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[7],a[6],a[8]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("171",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxAddPollVoteV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[6],a[3],a[7]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("172",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxApplyNewGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[1])||c.S===a[0]}).next().then(function(c,d){d=c.done;c=c.value;return d?b.seq([function(c){return b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.lt(c.Z,[0,80])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(9).add({a:a[1],b:[0,0],c:a[2],e:a[3],A:a[4],g:a[5],i:a[6],j:a[6],u:[0,0],B:a[8],C:a[9],D:a[10],E:a[11],L:a[12],P:a[13],S:a[0],Z:[0,80]})}]):(c.item,b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[1])||c.S===a[0]}).forEach(function(b){var c=b.update;b.item;return c({a:a[1],e:a[3],A:a[4],g:a[5],i:a[6],j:a[6],u:[0,0],B:a[8],C:a[9],D:a[10],E:a[11],L:a[12],P:a[13],Z:[0,80]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxBumpThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.i64.eq(a[1],[0,1])?b.db.table(9).getArr([[[a[2]]]]).forEach(function(b){var c=b.update;b.item;return c({j:a[0],i:a[0]})}):b.i64.eq(a[1],[0,2])?b.db.table(9).getArr([[[a[2]]]]).forEach(function(b){var c=b.update;b.item;return c({i:a[0]})}):b.i64.eq(a[1],[0,3])?b.db.table(9).getArr([[[a[2]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.i,d.j)?b.db.table(9).getArr([[[a[2]]]]).forEach(function(b){var c=b.update;b.item;return c({j:a[0],i:a[0]})}):b.db.table(9).getArr([[[a[2]]]]).forEach(function(b){var c=b.update;b.item;return c({i:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxChangeViewerStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({v:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxCheckAuthoritativeMessageExistsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.f===a[1]&&b.i64.eq(c.V,[0,80])}).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!1],c[0]=b[0],b):(a.item,b=[!0],c[0]=b[0],b)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCleanupOptimisticOrderingOfSentMessagesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.neq(c.c,void 0)&&b.i64.neq(c.d,void 0)&&(b.i64.eq(c.V,[0,20])||b.i64.eq(c.V,[0,60]))}).count().then(function(a){return c[0]=a})},function(d){return b.i64.eq(c[0],[0,0])?b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.V,[0,80])&&b.i64.neq(c.d,void 0)}).forEach(function(a){var b=a.update;a=a.item;return b({c:a.b,d:void 0})}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxClearLocalThreadPictureUrlStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.log("clearLocalThreadPictureUrl",[0,4]),b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&!c.R&&(b.i64.eq(c.c,[0,2])||b.i64.eq(c.c,[0,5]))&&c.f!==void 0&&b.like(c.f,"file:%")}).forEach(function(a){var b=a.update;a.item;return b({f:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxComposeThreadSnippetStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a,b,c,d,e,f,g,h,i,j,k,l=arguments,m=l[l.length-1];m.n;var n=[],o=[];return l[0]!==void 0?(l[1]!==void 0||m.i64.neq(l[2],void 0)||l[3]!==void 0||l[4]!==void 0||l[5]!==void 0||m.i64.neq(l[6],void 0)?m.log("Inconsistent snippet data",[0,3]):0,a=[l[0]],n[1]=a[0],a):(b=[!0],n[2]=b[0],b,n[2]?(c=[m.createArray()],n[5]=c[0],c,l[5]!==void 0?([(n[5].push(l[5]),n[5])],[(n[5].push(": "),n[5])]):m.i64.neq(l[6],void 0)?(d=[m.localize(l[6],void 0)],n[9]=d[0],d,[(n[5].push(n[9]),n[5])],[(n[5].push(": "),n[5])]):0,l[1]!==void 0?[(n[5].push(l[1]),n[5])]:m.i64.neq(l[2],void 0)?(e=[m.createArray()],n[9]=e[0],e,l[3]!==void 0?[(n[9].push(l[3]),n[9])]:0,l[4]!==void 0?[(n[9].push(l[4]),n[9])]:0,f=[m.localize(l[2],n[9])],n[10]=f[0],f,[(n[5].push(n[10]),n[5])]):0,g=[n[5].join("")],n[8]=g[0],g,h=[n[8]],n[4]=h[0],h):(i=[l[1]==null?"":l[1]],n[4]=i[0],i),j=[n[4]],n[1]=j[0],j),k=[n[1]],o[0]=k[0],k,m.resolve(o)};e.exports=a}),null);
__d("LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(a){return a=[b.createArray()],c[0]=a[0],a,b.sp("4").then(function(a){return a=a,c[1]=a[0],a})},function(d){return b.db.table(14).getArr([[[a[0],{lt:c[1]}],[a[0],{gt:c[1]}]]]).forEach(function(d){var e=d.item;return b.seq([function(d){return b.sp("162",e.b,a[0]).then(function(a){return a=a,c[15]=a[0],a})},function(a){return[(c[0].push(c[15]),c[0])]}])})},function(a){return c[2]=[0,1073741823],a=[b.i64.of_int32(c[0].length)],c[3]=a[0],a,b.i64.gt(c[3],[0,0])?b.loopAsync(c[3],function(a){return c[15]=a,b.seq([function(a){return b.ntop("Array",3,c[0],c[15]).then(function(a){return a=a,c[16]=a[0],a})},function(a){return c[2]=b.i64.and_(c[16],c[2])}])}):b.resolve()},function(d){return d=[b.i64.of_int32(c[0].length)],c[4]=d[0],d,c[5]=[64,1133823263],c[6]=[0,0],b.db.table(9).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[c[5],[0,1]],c[7]=d[0],c[8]=d[1],d):(b=a.item,d=[c[5],b.c],c[7]=d[0],c[8]=d[1],d)})},function(a){return c[10]=b.i64.lsl_([0,1],b.i64.to_int32([0,10])),c[11]=b.i64.lsl_([0,1],b.i64.to_int32([0,23])),a=[b.createArray()],c[12]=a[0],a,[(c[12].push(b.i64.eq([0,6],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,6])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,0])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,7],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,7])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,1])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,8],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,8])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,2])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,9],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,9])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,3])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,10],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,10])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,4])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,5],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,5])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,8])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,11],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,11])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,14])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,12],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,12])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,15])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,13],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,13])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,18])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,14],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,14])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,20])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,15],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,15])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,23])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,16],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,16])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,24])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,17],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,17])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,25])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,3],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,3])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,10])):[0,0]),c[12])],[(c[12].push(b.i64.eq(void 0,void 0)||b.i64.neq(b.i64.and_([0,0],c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,30])):[0,0]),c[12])],[(c[12].push(b.i64.eq([0,24],void 0)||b.i64.neq(b.i64.and_(b.i64.lsl_([0,1],b.i64.to_int32([0,24])),c[2]),[0,0])?b.i64.lsl_([0,1],b.i64.to_int32([0,38])):[0,0]),c[12])],c[13]=[0,0],a=[b.i64.of_int32(c[12].length)],c[14]=a[0],a,b.i64.gt(c[14],[0,0])?b.loopAsync(c[14],function(a){return c[15]=a,b.seq([function(a){return b.ntop("Array",3,c[12],c[15]).then(function(a){return a=a,c[16]=a[0],a})},function(a){return c[13]=b.i64.add(c[16],c[13])}])}):b.resolve()},function(a){return a=[b.i64.and_(c[13],b.i64.and_(b.i64.eq(c[8],[0,1])?b.i64.eq(c[4],[0,0]):b.i64.eq(b.i64.and_(c[7],c[10]),[0,0])?c[7]:b.i64.sub(c[7],c[10]),b.i64.eq(c[8],[0,2])?b.i64.eq(b.i64.and_(c[7],c[11]),[0,0])?c[7]:b.i64.sub(c[7],c[11]):c[7]))],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("message_id",a[0])],[c[0].set("cta_id",a[1])],[c[0].set("cta_index",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","account_link_encoded_url_create",[0,69],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCreateCtaAccountLinkEncodedUrlV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("action_url",a[1])],[c[0].set("cta_id",a[2])],[c[0].set("attachment_fbid",a[3])],[c[0].set("attachment_index",a[4])],[c[0].set("message_id",a[5])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","account_link_encoded_url_create_v2",[0,79],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("168",a[0],a[1],a[2]).then(function(a){return a=a,c[0]=a[0],a})},function(a){return b.sp("154",b.i64.of_float(Date.now())).then(function(a){return a=a,c[1]=a[0],a})},function(a){return b.db.table(9).getArr([[[c[0]]]]).forEach(function(a){var d=a.update;a.item;return d({S:b.i64.to_string(c[1])})})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_id",c[0])],[c[2].set("otid",b.i64.to_string(c[1]))],[c[2].set("source",[0,0])],[c[2].set("send_type",[0,8])],d=[new b.Map()],c[3]=d[0],d,[c[3].set("participants",a[0])],[c[3].set("send_payload",c[2])],a[2]!==void 0?[c[3].set("thread_name",a[2])]:0,d=[c[3].get("send_payload"),c[3]],c[4]=d[0],d,d=[c[4].get("thread_id"),c[4]],c[5]=d[0],d,d=[b.toJSON(c[3])],c[6]=d[0],d,b.sp("1",b.i64.to_string(c[5]),[0,130],c[6],void 0,void 0,[0,0],[0,1])},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCreateMeetingPlanStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("meeting_time",a[1])],[c[0].set("location",a[2])],[c[0].set("notes",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","marketplace_create_meeting_plan",[0,196],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxCreateOfflineThreadingIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a,b,c=arguments,d=c[c.length-1];d.n;var e=[],f=[];return a=[d.i64.random()],e[0]=a[0],a,b=[d.i64.and_(d.i64.or_(d.i64.lsl_(c[0],d.i64.to_int32([0,22])),d.i64.and_(e[0],[0,4194303])),[2147483647,4294967295])],f[0]=b[0],b,d.resolve(f)};e.exports=a}),null);
__d("LSMailboxDeleteAllReactionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).getArr([[[a[0],a[1]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteCTAsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(16).getArr([[[a[1],a[0],a[2]]]]).forEach(function(a){var b=a.update;a.item;return b({r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteExpiredMSuggestionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(21).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.lt(c.f,b.i64.of_float(Date.now()))}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteFocusModeCtaStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(30).getArr([[[a[0],a[1],a[2]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return c.e===a[1]&&b.i64.eq(c.a,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeletePollDataStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(38).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteReactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).getArr([[[a[0],a[1],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&b.i64.eq(c.d,a[2])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcMultiwayCallInitiationConferenceNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(24).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteRtcOngoingCallDataStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(23).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAdminApprovalRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&b.i64.gt(c.d,a[3])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(26).put({a:a[0],b:a[1],d:a[3],c:a[2]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertAttachmentStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(16).getArr([[[a[32],a[37],a[40]]]]).filter(function(c){return b.i64.eq(c.a,a[32])&&b.i64.eq([0,0],a[33])&&c.c===a[37]&&b.i64.eq([-1,4294967295],a[38])&&c.e===a[40]&&b.i64.gt(c.bU,a[109])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(16).put({a:a[32],c:a[37],e:a[40],h:a[1],i:a[2],j:a[3],k:a[4],A:a[5],B:a[6],C:a[7],D:a[8],F:a[10],G:a[11],H:a[12],I:a[13],J:a[15],K:a[16],L:a[17],X:a[19],Y:a[20],Z:a[21],ba:a[22],bb:a[23],bc:a[24],bd:a[25],be:a[26],bi:a[27],f:a[34],b:a[36],d:a[39],l:a[41],m:a[42],n:a[43],o:a[44],p:a[45],q:a[46],r:a[48],s:a[49],t:a[50],u:a[52],v:a[53],w:a[54],x:a[56],y:a[57],z:a[58],M:a[59],N:a[60],O:a[61],Q:a[62],R:a[63],S:a[64],T:a[65],U:a[66],V:a[67],W:a[68],bf:a[69],bg:a[70],bh:a[71],g:a[72],bU:a[109],E:a[9],P:a[18],bj:a[28],bk:a[29],bJ:a[30],bT:a[31],bl:a[74],bm:a[75],bn:a[76],bo:a[77],bp:a[78],bq:a[79],br:a[80],bs:a[81],bt:a[82],bv:a[83],bw:a[84],bx:a[85],by:a[86],bz:a[87],bA:a[88],bC:a[89],bD:a[90],bE:a[91],bF:a[92],bG:a[93],bH:a[94],bK:a[95],bO:a[96],bP:a[97],bL:a[98],bM:a[99],bN:a[100],bQ:a[101],bR:a[102],bS:a[103],bV:a[107],bW:a[108]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertFocusModeCtaStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("76").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(30).put({a:a[0],b:a[1],c:c[0],e:a[3],d:a[2],f:a[4],g:"focus_mode_exit",h:a[6]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertLinkedAccountBadgeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxDeleteThenInsertMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],W:a[1],V:a[2],c:a[6],d:a[7],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52]}):(d=c.item,b.i64.le(d.V,a[2])?b.db.table(12).put({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],W:a[1],V:a[2],c:d.c,d:d.d,h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],X:a[17],n:a[18],o:a[19],p:a[20],q:a[21],r:a[22],s:a[23],t:a[24],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],U:a[52]}):b.resolve())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxDeleteThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.A,b.V],c[0]=d[0],c[1]=d[1],d)})},function(a){return b.db.table(9).getArr([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"]).count().then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],[0,0])&&b.i64.eq(c[3],[0,1])?b.seq([function(d){return b.db.table(9).getArr([[[a[0]],[c[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?b.db.table(46).getArr([[[c[1]]]]).forEach(function(a){return a["delete"]()}):b.resolve()}]):b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?b.db.table(46).getArr([[[c[1]]]]).forEach(function(a){return a["delete"]()}):b.resolve()}])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxFetchMultiwayConferenceNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("group_thread_id",a[0])],[c[0].set("peer_id",a[1])],[c[0].set("is_video_call",a[2])],[c[0].set("call_trigger",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","rtc_fetch_multiway_conference_name",[0,80],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetAttachmentFbidWithOriginalFileHashStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(16).getArr().filter(function(c){return c.bJ===a[0]&&b.i64.eq(c.bU,[0,80])}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[0]=d[0],d):(b=a.item,d=[b.e],c[0]=d[0],d)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableFocusModeCTAIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(30).getArr().sortBy([["c","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[[0,1]],c[0]=e[0],e):(d=a.item,e=[b.i64.add(d.c,[0,1])],c[0]=e[0],e)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetFirstAvailableThreadNullstateCTAIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(29).getArrDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[[0,1]],c[0]=e[0],e):(d=a.item,e=[b.i64.add(d.a,[0,1])],c[0]=e[0],e)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetParentThreadKeyStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0]],c[0]=d[0],d):(b=a.item,d=[b.A],c[0]=d[0],d)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxGetThreadAttributionInfoStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(31).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.e==null?[0,0]:b.e,b.g,b.h],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxHandleRepliesOnUnsendStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.r===a[1]}).forEach(function(a){a=a.item;return[(c[0].push(a.e),c[0])]})},function(d){return d=[b.i64.of_int32(c[0].length)],c[1]=d[0],d,(b.i64.eq(c[1],[0,0])?!0:!1)?b.resolve():(d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("message_id",a[1])],[c[2].set("reply_message_ids",c[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","update_replies_on_unsend",[0,74],c[3],void 0,void 0,[0,0],void 0))}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertCtaStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(15).add({a:a[0],b:a[1],c:a[3],d:a[4],e:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertIntoAdminApprovalQueueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&b.i64.lt(c.d,[0,80])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(26).add({a:a[0],b:a[1],d:[0,80],c:a[2]})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.i64.eq(a[2],[0,20])?b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],V:a[2],c:a[6],d:a[7],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],n:a[18],o:a[19],p:a[20],r:a[22],s:a[23],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],W:a[1],X:a[17],q:a[21],t:a[24],U:a[52]}):b.seq([function(d){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).next().then(function(b,d){var e=b.done;b=b.value;return e?(e=[a[6],a[7]],c[1]=e[0],c[2]=e[1],e):(d=b.item,e=[d.c,d.d],c[1]=e[0],c[2]=e[1],e)})},function(c){return b.db.table(12).getArr([[[a[9]]],"optimistic"]).filter(function(c){return c.f===a[9]&&b.i64.lt(c.V,a[2])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(12).add({a:a[3],b:a[5],e:a[8],f:a[9],g:a[0],V:a[2],c:c[1],d:c[2],h:a[10],i:a[11],j:a[12],k:a[14],l:a[15],m:a[16],n:a[18],o:a[19],p:a[20],r:a[22],s:a[23],u:a[25],v:a[26],w:a[27],x:a[28],y:a[29],z:a[30],A:a[32],B:a[33],C:a[34],D:a[35],E:a[36],F:a[37],G:a[38],H:a[39],I:a[40],J:a[41],K:a[42],L:a[43],M:a[44],N:a[45],O:a[46],P:a[47],Q:a[48],R:a[49],S:a[50],T:a[51],W:a[1],X:a[17],q:a[21],t:a[24],U:a[52]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxInsertOptimisticAttachmentStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(16).getArr([[[a[0],a[2],a[4]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&c.c===a[2]&&b.i64.eq([-1,4294967295],[-1,4294967295])&&c.e===a[4]&&b.i64.lt(c.bU,[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(16).add({a:a[0],c:a[2],e:a[4],b:a[1],d:a[3],f:a[5],h:a[6],X:a[7],j:a[8],k:!1,l:a[9],bU:[0,20]})},function(c){return b.sp("90",a[0],a[2],a[1],void 0,!1,b.i64.eq(a[5],[0,1]))}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertOrUpdateInThreadBannerOnUnsendStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.resolve()},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxInsertRtcSignalStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(22).add({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxIssueAttachmentsRangeQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("16",[0,1]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(17).getArr([[[a[0],a[1]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[new b.Map()],c[2]=f[0],f,[c[2].set("thread_key",a[0])],[c[2].set("media_group",a[1])],[c[2].set("max_timestamp_ms",[2328,1316134911])],[c[2].set("cursor",c[0])],f=[b.toJSON(c[2])],c[3]=f[0],f,b.sp("1","arq",[0,105],c[3],void 0,void 0,[0,0],void 0)):(e=d.item,e.g?(f=[new b.Map()],c[2]=f[0],f,[c[2].set("thread_key",a[0])],[c[2].set("media_group",a[1])],[c[2].set("max_timestamp_ms",e.c)],[c[2].set("cursor",c[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","arq",[0,105],c[3],void 0,void 0,[0,0],void 0)):b.resolve())})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssueMessagesRangeQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(13).getArrDesc([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&(b.i64.eq(c.b,void 0)||b.i64.le(c.b,a[1]))}).slice(0,b.i64.to_float([0,1])).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[4]=e.a,c[5]=[0,0],c[2]=e.b,c[3]=e.c,b.i64.eq(a[2],[0,0])?(f=[e.h&&!e.f],c[1]=f[0],f):(d=[e.i&&!e.g],c[1]=d[0],d),c[1]?b.seq([function(d){return b.i64.eq(a[2],[0,0])?b.seq([function(a){return b.db.table(13).getArr().filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],c[5])&&b.i64.eq(a.b,c[2])&&a.c===c[3]}).forEach(function(a){var b=a.update;a.item;return b({f:!0})})},function(a){return a=[c[2],c[3]],c[7]=a[0],c[8]=a[1],a}]):b.seq([function(a){return b.db.table(13).getArr().filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],c[5])&&b.i64.eq(a.b,c[2])&&a.c===c[3]}).forEach(function(a){var b=a.update;a.item;return b({g:!0})})},function(a){return a=[e.d,e.e],c[7]=a[0],c[8]=a[1],a}])},function(d){return d=[new b.Map()],c[9]=d[0],d,[c[9].set("thread_key",a[0])],[c[9].set("direction",a[2])],[c[9].set("reference_timestamp_ms",c[7])],[c[9].set("reference_message_id",c[8])],d=[c[9].get("thread_key"),c[9]],c[10]=d[0],d,d=[b.toJSON(c[9])],c[11]=d[0],d,b.sp("1","mrq.{}".split("{}").join(b.i64.to_string(c[10])),[0,228],c[11],void 0,void 0,[0,0],void 0)}]):b.resolve())})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssueParticipantPointQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("table","14")],[c[0].set("type",[0,1])],[c[0].set("1",a[0])],[c[0].set("2",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","ppq",[0,17],c[1],void 0,void 0,[0,0],[0,1])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssuePollCreationForThreadTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("question_text",a[0])],[c[0].set("thread_key",a[1])],[c[0].set("options",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","poll_creation",[0,163],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssuePollUpdateForThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("poll_id",a[1])],[c[0].set("added_options",a[2])],[c[0].set("selected_options",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","poll_update",[0,164],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssueSendAttachmentMessageTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.i64.of_int32(a[5].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[10]=d,b.seq([function(d){return b.ntop("Array",3,a[5],c[10]).then(function(a){return a=a,c[11]=a[0],a})},function(d){return b.db.table(16).getArr([[[a[1],a[3]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&d.c===a[3]&&b.i64.eq(d.be,c[10])&&b.i64.eq(d.bU,[0,20])}).forEach(function(a){var d=a.update;a.item;return d({e:b.i64.to_string(c[11])})})}])}):b.resolve()},function(d){return a[9]?(d=[[0,9]],c[2]=d[0],d):(d=[[0,3]],c[2]=d[0],d),d=[new b.Map()],c[3]=d[0],d,[c[3].set("thread_id",a[1])],[c[3].set("otid",a[3])],[c[3].set("text",a[4])],[c[3].set("attachment_fbids",a[5])],[c[3].set("send_type",c[2])],[c[3].set("source",a[6])],c[7]=a[10]===""?void 0:a[10],c[7]!==void 0?[c[3].set("platform_ref",c[7])]:0,c[8]=a[11]===""?void 0:a[11],c[8]!==void 0?[c[3].set("platform_token",c[8])]:0,c[9]=a[7]===""?void 0:a[7],c[9]!==void 0?b.i64.neq(a[8],void 0)?(d=[new b.Map()],c[10]=d[0],d,[c[10].set("reply_source_id",c[9])],[c[10].set("reply_source_type",a[8])],[c[3].set("reply_metadata",c[10])]):0:0,d=[c[3].get("thread_id"),c[3]],c[4]=d[0],d,d=[b.toJSON(c[3])],c[5]=d[0],d,b.sp("2",b.i64.to_string(c[4]),[0,46],c[5],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[6]=a[0],a})},function(d){return b.db.table(31).add({a:c[6],b:a[1],c:a[3],e:a[6],g:a[10],h:a[11],i:a[7],j:a[8],k:c[2],l:!1})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxIssueSetThreadImageTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("image_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","thread_image",[0,37],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(a){return b.sp("154",b.i64.of_float(Date.now())).then(function(a){return a=a,c[0]=a[0],a})},function(a){return b.sp("4").then(function(a){return a=a,c[1]=a[0],a})},function(a){return b.db.table(9).getArr([[[c[0]]]]).filter(function(a){return b.i64.eq(a.a,c[0])&&b.i64.lt(a.Z,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(9).add({a:c[0],b:[0,0],c:[0,2],O:c[0],e:"inbox",A:[0,0],i:[0,0],j:[0,0],I:!1,o:c[1],u:[0,0],Z:[0,20],B:a[1],d:a[2]})},function(d){return d=[b.i64.of_int32(a[0].length)],c[2]=d[0],d,b.i64.gt(c[2],[0,0])?b.loopAsync(c[2],function(d){return c[3]=d,b.seq([function(d){return b.ntop("Array",3,a[0],c[3]).then(function(a){return a=a,c[4]=a[0],a})},function(a){return b.db.table(14).getArr([[[c[0],c[4]]]]).filter(function(a){return b.i64.eq(a.a,c[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[4])&&b.i64.lt(a.j,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(14).add({a:c[0],b:c[4],c:[0,0],d:[0,0],j:[0,20]})}])}):b.resolve()},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(a){return c[8]=b.i64.of_float(Date.now()),void 0!==void 0?b.resolve((a=[void 0],c[1]=a[0],a)):b.seq([function(a){return b.sp("154",c[8]).then(function(a){return a=a,c[10]=a[0],a})},function(a){return a=[b.i64.to_string(c[10])],c[1]=a[0],a}])},function(d){return c[9]=a[4]==null?a[3]:a[4],b.seq([function(a){return b.db.table(9).getArrDesc([[[]],"lastActivityTimestampMs"]).slice(0,b.i64.to_float([0,1])).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[-1,4294967295]],c[10]=d[0],d):(b=a.item,d=[b.i],c[10]=d[0],d)})},function(d){return c[12]=b.i64.add(c[10],[0,1]),c[14]=b.i64.gt(c[8],c[12])?c[8]:c[12],b.db.table(9).getArr([[[a[1]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?b.seq([function(c){return b.log("localApplyOptimisticMessage insert optimistic thread",[0,4]),b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.lt(c.Z,[0,40])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(9).add({a:a[1],b:[0,0],c:a[2],O:a[1],e:"inbox",A:[0,0],i:c[14],j:c[14],m:c[9],I:a[5]==null?!1:a[5],o:a[0],u:[0,0],Z:[0,40]})},function(c){return b.i64.eq(a[2],[0,13])||b.i64.eq(a[2],[0,7])||b.i64.eq(a[2],[0,1])?b.seq([function(c){return b.db.table(14).getArr([[[a[1],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&b.i64.lt(c.j,[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(14).add({a:a[1],b:a[1],c:[0,0],d:[0,0],j:[0,20]})}]):b.resolve()},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[15]=d[0],d):(b=a.item,d=[b.c],c[15]=d[0],d)})},function(a){return c[15]===!0?(a=[!0],c[17]=a[0],a,c[17]?(a=[b.localize([1340029323,50232937],void 0)],c[23]=a[0],a,a=[c[23]],c[19]=a[0],a):(a=["Messenger Is Offline"],c[19]=a[0],a),a=[!0],c[20]=a[0],a,c[20]?(a=[b.localize([1606543140,728082543],void 0)],c[23]=a[0],a,a=[c[23]],c[22]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[22]=a[0],a),b.sp("11",void 0,[0,1545093],c[19],c[22])):b.resolve()}]):(d.item,b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq(c.c,a[2])}).forEach(function(b){var d=b.update;b.item;return d({i:c[14],j:c[14],m:c[9],I:a[5]==null?!1:a[5],o:a[0],p:void 0,q:void 0,r:void 0,s:void 0})}))})}])},function(d){return b.seq([function(d){return b.db.table(12).getArrDesc([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&(b.i64.eq(c.V,[0,80])||b.i64.eq(c.V,[0,60])||b.i64.eq(c.V,[0,40]))}).slice(0,b.i64.to_float([0,1])).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.of_float(Date.now())],c[10]=e[0],e):(d=a.item,e=[d.c],c[10]=e[0],e)})},function(d){return a[8]!==void 0&&(b.i64.eq(a[9],[0,1])||b.i64.eq(a[10],[0,1]))?b.seq([function(d){return b.db.table(12).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&c.e===(a[8]==null?"":a[8])}).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[a[8],void 0,void 0,[0,0],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],c[36]=f[0],c[37]=f[1],c[38]=f[2],c[39]=f[3],c[40]=f[4],c[41]=f[5],c[42]=f[6],c[43]=f[7],c[44]=f[8],c[45]=f[9],c[46]=f[10],c[47]=f[11],c[48]=f[12],c[49]=f[13],c[50]=f[14],f):(e=d.item,b.seq([function(d){return c[56]=e.h,c[55]=e.i,b.i64.neq(c[55],void 0)?(d=[c[55],[0,4]],c[58]=d[0],c[59]=d[1],d):(d=[void 0,void 0],c[58]=d[0],c[59]=d[1],d),d=[c[58],c[59]],c[52]=d[0],c[53]=d[1],d,b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[58]=a[0],a})},function(d){return b.i64.eq(a[0],c[58])?b.seq([function(d){return b.i64.eq(c[56],c[58])?b.resolve((d=[!0],c[63]=d[0],d,c[63]?(d=[b.localize([1680525759,1193612802],void 0)],c[66]=d[0],d,d=[c[66]],c[65]=d[0],d):(d=["You replied to yourself"],c[65]=d[0],d),d=[c[65]],c[62]=d[0],d)):b.seq([function(d){return b.seq([function(d){return b.db.table(14).getArr([[[a[1],c[56]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[56])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[67]=a[0],a):(d=b.item,a=[d.e],c[67]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[56]]]]).filter(function(a){return b.i64.eq(a.a,c[56])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[71]=a[0],a,c[71]?(a=[b.localize([458451087,3140280290],void 0)],c[74]=a[0],a,a=[c[74]],c[73]=a[0],a):(a=["Facebook User"],c[73]=a[0],a),a=[c[73]],c[69]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[69]=a[0],a)})},function(a){return a=[c[67]==null?c[69]:c[67]],c[63]=a[0],a}])},function(a){return a=[!0],c[64]=a[0],a,c[64]?(a=[b.createArray()],c[67]=a[0],a,[(c[67].push(c[63]),c[67])],a=[b.localize([220310868,206572790],c[67])],c[68]=a[0],a,a=[c[68]],c[66]=a[0],a):(a=["You replied to %@"],c[66]=a[0],a),a=[c[66]],c[62]=a[0],a}])},function(a){return a=[c[62]],c[60]=a[0],a}]):b.seq([function(d){return b.seq([function(d){return b.db.table(14).getArr([[[a[1],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[64]=a[0],a):(d=b.item,a=[d.e],c[64]=a[0],a)})},function(d){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[68]=a[0],a,c[68]?(a=[b.localize([458451087,3140280290],void 0)],c[71]=a[0],a,a=[c[71]],c[70]=a[0],a):(a=["Facebook User"],c[70]=a[0],a),a=[c[70]],c[66]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[66]=a[0],a)})},function(a){return a=[c[64]==null?c[66]:c[64]],c[61]=a[0],a}])},function(d){return b.i64.eq(c[56],c[58])?b.resolve((d=[!0],c[64]=d[0],d,c[64]?(d=[b.createArray()],c[67]=d[0],d,[(c[67].push(c[61]),c[67])],d=[b.localize([885308187,1373104036],c[67])],c[68]=d[0],d,d=[c[68]],c[66]=d[0],d):(d=["%@ replied to you"],c[66]=d[0],d),d=[c[66]],c[63]=d[0],d)):b.seq([function(d){return b.i64.eq(a[0],c[56])?b.resolve((d=[!0],c[66]=d[0],d,c[66]?(d=[b.createArray()],c[69]=d[0],d,[(c[69].push(c[61]),c[69])],d=[b.localize([915310155,3336918626],c[69])],c[70]=d[0],d,d=[c[70]],c[68]=d[0],d):(d=["%@ replied to themselves"],c[68]=d[0],d),d=[c[68]],c[65]=d[0],d)):b.seq([function(d){return b.seq([function(d){return b.db.table(14).getArr([[[a[1],c[56]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[56])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[70]=a[0],a):(d=b.item,a=[d.e],c[70]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[56]]]]).filter(function(a){return b.i64.eq(a.a,c[56])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[74]=a[0],a,c[74]?(a=[b.localize([458451087,3140280290],void 0)],c[77]=a[0],a,a=[c[77]],c[76]=a[0],a):(a=["Facebook User"],c[76]=a[0],a),a=[c[76]],c[72]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[72]=a[0],a)})},function(a){return a=[c[70]==null?c[72]:c[70]],c[66]=a[0],a}])},function(a){return a=[!0],c[67]=a[0],a,c[67]?(a=[b.createArray()],c[70]=a[0],a,[(c[70].push(c[61]),c[70])],[(c[70].push(c[66]),c[70])],a=[b.localize([820383259,2213050026],c[70])],c[71]=a[0],a,a=[c[71]],c[69]=a[0],a):(a=["%@ replied to %@"],c[69]=a[0],a),a=[c[69]],c[65]=a[0],a}])},function(a){return a=[c[65]],c[63]=a[0],a}])},function(a){return a=[c[63]],c[60]=a[0],a}])},function(a){return a=[c[60]],c[57]=a[0],a}])},function(d){return d=[b.i64.eq(a[10],[0,1])?c[57]:""],c[54]=d[0],d}])},function(b){return b=[a[8],a[9],a[10],[0,1],c[54],c[56],e.g,c[52],c[53],void 0,void 0,void 0,void 0,void 0,void 0],c[36]=b[0],c[37]=b[1],c[38]=b[2],c[39]=b[3],c[40]=b[4],c[41]=b[5],c[42]=b[6],c[43]=b[7],c[44]=b[8],c[45]=b[9],c[46]=b[10],c[47]=b[11],c[48]=b[12],c[49]=b[13],c[50]=b[14],b}]))})},function(a){return a=[c[36],c[37],c[38],c[39],c[40],c[41],c[42],c[43],c[44],c[45],c[46],c[47],c[48],c[49],c[50]],c[13]=a[0],c[14]=a[1],c[15]=a[2],c[16]=a[3],c[17]=a[4],c[18]=a[5],c[19]=a[6],c[20]=a[7],c[21]=a[8],c[22]=a[9],c[23]=a[10],c[24]=a[11],c[25]=a[12],c[26]=a[13],c[27]=a[14],a}]):b.resolve((a[8]===void 0||b.i64.eq(a[9],[0,0])||b.i64.eq(a[10],[0,0])?(d=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],c[37]=d[0],c[38]=d[1],c[39]=d[2],c[40]=d[3],c[41]=d[4],c[42]=d[5],c[43]=d[6],c[44]=d[7],c[45]=d[8],c[46]=d[9],c[47]=d[10],c[48]=d[11],c[49]=d[12],c[50]=d[13],c[51]=d[14],d):(d=[a[8],a[9],a[10],[0,1],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],c[37]=d[0],c[38]=d[1],c[39]=d[2],c[40]=d[3],c[41]=d[4],c[42]=d[5],c[43]=d[6],c[44]=d[7],c[45]=d[8],c[46]=d[9],c[47]=d[10],c[48]=d[11],c[49]=d[12],c[50]=d[13],c[51]=d[14],d),d=[c[37],c[38],c[39],c[40],c[41],c[42],c[43],c[44],c[45],c[46],c[47],c[48],c[49],c[50],c[51]],c[13]=d[0],c[14]=d[1],c[15]=d[2],c[16]=d[3],c[17]=d[4],c[18]=d[5],c[19]=d[6],c[20]=d[7],c[21]=d[8],c[22]=d[9],c[23]=d[10],c[24]=d[11],c[25]=d[12],c[26]=d[13],c[27]=d[14],d))},function(d){return a[11]?(d=[!1],c[29]=d[0],d):(d=[!0],c[29]=d[0],d),c[29]?(d=[void 0,void 0,void 0,void 0],c[31]=d[0],c[32]=d[1],c[33]=d[2],c[34]=d[3],d):(d=[a[11].get("mention_offsets"),a[11]],c[36]=d[0],d,d=[a[11].get("mention_lengths"),a[11]],c[37]=d[0],d,d=[a[11].get("mention_ids"),a[11]],c[38]=d[0],d,d=[a[11].get("mention_types"),a[11]],c[39]=d[0],d,d=[c[36],c[37],c[38],c[39]],c[31]=d[0],c[32]=d[1],c[33]=d[2],c[34]=d[3],d),b.i64.eq([0,20],[0,20])?b.db.table(12).add({a:a[1],e:c[1],b:c[8],f:c[1],c:c[10],d:c[8],g:a[3],h:a[0],i:a[6],U:a[7],j:!1,k:[0,1],l:[0,1],V:[0,20],r:c[13],s:c[14],t:c[15],u:c[16],v:c[17],x:c[18],w:c[19],H:c[20],G:c[21],z:c[22],D:c[23],A:c[24],B:c[25],C:c[26],n:c[31],o:c[32],p:c[33],q:c[34]}):b.seq([function(a){return b.db.table(12).getArr([[[c[1]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[c[10],c[8]],c[36]=d[0],c[37]=d[1],d):(b=a.item,d=[b.c,b.d],c[36]=d[0],c[37]=d[1],d)})},function(a){return b.db.table(12).getArr([[[c[1]]],"optimistic"]).filter(function(a){return a.f===c[1]&&b.i64.lt(a.V,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(12).add({a:a[1],e:c[1],b:c[8],f:c[1],c:c[36],d:c[37],g:a[3],h:a[0],i:a[6],U:a[7],j:!1,k:[0,1],l:[0,1],V:[0,20],r:c[13],s:c[14],t:c[15],u:c[16],v:c[17],x:c[18],w:c[19],H:c[20],G:c[21],z:c[22],D:c[23],A:c[24],B:c[25],C:c[26],n:c[31],o:c[32],p:c[33],q:c[34]})}])}])},function(d){return d=[b.createArray()],c[2]=d[0],d,d=[(c[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),c[2])],c[3]=d[0],d,d=[(c[2].push("localApplyOptimisticMessage"),c[2])],c[4]=d[0],d,d=[(c[2].push(a[1]),c[2])],c[5]=d[0],d,d=[(c[2].push(c[1]),c[2])],c[6]=d[0],d,d=[b.toJSON(c[2])],c[7]=d[0],d,b.log(c[7],[0,4]),a[12]?b.seq([function(d){return b.sp("89",a[1],c[1],c[8],b.i64.eq(a[2],[0,1]))},function(d){return b.sp("90",a[1],c[1],c[8],a[3],!1,b.i64.neq(a[6],void 0))}]):b.resolve()},function(a){return a=[c[1],c[8]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],void 0,!0).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],a})},function(d){return d=[b.i64.of_int32(a[10].length)],c[2]=d[0],d,b.i64.gt(c[2],[0,0])?b.loopAsync(c[2],function(d){return c[3]=d,b.seq([function(d){return b.ntop("Array",3,a[10],c[3]).then(function(a){return a=a,c[4]=a[0],a})},function(d){return d=[c[4].get("attachment_fbid"),c[4]],c[5]=d[0],d,d=[c[4].get("offline_attachment_id"),c[4]],c[6]=d[0],d,d=[c[4].get("attachment_type"),c[4]],c[7]=d[0],d,d=[c[4].get("filename"),c[4]],c[8]=d[0],d,d=[c[4].get("filesize"),c[4]],c[9]=d[0],d,d=[c[4].get("attachment_index"),c[4]],c[10]=d[0],d,d=[c[4].get("has_media"),c[4]],c[11]=d[0],d,d=[c[4].get("has_xma"),c[4]],c[12]=d[0],d,d=[c[4].get("playable_url"),c[4]],c[13]=d[0],d,d=[c[4].get("playable_url_mime_type"),c[4]],c[14]=d[0],d,d=[c[4].get("playable_duration_ms"),c[4]],c[15]=d[0],d,d=[c[4].get("preview_url"),c[4]],c[16]=d[0],d,d=[c[4].get("preview_url_mime_type"),c[4]],c[17]=d[0],d,d=[c[4].get("mini_preview"),c[4]],c[18]=d[0],d,d=[c[4].get("preview_width"),c[4]],c[19]=d[0],d,d=[c[4].get("preview_height"),c[4]],c[20]=d[0],d,d=[c[4].get("xma_layout_type"),c[4]],c[21]=d[0],d,d=[c[4].get("xmas_template_type"),c[4]],c[22]=d[0],d,d=[c[4].get("cta1_title"),c[4]],c[23]=d[0],d,d=[c[4].get("cta2_title"),c[4]],c[24]=d[0],d,d=[c[4].get("cta3_title"),c[4]],c[25]=d[0],d,d=[c[4].get("image_url"),c[4]],c[26]=d[0],d,d=[c[4].get("action_url"),c[4]],c[27]=d[0],d,d=[c[4].get("title_text"),c[4]],c[28]=d[0],d,d=[c[4].get("subtitle_text"),c[4]],c[29]=d[0],d,d=[c[4].get("description_text"),c[4]],c[30]=d[0],d,d=[c[4].get("source_text"),c[4]],c[31]=d[0],d,d=[c[4].get("original_file_hash"),c[4]],c[32]=d[0],d,b.db.table(16).getArr([[[a[1],c[0],c[5]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&d.c===c[0]&&b.i64.eq([-1,4294967295],[-1,4294967295])&&d.e===c[5]&&b.i64.gt(d.bU,[0,20])}).next().then(function(d){var e=d.done;d.value;return e?b.db.table(16).put({a:a[1],c:c[0],e:c[5],b:c[1],d:c[6],f:c[7],h:c[8],i:c[9],be:c[10],j:c[11],l:c[12],k:!1,A:c[13],D:c[14],bd:c[15],F:c[16],I:c[17],J:c[18],K:c[19],L:c[20],m:c[21],n:c[22],s:c[23],v:c[24],y:c[25],M:c[26],Q:c[27],R:c[28],S:c[29],V:c[30],W:c[31],bJ:c[32],bU:[0,20]}):0})}])}):b.resolve()},function(d){return d=[b.i64.of_int32(a[10].length)],c[2]=d[0],d,b.i64.gt(c[2],[0,0])?b.sp("90",a[1],c[0],c[1],a[3],!1,b.i64.neq(a[6],void 0)):b.resolve()},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("168",a[0],a[1],void 0).then(function(a){return a=a,c[0]=a[0],a})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("participants",a[0])],[c[1].set("client_thread_key",c[0])],d=[c[1].get("client_thread_key"),c[1]],c[2]=d[0],d,d=[b.toJSON(c[1])],c[3]=d[0],d,b.sp("1",b.i64.to_string(c[2]),[0,153],c[3],void 0,void 0,[0,0],void 0)},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxLocalMarkThreadReadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[2]=f[0],f,f=[(c[2].push("ocalMarkThreadRead unable to find thread key in DB:"),c[2])],c[3]=f[0],f,f=[(c[2].push(a[0]),c[2])],c[4]=f[0],f,f=[b.toJSON(c[2])],c[5]=f[0],f,b.log(c[5],[0,3]),f=[void 0],c[0]=f[0],f):(e=d.item,b.seq([function(a){return c[4]=e.i,c[5]=e.j,c[6]=e.a,b.db.table(12).getArrDesc([[[c[6]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[b.createArray()],c[7]=a[0],a,a=[(c[7].push("localMarkThreadRead unable to find message with thread key in DB:"),c[7])],c[8]=a[0],a,a=[(c[7].push(c[6]),c[7])],c[9]=a[0],a,a=[b.toJSON(c[7])],c[10]=a[0],a,b.log(c[10],[0,3]),a=[void 0],c[2]=a[0],a):(e=d.item,b.seq([function(a){return c[16]=e.b,a=[b.createArray()],c[7]=a[0],a,a=[(c[7].push("localMarkThreadRead"),c[7])],c[8]=a[0],a,a=[(c[7].push("lastMessageTimestampMs"),c[7])],c[9]=a[0],a,a=[(c[7].push(c[16]),c[7])],c[10]=a[0],a,a=[(c[7].push("currentLastActivityTimestampMs"),c[7])],c[11]=a[0],a,a=[(c[7].push(c[4]),c[7])],c[12]=a[0],a,a=[(c[7].push("currentLastReadWatermarkTimestampMs"),c[7])],c[13]=a[0],a,a=[(c[7].push(c[5]),c[7])],c[14]=a[0],a,a=[b.toJSON(c[7])],c[15]=a[0],a,b.log(c[15],[0,4]),c[19]=b.i64.gt(c[16],c[4])?c[16]:c[4],b.i64.gt(c[19],c[5])?b.seq([function(a){return b.sp("48",c[19],c[6])},function(a){return a=[c[19]],c[18]=a[0],a}]):b.resolve((a=[void 0],c[18]=a[0],a))},function(a){return a=[c[18]],c[2]=a[0],a}]))})},function(a){return a=[c[2]],c[0]=a[0],a}]))})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkAllThreadsReadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr().filter(function(c){return b.i64.lt(c.j,c.i)&&c.e===a[0]}).forEach(function(a){var c=a.item;return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,c.a)}).forEach(function(a){var b=a.update;a.item;return b({j:c.i})})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxMarkFolderSeenStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArrDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).slice(0,b.i64.to_float([0,1])).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[0]=e.i,b.i64.gt(c[0],[0,0])?b.db.table(35).getArr([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?b.seq([function(d){return b.db.table(35).add({a:a[0],b:c[0]})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("parent_thread_key",a[0])],[c[2].set("last_seen_time_ms",c[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("6","fire_forget",[0,6],c[3])}]):(f=e.item,b.i64.lt(f.b,c[0])?b.seq([function(d){return b.db.table(35).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({b:c[0]})})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("parent_thread_key",a[0])],[c[2].set("last_seen_time_ms",c[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("6","fire_forget",[0,6],c[3])}]):b.resolve())}):b.resolve())})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMarkMessageSendFailedAfterDeserializationErrorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(31).getArr([[[a[0]]]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(12).getArr([[[c.c]],"optimistic"]).forEach(function(a){var b=a.update;a.item;return b({k:[0,4],l:[0,4]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxMarkOptimisticMessageFailedStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr().filter(function(c){return c.e===a[0]&&b.i64.eq(c.V,[0,20])}).forEach(function(a){var b=a.update;a.item;return b({k:[0,4],l:[0,4]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxMarkThreadUnreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[2]=f[0],f,f=[(c[2].push("markThreadUnread unable to find thread key in DB:"),c[2])],c[3]=f[0],f,f=[(c[2].push(a[0]),c[2])],c[4]=f[0],f,f=[b.toJSON(c[2])],c[5]=f[0],f,b.log(c[5],[0,3]),f=[void 0],c[0]=f[0],f):(e=d.item,b.seq([function(a){return c[4]=e.i,c[5]=e.a,b.db.table(12).getArrDesc([[[c[5]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(a=[b.createArray()],c[6]=a[0],a,a=[(c[6].push("markThreadUnread unable to find message with thread key in DB:"),c[6])],c[7]=a[0],a,a=[(c[6].push(c[5]),c[6])],c[8]=a[0],a,a=[b.toJSON(c[6])],c[9]=a[0],a,b.log(c[9],[0,3]),a=[void 0],c[2]=a[0],a):(f=d.item,b.seq([function(a){return c[6]=f.b,c[9]=b.i64.sub(b.i64.lt(c[6],c[4])?c[6]:c[4],[0,1]),b.i64.lt(c[9],e.j)?b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,c[5])}).forEach(function(a){var b=a.update;a.item;return b({j:c[9]})})},function(a){return a=[c[9]],c[8]=a[0],a}]):b.resolve((a=[void 0],c[8]=a[0],a))},function(a){return a=[c[8]],c[2]=a[0],a}]))})},function(a){return a=[c[2]],c[0]=a[0],a}]))})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMessagePointQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.e===a[1]}).next().then(function(d,e){var f=d.done;d=d.value;return f?b.seq([function(c){return b.sp("71",a[0],a[2])},function(c){return b.db.table(13).add({a:a[0],b:[0,0],c:a[1],d:[0,0],e:a[1],f:!0,g:!1,h:!1,i:!1})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_key",a[0])],[c[1].set("message_id",a[1])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","mpq",[0,19],c[2],void 0,void 0,[0,0],void 0)}]):(e=d.item,c[1]=e.b,b.db.table(13).getArr([[[a[0],{lte:c[1]}]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.le(d.b,c[1])&&b.i64.ge(d.d,c[1])}).next().then(function(e){var d=e.done;e.value;return d?b.seq([function(c){return b.db.table(13).add({a:a[0],b:[0,0],c:a[1],d:[0,0],e:a[1],f:!0,g:!1,h:!1,i:!1})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("message_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","mpq",[0,19],c[3],void 0,void 0,[0,0],void 0)}]):0}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({e:"inbox",A:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxOptimisticAcceptMessageRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({e:"inbox",A:[0,0]})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","message_request",[0,66],c[1],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteSponsoredMessageAdStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("ad_client_token",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","sponsored_message_ad_hide",[0,51],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("55",a[0],!1)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","delete_thread_v2",[0,86],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticExitFocusModeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","focus_mode",[0,150],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.A,[-1,4294967295])&&c.e==="pending"}).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.sp("55",a[0],!1)},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","message_request",[0,65],c[1],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticIgnoreMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.e==="inbox"}).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.sp("55",a[0],!1)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_id",a[0])],[c[2].set("request_id",void 0)],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","ignore_thread",[0,128],c[3],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("74",a[0]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.i64.neq(c[0],void 0)?(b.log("optimisticMarkThreadRead issuing task",[0,4]),d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_id",a[0])],[c[1].set("last_read_watermark_ts",c[0]==null?[-1,4294967295]:c[0])],d=[c[1].get("thread_id"),c[1]],c[2]=d[0],d,d=[b.toJSON(c[1])],c[3]=d[0],d,b.sp("1",b.i64.to_string(c[2]),[0,21],c[3],void 0,void 0,[0,0],void 0)):b.resolve()},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("48",a[1],a[0])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_id",a[0])],[c[0].set("last_read_watermark_ts",a[1])],d=[c[0].get("thread_id"),c[0]],c[1]=d[0],d,d=[b.toJSON(c[0])],c[2]=d[0],d,b.sp("1",b.i64.to_string(c[1]),[0,21],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadUnreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("92",a[0]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.i64.neq(c[0],void 0)?(b.log("optimisticMarkThreadUnread issuing task",[0,4]),d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_key",a[0])],[c[1].set("last_read_watermark_timestamp_ms",c[0])],d=[c[1].get("thread_key"),c[1]],c[2]=d[0],d,d=[b.toJSON(c[1])],c[3]=d[0],d,b.sp("1",b.i64.to_string(c[2]),[0,49],c[3],void 0,void 0,[0,0],void 0)):b.resolve()},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMuteThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({l:a[2]})})},function(d){return b.sp("2",b.i64.to_string(a[0]),[0,144],"",void 0,void 0,[0,0],[0,1]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(32).add({a:c[0],b:a[0]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("message_id",a[0])],[c[0].set("thread_key",a[1])],[c[0].set("attachment_fbid",a[2])],[c[0].set("target_id",a[3])],[c[0].set("action_type",a[4])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","process_marketplace_xma_cta",[0,185],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.of_int32(a[1].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[1]=d,b.seq([function(d){return b.ntop("Array",3,a[1],c[1]).then(function(a){return a=a,c[2]=a[0],a})},function(d){return b.sp("99",a[0],c[2])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[3]=d[0],d):(b=a.item,d=[b.c],c[3]=d[0],d)})},function(a){return c[3]===!0?(a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1340029323,50232937],void 0)],c[13]=a[0],a,a=[c[13]],c[9]=a[0],a):(a=["Messenger Is Offline"],c[9]=a[0],a),a=[!0],c[10]=a[0],a,c[10]?(a=[b.localize([1606543140,728082543],void 0)],c[13]=a[0],a,a=[c[13]],c[12]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[12]=a[0],a),b.sp("11",void 0,[0,1545093],c[9],c[12])):b.resolve()},function(d){return d=[new b.Map()],c[5]=d[0],d,[c[5].set("thread_id",a[0])],[c[5].set("contact_id",c[2])],d=[b.toJSON(c[5])],c[6]=d[0],d,b.sp("1","remove_participant_v2",[0,140],c[6],void 0,void 0,[0,0],void 0)}])}):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveThreadImageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.sp("66",a[0],void 0,void 0,void 0,!1,!1)},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("image_id",void 0)],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","thread_image",[0,37],c[1],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("55",a[0],!1)},function(d){return b.sp("2",b.i64.to_string(a[0]),[0,146],"",void 0,void 0,[0,0],[0,1]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(32).add({a:c[0],b:a[0],c:a[1]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return a[2]?(d=[b.i64.of_int32(a[1].length)],c[3]=d[0],d,b.i64.gt(c[3],[0,0])?b.loopAsync(c[3],function(d){return c[4]=d,b.seq([function(d){return b.ntop("Array",3,a[1],c[4]).then(function(a){return a=a,c[5]=a[0],a})},function(d){return b.sp("40",a[0],c[5],[0,0],[0,0],[0,0],void 0,void 0,"",[0,0],[0,20],void 0)}])}):b.resolve()):b.resolve()},function(d){return d=[b.i64.of_int32(a[1].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[3]=d,b.seq([function(d){return b.ntop("Array",3,a[1],c[3]).then(function(a){return a=a,c[4]=a[0],a})},function(d){return b.db.table(26).getArr([[[a[0],c[4]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[4])}).forEach(function(a){return a["delete"]()})}])}):b.resolve()},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_key",a[0])],[c[1].set("contact_ids",a[1])],[c[1].set("accepted",a[2])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","respond_to_admin_approval_request",[0,27],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentForwardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return c[2]=a[3]===""?void 0:a[3],c[2]!==void 0?b.seq([function(d){return b.db.table(16).getArr([[[a[1],c[2]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&d.c===c[2]&&b.i64.eq(d.bU,[0,20])}).forEach(function(c){var d=c.update;c.item;return d({e:b.i64.to_string(a[7])})})},function(a){return a=[c[2]],c[1]=a[0],a}]):b.seq([function(d){return b.sp("32",a[0],a[1],a[2],a[4],a[5],a[6],void 0,void 0,void 0,void 0,[0,3],void 0,!0).then(function(a){return a=a,c[3]=a[0],c[4]=a[1],a})},function(d){return b.db.table(16).getArr().filter(function(c){return c.e===b.i64.to_string(a[7])}).next().then(function(d,e){var f=d.done;d=d.value;return f?b.sp("33",a[1],c[4],c[3],c[3],b.i64.to_string(a[7]),[0,2],void 0,void 0,!0,!1):(e=d.item,b.seq([function(d){return b.sp("33",a[1],c[4],c[3],c[3],b.i64.to_string(a[7]),e.f,e.h,e.X,!0,!1)},function(d){return b.sp("399",a[1],c[3],b.i64.to_string(a[7]),e.A,e.B,e.C,e.D,e.F,e.G,e.H,e.I,e.K,e.L)}]))})},function(a){return a=[c[3]],c[1]=a[0],a}])},function(d){return b.seq([function(d){return d=[b.createArray()],c[3]=d[0],d,[(c[3].push(a[7]),c[3])],d=[new b.Map()],c[4]=d[0],d,[c[4].set("thread_id",a[1])],[c[4].set("otid",c[1])],[c[4].set("text",a[4])],[c[4].set("attachment_fbids",c[3])],[c[4].set("send_type",[0,4])],[c[4].set("source",a[8])],d=[c[4].get("thread_id"),c[4]],c[5]=d[0],d,d=[b.toJSON(c[4])],c[6]=d[0],d,b.sp("2",b.i64.to_string(c[5]),[0,46],c[6],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[7]=a[0],a})},function(d){return b.db.table(31).add({a:c[7],b:a[1],c:c[1],e:a[8],k:[0,4],l:!1})},function(d){return d=[b.createArray()],c[8]=d[0],d,d=[(c[8].push("optimisticSendAttachmentForward"),c[8])],c[9]=d[0],d,d=[(c[8].push(a[1]),c[8])],c[10]=d[0],d,d=[(c[8].push(a[7]),c[8])],c[11]=d[0],d,d=[b.toJSON(c[8])],c[12]=d[0],d,b.log(c[12],[0,4])}])},function(a){return a=[c[1]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentShareForwardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],void 0,void 0,void 0,void 0,[0,3],void 0,!0).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],a})},function(d){return b.sp("33",a[1],c[1],c[0],c[0],a[6],[0,2],void 0,void 0,!0,!1)},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_id",a[1])],[c[2].set("otid",c[0])],[c[2].set("text",a[3])],[c[2].set("forwarded_share_id",a[6])],[c[2].set("send_type",[0,4])],[c[2].set("source",a[7])],d=[c[2].get("thread_id"),c[2]],c[3]=d[0],d,d=[b.toJSON(c[2])],c[4]=d[0],d,b.sp("2",b.i64.to_string(c[3]),[0,46],c[4],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[5]=a[0],a})},function(d){return b.db.table(31).add({a:c[5],b:a[1],c:c[0],e:a[7],k:[0,4],l:!1})},function(e){return e=[b.createArray()],c[6]=e[0],e,e=[(c[6].push("optimisticSendAttachmentShareForward"),c[6])],c[7]=e[0],e,e=[(c[6].push(a[1]),c[6])],c[8]=e[0],e,e=[(c[6].push(a[6]),c[6])],c[9]=e[0],e,e=[b.toJSON(c[6])],c[10]=e[0],e,b.log(c[10],[0,4]),e=[c[0]],d[0]=e[0],e}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendMessageForwardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(12).getArr([[[a[3],a[4],a[5]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[4])&&c.e===a[5]&&b.i64.eq(c.V,[0,80])}).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[2]=f[0],f,f=[(c[2].push("optimisticSendMessageForward msg not found"),c[2])],c[3]=f[0],f,f=[(c[2].push(a[5]),c[2])],c[4]=f[0],f,f=[b.toJSON(c[2])],c[5]=f[0],f,b.log(c[5],[0,3]),f=[""],c[0]=f[0],f):(e=d.item,b.seq([function(d){return b.sp("32",a[0],a[1],a[2],e.g,void 0,void 0,e.i,e.U,void 0,void 0,[0,3],void 0,!0).then(function(a){return a=a,c[2]=a[0],c[3]=a[1],a})},function(d){return b.db.table(16).getArr([[[e.a,e.e]]]).forEach(function(d){var e=d.item;return b.seq([function(d){return c[13]=e.e,d=[b.createArray()],c[9]=d[0],d,d=[(c[9].push(c[13]),c[9])],c[10]=d[0],d,d=[(c[9].push(c[2]),c[9])],c[11]=d[0],d,d=[b.toJSON(c[9])],c[12]=d[0],d,b.sp("33",a[1],c[3],c[2],c[13],c[12],e.f,e.h,void 0,e.j,e.l)},function(d){return b.sp("399",a[1],c[2],c[12],e.A,e.B,e.C,e.D,e.F,e.G,e.H,e.I,e.K,e.L)}])})},function(d){return d=[new b.Map()],c[4]=d[0],d,[c[4].set("thread_id",a[1])],[c[4].set("otid",c[2])],[c[4].set("forwarded_msg_id",a[5])],[c[4].set("send_type",[0,5])],[c[4].set("source",a[6])],d=[c[4].get("thread_id"),c[4]],c[5]=d[0],d,d=[b.toJSON(c[4])],c[6]=d[0],d,b.sp("2",b.i64.to_string(c[5]),[0,46],c[6],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[7]=a[0],a})},function(d){return b.db.table(31).add({a:c[7],b:a[1],c:c[2],d:a[5],e:a[6],k:[0,5],l:!1})},function(d){return d=[new b.Map()],c[9]=d[0],d,d=[c[9].set("optimisticSendMessageForward",a[1])],c[10]=d[0],d,d=[c[9].set("fwdMsgID",a[5])],c[11]=d[0],d,d=[b.toJSON(c[9])],c[12]=d[0],d,d=[c[12]],c[8]=d[0],d,b.log(c[8],[0,4]),d=[c[2]],c[0]=d[0],d}]))})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("32",a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[19]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],a})},function(d){return c[11]=a[9]===""?void 0:a[9],c[11]!==void 0?b.seq([function(d){return b.sp("33",a[1],c[1],c[0],c[0],c[0],[0,3],c[11],a[10],!0,!1)},function(d){return a[20]?(d=[!1],c[13]=d[0],d):(d=[!0],c[13]=d[0],d),c[13]?b.resolve():(d=[a[20].get("playable_url"),a[20]],c[14]=d[0],d,d=[a[20].get("playable_url_fallback"),a[20]],c[15]=d[0],d,d=[a[20].get("playable_url_expiration_timestamp_ms"),a[20]],c[16]=d[0],d,d=[a[20].get("playable_url_mime_type"),a[20]],c[17]=d[0],d,d=[a[20].get("preview_url"),a[20]],c[18]=d[0],d,d=[a[20].get("preview_url_fallback"),a[20]],c[19]=d[0],d,d=[a[20].get("preview_url_expiration_timestamp_ms"),a[20]],c[20]=d[0],d,d=[a[20].get("preview_url_mime_type"),a[20]],c[21]=d[0],d,d=[a[20].get("preview_width"),a[20]],c[22]=d[0],d,d=[a[20].get("preview_height"),a[20]],c[23]=d[0],d,b.sp("399",a[1],c[0],c[0],c[14],c[15],c[16],c[17],c[18],c[19],c[20],c[21],c[22],c[23]))},function(a){return a=[[0,7]],c[3]=a[0],a}]):b.seq([function(d){return b.i64.neq(a[7],void 0)?b.seq([function(d){return b.i64.neq(a[7],[53057,267535043])&&b.i64.neq(a[7],[85970,924785702])&&b.i64.neq(a[7],[85970,1004785694])&&b.i64.neq(a[7],[85970,1044785690])?b.seq([function(d){return c[16]=b.i64.to_string(a[7]),b.sp("33",a[1],c[1],c[0],b.i64.to_string(a[7]),c[16],[0,1],void 0,void 0,!0,!1)},function(d){return a[20]?(d=[!1],c[15]=d[0],d):(d=[!0],c[15]=d[0],d),c[15]?b.resolve():(d=[a[20].get("playable_url"),a[20]],c[17]=d[0],d,d=[a[20].get("playable_url_fallback"),a[20]],c[18]=d[0],d,d=[a[20].get("playable_url_expiration_timestamp_ms"),a[20]],c[19]=d[0],d,d=[a[20].get("playable_url_mime_type"),a[20]],c[20]=d[0],d,d=[a[20].get("preview_url"),a[20]],c[21]=d[0],d,d=[a[20].get("preview_url_fallback"),a[20]],c[22]=d[0],d,d=[a[20].get("preview_url_expiration_timestamp_ms"),a[20]],c[23]=d[0],d,d=[a[20].get("preview_url_mime_type"),a[20]],c[24]=d[0],d,d=[a[20].get("preview_width"),a[20]],c[25]=d[0],d,d=[a[20].get("preview_height"),a[20]],c[26]=d[0],d,b.sp("399",a[1],c[0],c[16],c[17],c[18],c[19],c[20],c[21],c[22],c[23],c[24],c[25],c[26]))}]):b.resolve()},function(a){return a=[[0,2]],c[13]=a[0],a}]):b.resolve((d=[[0,1]],c[13]=d[0],d))},function(a){return a=[c[13]],c[3]=a[0],a}])},function(d){return b.sp("2",b.i64.to_string(a[1]),[0,46],"",void 0,void 0,b.i64.eq(a[3],[0,2048])||b.i64.eq(a[3],[0,2049])?[0,9]:void 0==null?[0,0]:b.i64.eq(a[3],[0,2048])||b.i64.eq(a[3],[0,2049])?[0,9]:void 0,[0,1]).then(function(a){return a=a,c[4]=a[0],a})},function(d){return void 0!==void 0?0:0,b.db.table(31).add({a:c[4],b:a[1],c:c[0],e:a[11],f:a[9],g:a[12],h:a[13],i:a[14],j:a[15],k:c[3],l:a[18]==null?!1:a[18]})},function(d){return(a[18]==null?!1:a[18])?b.sp("161",a[1],c[1]):b.resolve()},function(e){return e=[b.createArray()],c[5]=e[0],e,e=[(c[5].push("optimisticSendMessage"),c[5])],c[6]=e[0],e,e=[(c[5].push(a[1]),c[5])],c[7]=e[0],e,e=[(c[5].push(c[0]),c[5])],c[8]=e[0],e,e=[b.toJSON(c[5])],c[9]=e[0],e,b.log(c[9],[0,4]),e=[new b.Map()],c[10]=e[0],e,[c[10].set("offline_threading_id",c[0])],e=[c[0]],d[0]=e[0],e}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendURLShareStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],void 0,void 0,void 0,void 0,void 0,void 0,!1).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],a})},function(d){return b.sp("33",a[1],c[1],c[0],c[0],c[0],[0,7],a[6],void 0,!1,!0)},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_id",a[1])],[c[2].set("otid",c[0])],[c[2].set("text",a[3])],[c[2].set("url",a[6])],[c[2].set("send_type",[0,6])],[c[2].set("source",a[7])],d=[c[2].get("thread_id"),c[2]],c[3]=d[0],d,d=[b.toJSON(c[2])],c[4]=d[0],d,b.sp("2",b.i64.to_string(c[3]),[0,46],c[4],void 0,void 0,[0,0],void 0).then(function(a){return a=a,c[5]=a[0],a})},function(d){return b.db.table(31).add({a:c[5],b:a[1],c:c[0],e:a[7],k:[0,6],l:!1})},function(e){return e=[b.createArray()],c[6]=e[0],e,e=[(c[6].push("optimisticSendURLShare"),c[6])],c[7]=e[0],e,e=[(c[6].push(a[1]),c[6])],c[8]=e[0],e,e=[(c[6].push(a[6]),c[6])],c[9]=e[0],e,e=[b.toJSON(c[6])],c[10]=e[0],e,b.log(c[10],[0,4]),e=[c[0]],d[0]=e[0],e}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("416",a[0],a[1])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("enabled",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","set_needs_admin_approval_for_new_participant",[0,28],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUnarchiveThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.sp("427",a[0],[0,0])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","unarchive_thread",[0,242],c[3],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUnsendMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("message_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","unsend_message",[0,33],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadCustomEmojiStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("136",a[0],a[1]===""?void 0:a[1],void 0)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("custom_emoji",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","thread_custom_emoji",[0,53],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDescriptionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("177",a[0],a[1])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("description",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","update_thread_description",[0,166],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadDisappearingModeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({W:a[1],X:a[1]===!0?c[0]:void 0})})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_key",a[0])],[c[1].set("is_disappearing_mode",a[1])],d=[c[1].get("thread_key"),c[1]],c[2]=d[0],d,d=[b.toJSON(c[1])],c[3]=d[0],d,b.sp("1",b.i64.to_string(c[2]),[0,168],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("62",a[1],a[0],a[1])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[5]=a[0],a,c[5]?(a=[b.localize([1340029323,50232937],void 0)],c[11]=a[0],a,a=[c[11]],c[7]=a[0],a):(a=["Messenger Is Offline"],c[7]=a[0],a),a=[!0],c[8]=a[0],a,c[8]?(a=[b.localize([1606543140,728082543],void 0)],c[11]=a[0],a,a=[c[11]],c[10]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[10]=a[0],a),b.sp("11",void 0,[0,1545093],c[7],c[10])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("thread_name",a[1])],d=[c[2].get("thread_key"),c[2]],c[3]=d[0],d,d=[b.toJSON(c[2])],c[4]=d[0],d,b.sp("1",b.i64.to_string(c[3]),[0,32],c[4],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadParticipantAdminStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.b,a[1])&&b.i64.eq(c.a,a[0])&&c.f===a[2]}).next().then(function(d,e){e=d.done;d=d.value;return e?b.seq([function(c){return b.sp("407",a[0],a[1],a[2])},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("thread_key",a[0])],[c[1].set("contact_id",a[1])],[c[1].set("is_admin",a[2])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","admin_status",[0,25],c[2],void 0,void 0,[0,0],void 0)}]):(d.item,0)})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadParticipantNicknameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[0]=(a[2]==null?"":a[2]).trim(),c[1]=c[0]===""?void 0:c[0],b.sp("69",a[0],a[1],c[1],c[1])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[2]=d[0],d):(b=a.item,d=[b.c],c[2]=d[0],d)})},function(a){return c[2]===!0?(a=[!0],c[6]=a[0],a,c[6]?(a=[b.localize([1340029323,50232937],void 0)],c[12]=a[0],a,a=[c[12]],c[8]=a[0],a):(a=["Messenger Is Offline"],c[8]=a[0],a),a=[!0],c[9]=a[0],a,c[9]?(a=[b.localize([1606543140,728082543],void 0)],c[12]=a[0],a,a=[c[12]],c[11]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[11]=a[0],a),b.sp("11",void 0,[0,1545093],c[8],c[11])):b.resolve()},function(d){return d=[new b.Map()],c[4]=d[0],d,[c[4].set("thread_key",a[0])],[c[4].set("contact_id",a[1])],[c[4].set("nickname",c[1])],d=[b.toJSON(c[4])],c[5]=d[0],d,b.sp("1","thread_participant_nickname",[0,44],c[5],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUpdateThreadThemeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({z:a[1]})})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("theme_fbid",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","thread_theme",[0,43],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxOverwriteAllThreadParticipantsAdminStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxProcessAccountUnlinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("cta_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","process_account_unlink",[0,68],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxProcessCTAAccountUnlinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("attachment_fbid",a[1])],[c[0].set("attachment_index",a[2])],[c[0].set("message_id",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","process_cta_account_unlink",[0,82],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRefreshMediaSendThreadCapabilitiesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.Z,[0,80])}).forEach(function(a){var d=a.item;return b.seq([function(a){return c[5]=d.a,c[6]=d.P,a=[b.createArray()],c[0]=a[0],a,b.db.table(14).getArr([[[c[5]]]]).filter(function(a){return b.i64.eq(a.a,c[5])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){var d=a.item;return b.seq([function(a){return b.db.table(7).getArr([[[d.b]]]).filter(function(a){return b.i64.eq(a.a,d.b)&&b.i64.eq([0,1],[0,1])}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[!1],c[7]=e[0],e):(d=a.item,c[9]=d.r,e=[b.i64.eq(c[9],[0,7])||b.i64.eq(c[9],[0,11])||b.i64.eq(c[9],[0,12])],c[7]=e[0],e)})},function(a){return[(c[0].push(c[7]),c[0])]}])})},function(a){return c[1]=!1,a=[b.i64.of_int32(c[0].length)],c[2]=a[0],a,b.i64.gt(c[2],[0,0])?b.loopAsync(c[2],function(a){return c[7]=a,b.seq([function(a){return b.ntop("Array",3,c[0],c[7]).then(function(a){return a=a,c[8]=a[0],a})},function(a){return c[1]=c[8]||c[1]}])}):b.resolve()},function(a){return c[1]&&b.i64.eq(d.c,[0,1])?(a=[b.i64.or_(b.i64.or_(c[6],[128,0]),[256,0])],c[4]=a[0],a):(a=[b.i64.and_(b.i64.and_(c[6],[-129,4294967295]),[-257,4294967295])],c[4]=a[0],a),b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,c[5])}).forEach(function(a){var b=a.update;a.item;return b({P:c[4]})})}])})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllParticipantsForThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveAllRequestsFromAdminApprovalQueueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(26).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveFromAdminApprovalQueueStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(26).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticGroupThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.Z,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticParticipantStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])&&b.i64.eq(c.j,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveOptimisticReactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).getArr([[[a[0],a[1],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&b.i64.eq(c.d,a[2])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.f,[0,20])&&c.e===a[3]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemoveParticipantFromThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(40).getArr([[[a[1],a[0],a[2]]]]).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(39).getArr([[[a[1],a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({e:a[3],d:a[4]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxRemovePollVoteV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("182",a[5],a[1],a[6],a[3],a[7]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[0]?b.sp("174",a[0],a[1],a[2],a[3],a[4]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticReactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).getArr([[[a[0],a[2],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[2]&&b.i64.eq(c.d,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.le(c.f,[0,20])}).forEach(function(a){var b=a.update;a.item;return b({f:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimisticThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.le(c.Z,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({a:a[1],Z:[0,40]})}):(c.item,b.db.table(9).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxReplaceOptimsiticMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr().filter(function(c){return c.e===a[0]&&b.i64.eq(c.V,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({e:a[1],V:[0,60],k:[0,2],l:[0,2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxResetPageMessagingWindowStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("page_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","reset_message_window",[0,108],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRetryMessageRangeQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(13).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&a[2]?b.i64.eq(c.d,a[1])&&c.g===!0:b.i64.eq(c.b,a[1])&&c.f===!0}).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("1",e.a)],[c[0].set("2",e.b)],[c[0].set("3",e.c)],[c[0].set("4",e.d)],[c[0].set("5",e.e)],[c[0].set("6",e.f)],[c[0].set("7",e.g)],[c[0].set("8",e.h)],[c[0].set("9",e.i)],[c[0].set("table",[0,13])],[c[0].set("type",[0,1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("2",a[4],[0,14],c[1],void 0,void 0,[0,0],[0,1]).then(function(a){return a=a,c[2]=a[0],a})},function(c){return b.db.table(3).add({a:a[4],b:[-1,4294967295],e:b.i64.of_float(Date.now()),f:a[3],g:[0,0]})}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxRtcP2PEndCallStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("call_acknowledged",a[0])],[c[0].set("call_duration",a[1])],[c[0].set("call_id",a[2])],[c[0].set("call_message",a[3])],[c[0].set("call_start_time",a[4])],[c[0].set("call_type",a[5])],[c[0].set("caller_ended",a[6])],[c[0].set("conference_name",a[7])],[c[0].set("event_name",a[8])],[c[0].set("event_type",a[9])],[c[0].set("to",a[10])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","rtc_p2p_end_call",[0,36],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSecureTemplateStatusUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("user_action",a[0])],[c[0].set("encrypted_form_id",a[1])],[c[0].set("timestamp_ms",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("6","fire_forget",[0,7],c[1])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSendCTMWelcomeMessageFromAppStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("token",a[0])],[c[0].set("only_show_admin_text",a[1])],[c[0].set("send_welcome_message",!1)],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","ctm_ad_from_app",[0,60],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSendMessageV2FailureCleanupStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxSendPlatformReferralEventStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("page_id",a[0])],[c[0].set("ref",a[1])],[c[0].set("channel_id",a[2])],[c[0].set("source",a[3])],[c[0].set("metadata",a[4])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","platform_send_postback_referral_event",[0,109],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSendPlatformReferralFireForgetEventStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("page_id",a[0])],[c[0].set("ref",a[1])],[c[0].set("channel_id",a[2])],[c[0].set("source",a[3])],[c[0].set("metadata",a[4])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("6","fire_forget",[0,8],c[1])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetMessageViewFlagsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],void 0,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,b.c,b.d==null?[-1,4294967295]:b.d],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.e!==a[1]&&(b.i64.gt(d.c,c[7])||b.i64.eq(d.c,c[7])&&b.i64.ge(d.d==null?[-1,4294967295]:d.d,c[8]))}).sortBy([["d","ASC"],["b","ASC"]],["c"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],void 0,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.e!==a[1]&&(b.i64.lt(d.c,c[7])||b.i64.eq(d.c,c[7])&&b.i64.le(d.d==null?[-1,4294967295]:d.d,c[8]))}).sortBy([["d","DESC"],["b","DESC"]],["c"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],void 0,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.b,b.h,b.P,b.j,b.e,b.V,b.i,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[34]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[37]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[35]=b.i64.eq(b.i64.and_(c[37],[0,8]),[0,8]),c[36]=c[35]?b.i64.or_(c[34],[0,16]):c[34],b.db.table(12).getArr([[[a[0],c[10],c[14]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[10])&&d.e===c[14]}).forEach(function(a){var b=a.update;a.item;return b({P:c[37]})})},function(a){return a=[c[35]?b.i64.and_(c[36],[-1,4294967294]):c[36]],c[31]=a[0],a}]):b.resolve((d=[c[34]],c[31]=d[0],d))},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[37]=b.i64.or_(b.i64.and_(c[31],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[31],[0,1]))))),c[35]=b.i64.eq(b.i64.and_(c[37],[0,8]),[0,8]),c[36]=c[35]?b.i64.or_(c[22],[0,16]):c[22],b.db.table(12).getArr([[[a[0],c[20],c[24]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[20])&&d.e===c[24]}).forEach(function(a){var d=a.update;a.item;return d({P:c[35]?b.i64.and_(c[36],[-1,4294967294]):c[36]})})},function(a){return a=[c[37]],c[33]=a[0],a}]):b.resolve((d=[c[31]],c[33]=d[0],d))},function(d){return b.db.table(12).getArr([[[a[0],c[0],c[4]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[0])&&d.e===c[4]}).forEach(function(a){var b=a.update;a.item;return b({P:c[33]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetMessagesViewedPluginStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}).forEach(function(b){var c=b.update;b.item;return c({R:a[3],S:a[4]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetNeedsAdminApprovalForNewParticipantStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({t:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetPollsThreadCapabilityStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.Z,[0,80])}).forEach(function(a){var d=a.item;return b.seq([function(a){return c[5]=d.a,c[6]=d.P,a=[b.createArray()],c[0]=a[0],a,b.db.table(14).getArr([[[c[5]]]]).filter(function(a){return b.i64.eq(a.a,c[5])&&b.i64.eq([0,0],[0,0])}).forEach(function(a){var d=a.item;return b.seq([function(a){return b.db.table(7).getArr([[[d.b]]]).filter(function(a){return b.i64.eq(a.a,d.b)&&b.i64.eq([0,1],[0,1])}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[!1],c[7]=e[0],e):(d=a.item,e=[b.i64.eq(d.r,[0,4])],c[7]=e[0],e)})},function(a){return[(c[0].push(c[7]),c[0])]}])})},function(a){return c[1]=!1,a=[b.i64.of_int32(c[0].length)],c[2]=a[0],a,b.i64.gt(c[2],[0,0])?b.loopAsync(c[2],function(a){return c[7]=a,b.seq([function(a){return b.ntop("Array",3,c[0],c[7]).then(function(a){return a=a,c[8]=a[0],a})},function(a){return c[1]=c[8]||c[1]}])}):b.resolve()},function(a){return!c[1]&&b.i64.eq(d.c,[0,2])?(a=[b.i64.or_(c[6],[16,0])],c[4]=a[0],a):(a=[b.i64.and_(c[6],[-17,4294967295])],c[4]=a[0],a),b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,c[5])}).forEach(function(a){var b=a.update;a.item;return b({P:c[4]})})}])})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCannotUnsendReasonStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({L:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSetThreadCapabilitiesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(c){var d=c.update;c.item;return d({P:b.i64.or_([0,0],a[1]?[0,1]:[0,0])})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxSyncUpdateThreadNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq(c.c,[0,2])}).forEach(function(b){var c=b.update;b.item;return c({d:a[0]===""?void 0:a[0].trim()})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerMuteThreadV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(32).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[3]=f[0],f,f=[(c[3].push("TaskSerializerMuteThreadV2: Task ID not found"),c[3])],c[4]=f[0],f,f=[(c[3].push(a[0]),c[3])],c[5]=f[0],f,f=[b.toJSON(c[3])],c[6]=f[0],f,b.log(c[6],[0,3]),f=[void 0,void 0],c[0]=f[0],c[1]=f[1],f):(e=d.item,b.seq([function(a){return c[6]=e.b,b.db.table(9).getArr([[[c[6]]]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[b.createArray()],c[7]=a[0],a,a=[(c[7].push("TaskSerializerMuteThreadV2: Thread not found"),c[7])],c[8]=a[0],a,a=[(c[7].push(c[6]),c[7])],c[9]=a[0],a,a=[b.toJSON(c[7])],c[10]=a[0],a,b.log(c[10],[0,3]),a=[void 0,void 0],c[3]=a[0],c[4]=a[1],a):(e=d.item,a=[new b.Map()],c[7]=a[0],a,[c[7].set("thread_key",c[6])],[c[7].set("mailbox_type",[0,0])],[c[7].set("mute_expire_time_ms",e.l)],d=[b.toJSON(c[7])],c[8]=d[0],d,a=[c[8],[0,144]],c[3]=a[0],c[4]=a[1],a)})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerRemoveThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(32).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[3]=f[0],f,f=[(c[3].push("TaskSerializerRemoveThreadV2: Task ID not found"),c[3])],c[4]=f[0],f,f=[(c[3].push(a[0]),c[3])],c[5]=f[0],f,f=[b.toJSON(c[3])],c[6]=f[0],f,b.log(c[6],[0,3]),f=[void 0,void 0],c[0]=f[0],c[1]=f[1],f):(e=d.item,c[6]=e.c,b.i64.neq(c[6],void 0)?(f=[new b.Map()],c[7]=f[0],f,[c[7].set("thread_key",e.b)],[c[7].set("remove_type",c[6])],d=[b.toJSON(c[7])],c[8]=d[0],d,f=[c[8],[0,146]],c[4]=f[0],c[5]=f[1],f):(e=[void 0,void 0],c[4]=e[0],c[5]=e[1],e),d=[c[4],c[5]],c[0]=d[0],c[1]=d[1],d)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxTaskSerializerSendMessageV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(31).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[b.createArray()],c[3]=f[0],f,f=[(c[3].push("task ID not found"),c[3])],c[4]=f[0],f,f=[(c[3].push(a[0]),c[3])],c[5]=f[0],f,f=[b.toJSON(c[3])],c[6]=f[0],f,b.log(c[6],[0,3]),f=[void 0,void 0],c[0]=f[0],c[1]=f[1],f):(e=d.item,b.seq([function(d){return c[9]=e.c,c[10]=e.d,c[13]=e.e,c[7]=e.g,c[8]=e.h,c[6]=e.i,c[11]=e.j,c[12]=e.k,b.db.table(12).getArr([[[c[9]]],"optimistic"]).next().then(function(e,f){var d=e.done;e=e.value;return d?(d=[b.createArray()],c[14]=d[0],d,d=[(c[14].push("OTID not found"),c[14])],c[15]=d[0],d,d=[(c[14].push(c[9]),c[14])],c[16]=d[0],d,d=[b.toJSON(c[14])],c[17]=d[0],d,b.log(c[17],[0,3]),d=[void 0,void 0],c[3]=d[0],c[4]=d[1],d):(f=e.item,b.seq([function(d){return c[20]=f.g,c[18]=f.a,c[21]=f.e,c[19]=f.i,c[22]=f.n,c[23]=f.o,c[17]=f.p,c[24]=f.q,c[25]=f.U,b.db.table(9).getArr([[[c[18]]]]).next().then(function(e,g){var d=e.done;e=e.value;return d?(d=[b.createArray()],c[26]=d[0],d,d=[(c[26].push("thread not found"),c[26])],c[27]=d[0],d,d=[(c[26].push(c[18]),c[26])],c[28]=d[0],d,d=[b.toJSON(c[26])],c[29]=d[0],d,b.log(c[29],[0,3]),d=[void 0,void 0],c[14]=d[0],c[15]=d[1],d):(g=e.item,b.seq([function(d){return b.db.table(2).getArr([[[a[0]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?(d=[!1],c[26]=d[0],d):(f=e.item,b.seq([function(d){return b.db.table(2).getArr().filter(function(a){return a.b===f.b}).slice(0,b.i64.to_float([0,1])).next().then(function(e,f){var d=e.done;e=e.value;return d?(d=[!1],c[31]=d[0],d):(f=e.item,d=[b.i64.eq(f.a,a[0])],c[31]=d[0],d)})},function(a){return a=[c[31]],c[26]=a[0],a}]))})},function(a){return b.i64.eq(g.Z,[0,20])&&b.i64.eq(g.c,[0,2])&&c[26]?b.seq([function(a){return c[33]=c[12]==null?[0,1]:c[12],a=[new b.Map()],c[31]=a[0],a,[c[31].set("thread_id",c[18])],[c[31].set("otid",c[9])],[c[31].set("source",c[13]==null?[0,0]:c[13])],[c[31].set("send_type",[0,1])],b.i64.eq(c[33],[0,1])?b.resolve([c[31].set("text",c[20])]):b.i64.eq(c[33],[0,2])?b.resolve(b.i64.neq(c[19],void 0)?([c[31].set("sticker_id",c[19])],[c[31].set("send_type",c[33])]):0):b.i64.eq(c[33],[0,7])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[43]=a[0],c[44]=a[1],a):(d=b.item,a=[d.h,d.X],c[43]=a[0],c[44]=a[1],a)})},function(a){return c[43]!==void 0?b.i64.neq(c[44],void 0)?([c[31].set("url",c[43])],[c[31].set("attribution_app_id",c[44])],[c[31].set("send_type",c[33])]):0:0}]):b.i64.eq(c[33],[0,3])?b.seq([function(a){return[c[31].set("text",c[20])],a=[b.createArray()],c[44]=a[0],a,b.db.table(16).getArr([[[c[18],c[21]]]]).forEach(function(a){a=a.item;return[(c[44].push(b.i64.from_string(a.e)),c[44])]})},function(a){return[c[31].set("attachment_fbids",c[44])],[c[31].set("send_type",c[33])]}]):b.i64.eq(c[33],[0,9])?b.seq([function(a){return[c[31].set("text",c[20])],a=[b.createArray()],c[45]=a[0],a,b.db.table(16).getArr([[[c[18],c[21]]]]).forEach(function(a){a=a.item;return[(c[45].push(b.i64.from_string(a.e)),c[45])]})},function(a){return[c[31].set("attachment_fbids",c[45])],[c[31].set("send_type",c[33])]}]):b.i64.eq(c[33],[0,4])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[46]=a[0],a):(d=b.item,a=[d.e],c[46]=a[0],a)})},function(a){return c[46]!==void 0?([c[31].set("text",c[20])],[c[31].set("forwarded_share_id",c[46])],[c[31].set("send_type",c[33])]):0}]):b.i64.eq(c[33],[0,5])?b.resolve(c[10]!==void 0?([c[31].set("forwarded_msg_id",c[10])],[c[31].set("send_type",c[33])]):0):b.i64.eq(c[33],[0,6])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[48]=a[0],c[49]=a[1],a):(d=b.item,a=[d.h,d.X],c[48]=a[0],c[49]=a[1],a)})},function(a){return c[48]!==void 0?([c[31].set("url",c[48])],[c[31].set("text",c[20])],[c[31].set("send_type",c[33])]):0}]):b.resolve(0)},function(a){return c[37]=c[6]===""?void 0:c[6],c[37]!==void 0?b.i64.neq(c[11],void 0)?(a=[new b.Map()],c[41]=a[0],a,[c[41].set("reply_source_id",c[37])],[c[41].set("reply_source_type",c[11])],[c[31].set("reply_metadata",c[41])]):0:0,c[38]=c[17]===""?void 0:c[17],c[38]!==void 0?(c[41]=c[22]===""?void 0:c[22],c[41]!==void 0?(c[42]=c[23]===""?void 0:c[23],c[42]!==void 0?(a=[new b.Map()],c[43]=a[0],a,[c[43].set("mention_ids",c[38])],[c[43].set("mention_offsets",c[41])],[c[43].set("mention_lengths",c[42])],[c[43].set("mention_types",c[24]===""?void 0:c[24])],[c[31].set("mention_data",c[43])]):0):0):0,c[39]=c[7]===""?void 0:c[7],c[39]!==void 0?[c[31].set("platform_ref",c[39])]:0,c[40]=c[8]===""?void 0:c[8],c[40]!==void 0?[c[31].set("platform_token",c[40])]:0,b.i64.eq(c[33],[0,1])?b.i64.neq(c[25],void 0)?[c[31].set("hot_emoji_size",c[25])]:0:0,a=[b.createArray()],c[34]=a[0],a,b.db.table(14).getArr([[[c[18]]]]).forEach(function(a){a=a.item;return[(c[34].push(a.b),c[34])]})},function(a){return a=[new b.Map()],c[35]=a[0],a,[c[35].set("participants",c[34])],[c[35].set("send_payload",c[31])],b.db.table(9).getArr().filter(function(a){return b.i64.eq(a.a,g.a)}).forEach(function(a){var b=a.update;a.item;return b({S:f.f})})},function(a){return a=[b.toJSON(c[35])],c[36]=a[0],a,a=[c[36],[0,130]],c[29]=a[0],c[30]=a[1],a}]):b.seq([function(a){return c[33]=c[12]==null?[0,1]:c[12],a=[new b.Map()],c[31]=a[0],a,[c[31].set("thread_id",c[18])],[c[31].set("otid",c[9])],[c[31].set("source",c[13]==null?[0,0]:c[13])],[c[31].set("send_type",[0,1])],b.i64.eq(c[33],[0,1])?b.resolve([c[31].set("text",c[20])]):b.i64.eq(c[33],[0,2])?b.resolve(b.i64.neq(c[19],void 0)?([c[31].set("sticker_id",c[19])],[c[31].set("send_type",c[33])]):0):b.i64.eq(c[33],[0,7])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[41]=a[0],c[42]=a[1],a):(d=b.item,a=[d.h,d.X],c[41]=a[0],c[42]=a[1],a)})},function(a){return c[41]!==void 0?b.i64.neq(c[42],void 0)?([c[31].set("url",c[41])],[c[31].set("attribution_app_id",c[42])],[c[31].set("send_type",c[33])]):0:0}]):b.i64.eq(c[33],[0,3])?b.seq([function(a){return[c[31].set("text",c[20])],a=[b.createArray()],c[42]=a[0],a,b.db.table(16).getArr([[[c[18],c[21]]]]).forEach(function(a){a=a.item;return[(c[42].push(b.i64.from_string(a.e)),c[42])]})},function(a){return[c[31].set("attachment_fbids",c[42])],[c[31].set("send_type",c[33])]}]):b.i64.eq(c[33],[0,9])?b.seq([function(a){return[c[31].set("text",c[20])],a=[b.createArray()],c[43]=a[0],a,b.db.table(16).getArr([[[c[18],c[21]]]]).forEach(function(a){a=a.item;return[(c[43].push(b.i64.from_string(a.e)),c[43])]})},function(a){return[c[31].set("attachment_fbids",c[43])],[c[31].set("send_type",c[33])]}]):b.i64.eq(c[33],[0,4])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[44]=a[0],a):(d=b.item,a=[d.e],c[44]=a[0],a)})},function(a){return c[44]!==void 0?([c[31].set("text",c[20])],[c[31].set("forwarded_share_id",c[44])],[c[31].set("send_type",c[33])]):0}]):b.i64.eq(c[33],[0,5])?b.resolve(c[10]!==void 0?([c[31].set("forwarded_msg_id",c[10])],[c[31].set("send_type",c[33])]):0):b.i64.eq(c[33],[0,6])?b.seq([function(a){return b.db.table(16).getArr([[[c[18],c[21]]]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0,void 0],c[46]=a[0],c[47]=a[1],a):(d=b.item,a=[d.h,d.X],c[46]=a[0],c[47]=a[1],a)})},function(a){return c[46]!==void 0?([c[31].set("url",c[46])],[c[31].set("text",c[20])],[c[31].set("send_type",c[33])]):0}]):b.resolve(0)},function(a){return c[35]=c[6]===""?void 0:c[6],c[35]!==void 0?b.i64.neq(c[11],void 0)?(a=[new b.Map()],c[39]=a[0],a,[c[39].set("reply_source_id",c[35])],[c[39].set("reply_source_type",c[11])],[c[31].set("reply_metadata",c[39])]):0:0,c[36]=c[17]===""?void 0:c[17],c[36]!==void 0?(c[39]=c[22]===""?void 0:c[22],c[39]!==void 0?(c[40]=c[23]===""?void 0:c[23],c[40]!==void 0?(a=[new b.Map()],c[41]=a[0],a,[c[41].set("mention_ids",c[36])],[c[41].set("mention_offsets",c[39])],[c[41].set("mention_lengths",c[40])],[c[41].set("mention_types",c[24]===""?void 0:c[24])],[c[31].set("mention_data",c[41])]):0):0):0,c[37]=c[7]===""?void 0:c[7],c[37]!==void 0?[c[31].set("platform_ref",c[37])]:0,c[38]=c[8]===""?void 0:c[8],c[38]!==void 0?[c[31].set("platform_token",c[38])]:0,b.i64.eq(c[33],[0,1])?b.i64.neq(c[25],void 0)?[c[31].set("hot_emoji_size",c[25])]:0:0,a=[b.toJSON(c[31])],c[34]=a[0],a,a=[c[34],[0,46]],c[29]=a[0],c[30]=a[1],a}])},function(a){return a=[c[29],c[30]],c[14]=a[0],c[15]=a[1],a}]))})},function(a){return a=[c[14],c[15]],c[3]=a[0],c[4]=a[1],a}]))})},function(a){return a=[c[3],c[4]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateAdditionalThreadContextStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({U:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateDeliveryReceiptStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[1],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&b.i64.gt(a[0],c.d)}).forEach(function(b){var c=b.update;b.item;return c({d:a[0]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateDraftMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({H:a[1]===""||a[1]===void 0?void 0:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateEphemeralMediaStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("437",a[0],a[1],a[3],a[5]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.i64.neq(a[4],void 0)?(d=[new b.Map()],c[1]=d[0],d,[c[1].set("message_id",a[1])],[c[1].set("ephemeral_media_state",a[4])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","update_ephemeral_media_state",[0,191],c[2],void 0,void 0,[0,0],void 0)):b.resolve()},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateExistingMessageRangeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(13).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&a[2]?b.i64.eq(c.d,a[1]):b.i64.eq(c.b,a[1])}).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.db.table(13).put({a:d.a,b:d.b,c:d.c,d:d.d,e:d.e,f:!1,g:!1,h:a[2]&&!a[3]?d.h:!1,i:a[2]&&!a[3]?!1:d.i}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateExistingThreadV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr().filter(function(c){return b.i64.eq(c.a,a[0])||b.i64.eq(c.O,a[42])}).forEach(function(b){var c=b.update;b.item;return c({a:a[0],d:a[1],e:a[2],A:a[3],f:a[4],g:a[5],h:a[6],i:a[7],j:a[8],k:a[9],l:a[10],m:a[11],n:a[12],o:a[13],t:a[14],Z:a[15],u:a[17],v:a[18],w:a[19],x:a[20],y:a[21],z:a[22],B:a[23],C:a[24],D:a[25],E:a[26],F:a[27],G:a[28],H:a[29],I:a[30],J:a[31],K:a[32],L:a[33],M:a[34],N:a[35],P:a[36],Q:a[37],R:a[38],T:a[39],ba:a[41]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateFolderThreadSnippetStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.i64.neq(a[1],void 0)?b.resolve((d=[a[1]],c[1]=d[0],d)):b.seq([function(d){return b.db.table(9).getArr([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])&&b.i64.lt(c.j,c.i)}).count().then(function(a){return c[11]=a})},function(a){return a=[c[11]],c[1]=a[0],a}])},function(d){return d=[a[2].get("all_read"),a[2]],c[2]=d[0],d,d=[a[2].get("unread_singular"),a[2]],c[3]=d[0],d,d=[b.createArray()],c[4]=d[0],d,[(c[4].push(b.i64.to_string(c[1])),c[4])],[(c[4].push(c[3]),c[4])],d=[c[4].join("")],c[5]=d[0],d,d=[a[2].get("unread_plural"),a[2]],c[6]=d[0],d,d=[b.createArray()],c[7]=d[0],d,[(c[7].push(b.i64.to_string(c[1])),c[7])],[(c[7].push(c[6]),c[7])],d=[c[7].join("")],c[8]=d[0],d,b.i64.eq(c[1],[0,0])?(d=[c[2]],c[10]=d[0],d):(b.i64.eq(c[1],[0,1])?(d=[c[5]],c[12]=d[0],d):(d=[c[8]],c[13]=d[0],d,d=[c[13]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),b.db.table(9).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({m:c[10],p:void 0,q:void 0,r:void 0,s:void 0})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateHasMenuAndComposerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(9).getArr([[[a[0]]]]).count().then(function(a){return c[0]=a})},function(d){return b.i64.eq(c[0],[0,0])?b.resolve(0):b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({J:a[1],K:a[2]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateMessageRangeV1StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateOngoingCallServerInfoDataStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(23).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(16).getArr([[[a[0],a[1],a[2]]]]).filter(function(c){return c.e===a[2]&&b.i64.eq(c.a,a[0])&&c.c===a[1]&&b.i64.eq(c.bU,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({A:a[3],B:a[4],C:a[5],D:a[6],F:a[7],G:a[8],H:a[9],I:a[10],K:a[11],L:a[12]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateOptimisticEphemeralMediaStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(d){return b.seq([function(c){return b.i64.neq(a[3],void 0)?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&(b.i64.eq(c.f,[0,8])||b.i64.eq(c.f,[0,9]))&&b.i64.eq(c.bV,[0,0])}).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&(b.i64.eq(c.f,[0,8])||b.i64.eq(c.f,[0,9]))}).forEach(function(b){var c=b.update;b.item;return c({bV:a[2],bW:a[3]})}):(c.item,b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&(b.i64.eq(c.f,[0,8])||b.i64.eq(c.f,[0,9]))}).forEach(function(b){var c=b.update;b.item;return c({bW:a[3]})}))}):b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&(b.i64.eq(c.f,[0,8])||b.i64.eq(c.f,[0,9]))&&b.i64.eq(c.bV,[0,0])}).next().then(function(c,d){d=c.done;c=c.value;return d?b.db.table(16).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&(b.i64.eq(c.f,[0,8])||b.i64.eq(c.f,[0,9]))}).forEach(function(b){var c=b.update;b.item;return c({bV:a[2]})}):(c.item,0)})},function(a){return a=[!0],c[0]=a[0],a}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateOrInsertRtcOngoingCallDataStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(23).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])}).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(23).add({a:a[0],b:a[1],c:a[2]}):(d=c.item,b.db.table(23).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])}).forEach(function(b){var c=b.update;b.item;return c({b:a[1]==null?d.b:a[1],c:a[2]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateParentFolderReadWatermarkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("105",a[0]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.i64.neq(c[0],[0,0])?b.seq([function(a){return b.db.table(9).getArr([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(a){return b.i64.eq(a.A,c[0])&&b.i64.lt(a.j,a.i)}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[1]=d[0],d):(b=a.item,d=[b.j],c[1]=d[0],d)})},function(a){return b.i64.neq(c[1],void 0)?b.db.table(9).getArr([[[c[0]]]]).forEach(function(a){var b=a.update;a.item;return b({j:c[1]})}):b.seq([function(a){return b.db.table(9).getArr([[[c[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[4]=d[0],d):(b=a.item,d=[b.i],c[4]=d[0],d)})},function(a){return b.i64.neq(c[4],void 0)?b.db.table(9).getArr([[[c[0]]]]).forEach(function(a){var b=a.update;a.item;return b({j:c[4]})}):b.resolve()}])},function(d){return b.sp("132",c[0],void 0,a[1])}]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateParticipantCapabilitiesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("162",a[0],a[1]).then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(14).getArr([[[a[1],a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[0])}).forEach(function(a){var b=a.update;a.item;return b({i:c[0]})})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateParticipantSubscribeSourceTextStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdatePollAdminMessageSummaryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(38).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])&&([[0,2],[0,3]].some(function(a){return b.i64.eq(c.e,a)})&&[[0,2],[0,3]].some(function(c){return b.i64.eq(a[4],c)})||[[0,4],[0,5]].some(function(a){return b.i64.eq(c.e,a)})&&[[0,4],[0,5]].some(function(c){return b.i64.eq(a[4],c)}))&&b.i64.gt(a[3],c.d)&&c.c!==a[2]}).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[0]=e.d,b.db.table(12).getArr([[[a[1],b.merge({gt:c[0]},{lt:a[3]})]]]).next().then(function(f){var d=f.done;f.value;return d?b.seq([function(d){return b.db.table(12).getArr([[[a[1],c[0],e.c]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[0])&&d.e===e.c}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(12).getArr([[[a[1],a[3],a[2]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[3])&&c.e===a[2]}).forEach(function(b){var c=b.update;b.item;return c({g:a[5]})})}]):0}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateRepliesOnUnsendStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.of_int32(a[2].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[1]=d,b.seq([function(d){return b.ntop("Array",3,a[2],c[1]).then(function(a){return a=a,c[2]=a[0],a})},function(d){return d=[c[2].get("reply_snippet"),c[2]],c[3]=d[0],d,d=[c[2].get("message_id"),c[2]],c[4]=d[0],d,b.db.table(12).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&d.e===c[4]}).forEach(function(a){var b=a.update;a.item;return b({u:[0,2],v:c[3],w:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,H:void 0,I:void 0})})}])}):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateSenderIDToPersonaIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[0],a[2],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[2])&&c.e===a[1]}).forEach(function(b){var c=b.update;b.item;return c({h:a[3]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateShouldRoundThreadPictureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({Q:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateSubscriptErrorMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(12).getArr([[[a[0]]]]).filter(function(c){return c.e===a[1]&&b.i64.eq(c.a,a[0])&&b.i64.eq(c.V,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({W:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadApprovalModeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({t:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadCustomEmojiStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({w:a[1],x:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadDescriptionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({ba:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadImageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.c,[0,2])}).forEach(function(b){var c=b.update;b.item;return c({Z:[0,60],f:a[2]===""?void 0:a[2],g:a[3],h:a[4]})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("image_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","thread_image",[0,37],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadMuteSettingStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({l:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadNullstateCTAIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateThreadOngoingCallStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({u:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantAdminStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({f:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantNicknameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({j:[0,20],e:a[2]===""?void 0:a[2],h:a[3]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadParticipantNicknameV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(14).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(b){var c=b.update;b.item;return c({j:[0,80],e:a[2]===""?void 0:a[2],h:a[3]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetAfterMessageDeletedStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(16).getArr([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[0]=d[0],d):(b=a.item,d=[b.V],c[0]=d[0],d)})},function(d){return b.db.table(12).getArrDesc([[[a[0]]]]).slice(0,b.i64.to_float([0,1])).next().then(function(b,d){var e=b.done;b=b.value;return e?(e=[!1],c[2]=e[0],e):(d=b.item,e=[d.e===a[1]],c[2]=e[0],e)})},function(d){return c[2]?b.sp("51",a[0],c[0],!1,void 0,!1,void 0,void 0,!1):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetFromLastMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[!0],c[0]=d[0],d,c[0]?b.seq([function(c){return b.sp("570",a[1])},function(a){return a=[!1],c[2]=a[0],a}]):b.resolve((d=[!0],c[2]=d[0],d))},function(d){return c[2]?b.db.table(12).getArrDesc([[[a[1]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).getArr([[[a[1]]]]).forEach(function(a){var b=a.update;a.item;return b({m:void 0,p:void 0,q:void 0,r:void 0,s:void 0,n:!1,o:void 0})}):(e=d.item,b.seq([function(d){return c[8]=e.g,c[11]=e.a,c[12]=[0,0],c[13]=e.e,c[15]=e.h,c[9]=e.i,c[14]=e.j,c[10]=e.m,b.db.table(9).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(a[1],c.a)&&b.i64.eq([0,2],c.c)}).count().then(function(a){return c[4]=a})},function(d){return c[14]?b.resolve((d=[[0,9]],c[6]=d[0],d)):b.seq([function(d){return b.i64.eq(c[15],a[0])?b.seq([function(a){return c[10]?b.resolve((a=[[0,3]],c[19]=a[0],a)):b.seq([function(a){return c[8]!==void 0&&c[8]!==""?b.resolve((a=[[0,0]],c[21]=a[0],a)):b.seq([function(a){return b.i64.neq(c[9],void 0)?b.resolve((a=[[0,2]],c[23]=a[0],a)):b.seq([function(a){return b.db.table(16).getArr([[[c[11],c[13]]]]).filter(function(a){return b.i64.eq(a.a,c[11])&&b.i64.eq([0,0],c[12])&&a.c===c[13]}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[[0,1]],c[24]=a[0],a):(e=d.item,b.i64.eq(e.f,[0,2])?(a=[[0,10]],c[27]=a[0],a):(d=[[0,1]],c[27]=d[0],d),e=[c[27]],c[24]=e[0],e)})},function(a){return a=[c[24]],c[23]=a[0],a}])},function(a){return a=[c[23]],c[21]=a[0],a}])},function(a){return a=[c[21]],c[19]=a[0],a}])},function(a){return a=[c[19]],c[17]=a[0],a}]):b.seq([function(a){return c[10]?b.resolve((a=[[0,8]],c[19]=a[0],a)):b.seq([function(a){return c[8]!==void 0&&c[8]!==""?b.resolve((b.i64.eq(c[4],[0,1])?(a=[[0,5]],c[23]=a[0],a):(a=[[0,4]],c[23]=a[0],a),a=[c[23]],c[21]=a[0],a)):b.seq([function(a){return b.i64.neq(c[9],void 0)?b.resolve((a=[[0,7]],c[23]=a[0],a)):b.seq([function(a){return b.db.table(16).getArr([[[c[11],c[13]]]]).filter(function(a){return b.i64.eq(a.a,c[11])&&b.i64.eq([0,0],c[12])&&a.c===c[13]}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[[0,6]],c[24]=a[0],a):(e=d.item,b.i64.eq(e.f,[0,2])?(a=[[0,11]],c[27]=a[0],a):(d=[[0,6]],c[27]=d[0],d),e=[c[27]],c[24]=e[0],e)})},function(a){return a=[c[24]],c[23]=a[0],a}])},function(a){return a=[c[23]],c[21]=a[0],a}])},function(a){return a=[c[21]],c[19]=a[0],a}])},function(a){return a=[c[19]],c[17]=a[0],a}])},function(a){return a=[c[17]],c[6]=a[0],a}])},function(d){return b.i64.eq(c[6],[0,0])?(c[18]=c[8]===""?void 0:c[8],c[18]!==void 0?(d=[b.createArray()],c[19]=d[0],d,[(c[19].push(a[2]),c[19])],[(c[19].push(": "),c[19])],[(c[19].push(c[18]),c[19])],d=[c[19].join("")],c[20]=d[0],d,d=[c[20]],c[17]=d[0],d):(d=[void 0],c[17]=d[0],d),b.db.table(9).getArr([[[a[1]]]]).forEach(function(a){var b=a.update;a.item;return b({m:c[17],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})})):b.i64.eq(c[6],[0,1])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[5],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,10])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[7],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,2])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[3],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,3])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[9],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,4])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(a){var b=a.update;a.item;return b({m:c[8],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,5])?b.seq([function(d){return b.seq([function(d){return b.db.table(14).getArr([[[a[1],c[15]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.b,c[15])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[26]=a[0],a):(d=b.item,a=[d.e],c[26]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[15]]]]).filter(function(a){return b.i64.eq(a.a,c[15])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[30]=a[0],a,c[30]?(a=[b.localize([458451087,3140280290],void 0)],c[33]=a[0],a,a=[c[33]],c[32]=a[0],a):(a=["Facebook User"],c[32]=a[0],a),a=[c[32]],c[28]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[28]=a[0],a)})},function(a){return a=[c[26]==null?c[28]:c[26]],c[22]=a[0],a}])},function(d){return c[25]=c[8]===""?void 0:c[8],c[25]!==void 0?(d=[b.createArray()],c[26]=d[0],d,[(c[26].push(c[22]),c[26])],[(c[26].push(": "),c[26])],[(c[26].push(c[25]),c[26])],d=[c[26].join("")],c[27]=d[0],d,d=[c[27]],c[24]=d[0],d):(d=[void 0],c[24]=d[0],d),b.db.table(9).getArr([[[a[1]]]]).forEach(function(a){var b=a.update;a.item;return b({m:c[24],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})})}]):b.i64.eq(c[6],[0,6])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[6],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,11])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[8],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,7])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[4],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,8])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(b){var d=b.update;b.item;return d({m:a[10],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.i64.eq(c[6],[0,9])?b.db.table(9).getArr([[[a[1]]]]).forEach(function(a){var b=a.update;a.item;return b({m:c[8],p:void 0,q:void 0,r:void 0,s:void 0,n:c[14],o:c[15]})}):b.resolve(0)}]))}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=!1,b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.db.table(12).getArrDesc([[[a[0]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.seq([function(a){return c[5]=f.g,c[4]=f.a,c[7]=[0,0],c[8]=f.e,c[3]=f.h,c[2]=f.j,c[2]?b.seq([function(a){return b.sp("571",void 0,c[5]==null?"":c[5],void 0,void 0,void 0,void 0,void 0).then(function(a){return a=a,c[9]=a[0],a})},function(a){return b.sp("51",c[4],c[9],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.resolve()},function(a){return b.sp("4").then(function(a){return a=a,c[1]=a[0],a})},function(a){return c[6]=b.i64.eq(c[1],c[3]),c[0]?b.resolve():f.m?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[12]=a[0],a):(d=b.item,a=[d.e],c[12]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[16]=a[0],a,c[16]?(a=[b.localize([458451087,3140280290],void 0)],c[19]=a[0],a,a=[c[19]],c[18]=a[0],a):(a=["Facebook User"],c[18]=a[0],a),a=[c[18]],c[14]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[14]=a[0],a)})},function(a){return a=[c[12]==null?c[14]:c[12]],c[9]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[529896894,415063890],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[12]=a[0],a})},function(a){return a=[c[12]],c[11]=a[0],a}]):b.seq([function(a){return a=[!0],c[12]=a[0],a,c[12]?(a=[b.localize([458451087,3140280290],void 0)],c[16]=a[0],a,a=[c[16]],c[14]=a[0],a):(a=["Facebook User"],c[14]=a[0],a),b.sp("571",void 0,void 0,[1972157772,1976261635],c[9]==null?c[14]:c[9],void 0,void 0,void 0).then(function(a){return a=a,c[15]=a[0],a})},function(a){return a=[c[15]],c[11]=a[0],a}])},function(a){return b.sp("51",c[4],c[11],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.resolve()},function(a){return c[0]?b.resolve():c[5]!==void 0&&c[5]!==""?c[6]?b.seq([function(a){return b.sp("571",void 0,c[5]==null?"":c[5],void 0,void 0,void 0,void 0,[25213171,764249406]).then(function(a){return a=a,c[10]=a[0],a})},function(a){return b.sp("51",c[4],c[10],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(e.c,[0,2])?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[13]=a[0],a):(d=b.item,a=[d.e],c[13]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[17]=a[0],a,c[17]?(a=[b.localize([458451087,3140280290],void 0)],c[20]=a[0],a,a=[c[20]],c[19]=a[0],a):(a=["Facebook User"],c[19]=a[0],a),a=[c[19]],c[15]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[15]=a[0],a)})},function(a){return a=[c[13]==null?c[15]:c[13]],c[11]=a[0],a}])},function(a){return b.sp("571",void 0,c[5]==null?"":c[5],void 0,void 0,void 0,c[11],void 0).then(function(a){return a=a,c[12]=a[0],a})},function(a){return b.sp("51",c[4],c[12],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.seq([function(a){return b.sp("571",void 0,c[5]==null?"":c[5],void 0,void 0,void 0,void 0,void 0).then(function(a){return a=a,c[11]=a[0],a})},function(a){return b.sp("51",c[4],c[11],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.resolve()},function(a){return c[0]?b.resolve():b.i64.neq(f.i,void 0)?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[12]=a[0],a):(d=b.item,a=[d.e],c[12]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[16]=a[0],a,c[16]?(a=[b.localize([458451087,3140280290],void 0)],c[19]=a[0],a,a=[c[19]],c[18]=a[0],a):(a=["Facebook User"],c[18]=a[0],a),a=[c[18]],c[14]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[14]=a[0],a)})},function(a){return a=[c[12]==null?c[14]:c[12]],c[9]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1671062641,618535080],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[12]=a[0],a})},function(a){return a=[c[12]],c[11]=a[0],a}]):b.seq([function(a){return a=[!0],c[12]=a[0],a,c[12]?(a=[b.localize([458451087,3140280290],void 0)],c[16]=a[0],a,a=[c[16]],c[14]=a[0],a):(a=["Facebook User"],c[14]=a[0],a),b.sp("571",void 0,void 0,[1282342228,1037106319],c[9]==null?c[14]:c[9],void 0,void 0,void 0).then(function(a){return a=a,c[15]=a[0],a})},function(a){return a=[c[15]],c[11]=a[0],a}])},function(a){return b.sp("51",c[4],c[11],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.resolve()},function(a){return c[0]?b.resolve():b.seq([function(a){return b.db.table(16).getArr([[[c[4],c[8]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],c[7])&&a.c===c[8]}).count().then(function(a){return c[9]=a})},function(a){return b.i64.eq(c[9],[0,0])?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[14]=a[0],a):(d=b.item,a=[d.e],c[14]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[18]=a[0],a,c[18]?(a=[b.localize([458451087,3140280290],void 0)],c[21]=a[0],a,a=[c[21]],c[20]=a[0],a):(a=["Facebook User"],c[20]=a[0],a),a=[c[20]],c[16]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[16]=a[0],a)})},function(a){return a=[c[14]==null?c[16]:c[14]],c[11]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[722781412,3985577186],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[14]=a[0],a})},function(a){return a=[c[14]],c[13]=a[0],a}]):b.seq([function(a){return a=[!0],c[14]=a[0],a,c[14]?(a=[b.localize([458451087,3140280290],void 0)],c[18]=a[0],a,a=[c[18]],c[16]=a[0],a):(a=["Facebook User"],c[16]=a[0],a),b.sp("571",void 0,void 0,[941162303,1263760336],c[11]==null?c[16]:c[11],void 0,void 0,void 0).then(function(a){return a=a,c[17]=a[0],a})},function(a){return a=[c[17]],c[13]=a[0],a}])},function(a){return b.sp("51",c[4],c[13],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(c[9],[0,1])?b.db.table(16).getArr([[[c[4],c[8]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],c[7])&&a.c===c[8]}).next().then(function(d,e){var a=d.done;d=d.value;return a?0:(e=d.item,c[14]=e.Y,c[13]=e.f,b.i64.eq(c[13],[0,2])?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[18]=a[0],a):(d=b.item,a=[d.e],c[18]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[22]=a[0],a,c[22]?(a=[b.localize([458451087,3140280290],void 0)],c[25]=a[0],a,a=[c[25]],c[24]=a[0],a):(a=["Facebook User"],c[24]=a[0],a),a=[c[24]],c[20]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[20]=a[0],a)})},function(a){return a=[c[18]==null?c[20]:c[18]],c[15]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1768557826,1117332322],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[18]=a[0],a})},function(a){return a=[c[18]],c[17]=a[0],a}]):b.seq([function(a){return a=[!0],c[18]=a[0],a,c[18]?(a=[b.localize([458451087,3140280290],void 0)],c[22]=a[0],a,a=[c[22]],c[20]=a[0],a):(a=["Facebook User"],c[20]=a[0],a),b.sp("571",void 0,void 0,[2051104303,3427454448],c[15]==null?c[20]:c[15],void 0,void 0,void 0).then(function(a){return a=a,c[21]=a[0],a})},function(a){return a=[c[21]],c[17]=a[0],a}])},function(a){return b.sp("51",c[4],c[17],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(c[13],[0,5])?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[19]=a[0],a):(d=b.item,a=[d.e],c[19]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[23]=a[0],a,c[23]?(a=[b.localize([458451087,3140280290],void 0)],c[26]=a[0],a,a=[c[26]],c[25]=a[0],a):(a=["Facebook User"],c[25]=a[0],a),a=[c[25]],c[21]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[21]=a[0],a)})},function(a){return a=[c[19]==null?c[21]:c[19]],c[16]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1569232526,679246917],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[19]=a[0],a})},function(a){return a=[c[19]],c[18]=a[0],a}]):b.seq([function(a){return a=[!0],c[19]=a[0],a,c[19]?(a=[b.localize([458451087,3140280290],void 0)],c[23]=a[0],a,a=[c[23]],c[21]=a[0],a):(a=["Facebook User"],c[21]=a[0],a),b.sp("571",void 0,void 0,[899384449,1824699475],c[16]==null?c[21]:c[16],void 0,void 0,void 0).then(function(a){return a=a,c[22]=a[0],a})},function(a){return a=[c[22]],c[18]=a[0],a}])},function(a){return b.sp("51",c[4],c[18],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(c[13],[0,4])?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[20]=a[0],a):(d=b.item,a=[d.e],c[20]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[24]=a[0],a,c[24]?(a=[b.localize([458451087,3140280290],void 0)],c[27]=a[0],a,a=[c[27]],c[26]=a[0],a):(a=["Facebook User"],c[26]=a[0],a),a=[c[26]],c[22]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[22]=a[0],a)})},function(a){return a=[c[20]==null?c[22]:c[20]],c[17]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1194737529,578759090],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[20]=a[0],a})},function(a){return a=[c[20]],c[19]=a[0],a}]):b.seq([function(a){return a=[!0],c[20]=a[0],a,c[20]?(a=[b.localize([458451087,3140280290],void 0)],c[24]=a[0],a,a=[c[24]],c[22]=a[0],a):(a=["Facebook User"],c[22]=a[0],a),b.sp("571",void 0,void 0,[2074667783,229175889],c[17]==null?c[22]:c[17],void 0,void 0,void 0).then(function(a){return a=a,c[23]=a[0],a})},function(a){return a=[c[23]],c[19]=a[0],a}])},function(a){return b.sp("51",c[4],c[19],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(c[13],[0,3])?c[14]!==void 0?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[22]=a[0],a):(d=b.item,a=[d.e],c[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[26]=a[0],a,c[26]?(a=[b.localize([458451087,3140280290],void 0)],c[29]=a[0],a,a=[c[29]],c[28]=a[0],a):(a=["Facebook User"],c[28]=a[0],a),a=[c[28]],c[24]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[24]=a[0],a)})},function(a){return a=[c[22]==null?c[24]:c[22]],c[19]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1729132024,3432618874],c[14],void 0,void 0,void 0).then(function(a){return a=a,c[22]=a[0],a})},function(a){return a=[c[22]],c[21]=a[0],a}]):b.seq([function(a){return a=[!0],c[22]=a[0],a,c[22]?(a=[b.localize([458451087,3140280290],void 0)],c[26]=a[0],a,a=[c[26]],c[24]=a[0],a):(a=["Facebook User"],c[24]=a[0],a),b.sp("571",void 0,void 0,[1389642093,2656834556],c[19]==null?c[24]:c[19],c[14],void 0,void 0).then(function(a){return a=a,c[25]=a[0],a})},function(a){return a=[c[25]],c[21]=a[0],a}])},function(a){return b.sp("51",c[4],c[21],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[22]=a[0],a):(d=b.item,a=[d.e],c[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[26]=a[0],a,c[26]?(a=[b.localize([458451087,3140280290],void 0)],c[29]=a[0],a,a=[c[29]],c[28]=a[0],a):(a=["Facebook User"],c[28]=a[0],a),a=[c[28]],c[24]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[24]=a[0],a)})},function(a){return a=[c[22]==null?c[24]:c[22]],c[19]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[690335427,1944044306],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[22]=a[0],a})},function(a){return a=[c[22]],c[21]=a[0],a}]):b.seq([function(a){return a=[!0],c[22]=a[0],a,c[22]?(a=[b.localize([458451087,3140280290],void 0)],c[26]=a[0],a,a=[c[26]],c[24]=a[0],a):(a=["Facebook User"],c[24]=a[0],a),b.sp("571",void 0,void 0,[1958210339,2246877533],c[19]==null?c[24]:c[19],void 0,void 0,void 0).then(function(a){return a=a,c[25]=a[0],a})},function(a){return a=[c[25]],c[21]=a[0],a}])},function(a){return b.sp("51",c[4],c[21],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.i64.eq(c[13],[0,7])?e.q==="xma_live_location_sharing"?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[23]=a[0],a):(d=b.item,a=[d.e],c[23]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[27]=a[0],a,c[27]?(a=[b.localize([458451087,3140280290],void 0)],c[30]=a[0],a,a=[c[30]],c[29]=a[0],a):(a=["Facebook User"],c[29]=a[0],a),a=[c[29]],c[25]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[25]=a[0],a)})},function(a){return a=[c[23]==null?c[25]:c[23]],c[20]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1512690118,3226374458],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[23]=a[0],a})},function(a){return a=[c[23]],c[22]=a[0],a}]):b.seq([function(a){return a=[!0],c[23]=a[0],a,c[23]?(a=[b.localize([458451087,3140280290],void 0)],c[27]=a[0],a,a=[c[27]],c[25]=a[0],a):(a=["Facebook User"],c[25]=a[0],a),b.sp("571",void 0,void 0,[1285737654,2836087170],c[20]==null?c[25]:c[20],void 0,void 0,void 0).then(function(a){return a=a,c[26]=a[0],a})},function(a){return a=[c[26]],c[22]=a[0],a}])},function(a){return b.sp("51",c[4],c[22],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[23]=a[0],a):(d=b.item,a=[d.e],c[23]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[27]=a[0],a,c[27]?(a=[b.localize([458451087,3140280290],void 0)],c[30]=a[0],a,a=[c[30]],c[29]=a[0],a):(a=["Facebook User"],c[29]=a[0],a),a=[c[29]],c[25]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[25]=a[0],a)})},function(a){return a=[c[23]==null?c[25]:c[23]],c[20]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[722781412,3985577186],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[23]=a[0],a})},function(a){return a=[c[23]],c[22]=a[0],a}]):b.seq([function(a){return a=[!0],c[23]=a[0],a,c[23]?(a=[b.localize([458451087,3140280290],void 0)],c[27]=a[0],a,a=[c[27]],c[25]=a[0],a):(a=["Facebook User"],c[25]=a[0],a),b.sp("571",void 0,void 0,[941162303,1263760336],c[20]==null?c[25]:c[20],void 0,void 0,void 0).then(function(a){return a=a,c[26]=a[0],a})},function(a){return a=[c[26]],c[22]=a[0],a}])},function(a){return b.sp("51",c[4],c[22],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[22]=a[0],a):(d=b.item,a=[d.e],c[22]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[26]=a[0],a,c[26]?(a=[b.localize([458451087,3140280290],void 0)],c[29]=a[0],a,a=[c[29]],c[28]=a[0],a):(a=["Facebook User"],c[28]=a[0],a),a=[c[28]],c[24]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[24]=a[0],a)})},function(a){return a=[c[22]==null?c[24]:c[22]],c[19]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[722781412,3985577186],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[22]=a[0],a})},function(a){return a=[c[22]],c[21]=a[0],a}]):b.seq([function(a){return a=[!0],c[22]=a[0],a,c[22]?(a=[b.localize([458451087,3140280290],void 0)],c[26]=a[0],a,a=[c[26]],c[24]=a[0],a):(a=["Facebook User"],c[24]=a[0],a),b.sp("571",void 0,void 0,[941162303,1263760336],c[19]==null?c[24]:c[19],void 0,void 0,void 0).then(function(a){return a=a,c[25]=a[0],a})},function(a){return a=[c[25]],c[21]=a[0],a}])},function(a){return b.sp("51",c[4],c[21],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]))}):b.seq([function(a){return c[12]=!0,b.db.table(16).getArr([[[c[4],c[8]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],c[7])&&a.c===c[8]}).forEach(function(a){a=a.item;return b.i64.eq(a.f,[0,2])?0:c[12]=!1})},function(a){return c[12]?b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[17]=a[0],a):(d=b.item,a=[d.e],c[17]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[21]=a[0],a,c[21]?(a=[b.localize([458451087,3140280290],void 0)],c[24]=a[0],a,a=[c[24]],c[23]=a[0],a):(a=["Facebook User"],c[23]=a[0],a),a=[c[23]],c[19]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[19]=a[0],a)})},function(a){return a=[c[17]==null?c[19]:c[17]],c[14]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1215807777,909001506],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[17]=a[0],a})},function(a){return a=[c[17]],c[16]=a[0],a}]):b.seq([function(a){return a=[!0],c[17]=a[0],a,c[17]?(a=[b.localize([458451087,3140280290],void 0)],c[21]=a[0],a,a=[c[21]],c[19]=a[0],a):(a=["Facebook User"],c[19]=a[0],a),b.sp("571",void 0,void 0,[1775684091,3938355001],c[14]==null?c[19]:c[14],void 0,void 0,void 0).then(function(a){return a=a,c[20]=a[0],a})},function(a){return a=[c[20]],c[16]=a[0],a}])},function(a){return b.sp("51",c[4],c[16],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}]):b.seq([function(a){return b.seq([function(a){return b.db.table(14).getArr([[[c[4],c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[4])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c[3])}).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[17]=a[0],a):(d=b.item,a=[d.e],c[17]=a[0],a)})},function(a){return b.db.table(7).getArr([[[c[3]]]]).filter(function(a){return b.i64.eq(a.a,c[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[!0],c[21]=a[0],a,c[21]?(a=[b.localize([458451087,3140280290],void 0)],c[24]=a[0],a,a=[c[24]],c[23]=a[0],a):(a=["Facebook User"],c[23]=a[0],a),a=[c[23]],c[19]=a[0],a):(e=d.item,a=[e.p==null?e.h:e.p],c[19]=a[0],a)})},function(a){return a=[c[17]==null?c[19]:c[17]],c[14]=a[0],a}])},function(a){return c[6]?b.seq([function(a){return b.sp("571",void 0,void 0,[1249817109,1624587762],void 0,void 0,void 0,void 0).then(function(a){return a=a,c[17]=a[0],a})},function(a){return a=[c[17]],c[16]=a[0],a}]):b.seq([function(a){return a=[!0],c[17]=a[0],a,c[17]?(a=[b.localize([458451087,3140280290],void 0)],c[21]=a[0],a,a=[c[21]],c[19]=a[0],a):(a=["Facebook User"],c[19]=a[0],a),b.sp("571",void 0,void 0,[958342261,785032527],c[14]==null?c[19]:c[14],void 0,void 0,void 0).then(function(a){return a=a,c[20]=a[0],a})},function(a){return a=[c[20]],c[16]=a[0],a}])},function(a){return b.sp("51",c[4],c[16],c[2],c[3],!1,void 0,void 0,!1)},function(a){return c[0]=!0}])}])}])}]))}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return a[7]?b.seq([function(d){return b.i64.neq(a[3],void 0)?b.seq([function(d){return b.seq([function(d){return b.db.table(14).getArr([[[a[0],a[3]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[3])}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[6]=d[0],d):(b=a.item,d=[b.e],c[6]=d[0],d)})},function(d){return b.db.table(7).getArr([[[a[3]]]]).filter(function(c){return b.i64.eq(c.a,a[3])&&b.i64.eq([0,1],[0,1])}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[!0],c[10]=e[0],e,c[10]?(e=[b.localize([458451087,3140280290],void 0)],c[13]=e[0],e,e=[c[13]],c[12]=e[0],e):(e=["Facebook User"],c[12]=e[0],e),e=[c[12]],c[8]=e[0],e):(d=a.item,e=[d.p==null?d.h:d.p],c[8]=e[0],e)})},function(a){return a=[c[6]==null?c[8]:c[6]],c[3]=a[0],a}])},function(d){return a[1]!==void 0?(d=[b.createArray()],c[6]=d[0],d,[(c[6].push(c[3]),c[6])],[(c[6].push(": "),c[6])],[(c[6].push(a[1]),c[6])],d=[c[6].join("")],c[7]=d[0],d,d=[c[7]],c[5]=d[0],d):(d=[void 0],c[5]=d[0],d),d=[c[5]],c[2]=d[0],d}]):b.resolve((d=[a[1]],c[2]=d[0],d))},function(d){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({m:c[2],p:void 0,q:void 0,r:void 0,s:void 0,n:a[2],o:a[3],I:a[4],M:a[5],N:a[6]})})}]):b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({m:a[1],p:void 0,q:void 0,r:void 0,s:void 0,n:a[2],o:a[3],I:a[4],M:a[5],N:a[6]})})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadSnippetV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({m:void 0,p:a[2],q:a[3],r:a[4],s:a[5],n:a[6],o:a[7]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateThreadThemeColorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.log("call to unsupported stored procedure: updateThreadThemeColor",[0,3]),b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpdateThreadThemeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({z:a[1],y:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpdateTypingStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSMailboxUpsertFolderStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.i64.neq(a[3],void 0)?b.resolve((d=[a[3]],c[1]=d[0],d)):b.seq([function(d){return b.db.table(9).getArrDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0]],c[5]=d[0],d):(b=a.item,d=[b.i],c[5]=d[0],d)})},function(a){return a=[c[5]],c[1]=a[0],a}])},function(d){return b.i64.neq(a[4],void 0)?b.resolve((d=[a[4]],c[3]=d[0],d)):b.seq([function(d){return b.db.table(9).getArr([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).filter(function(c){return b.i64.eq(c.A,a[0])&&b.i64.lt(c.j,c.i)}).next().then(function(d,e){var f=d.done;d=d.value;return f?b.seq([function(d){return b.i64.neq(a[3],void 0)?b.resolve((d=[a[3]],c[8]=d[0],d)):b.seq([function(d){return b.db.table(9).getArrDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[[0,0]],c[9]=a[0],a):(d=b.item,a=[d.i],c[9]=a[0],a)})},function(a){return a=[c[9]],c[8]=a[0],a}])},function(a){return a=[c[8]],c[5]=a[0],a}]):(e=d.item,f=[e.j],c[5]=f[0],f)})},function(a){return a=[c[5]],c[3]=a[0],a}])},function(d){return b.db.table(9).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?b.seq([function(c){return b.db.table(9).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.lt(c.Z,[0,80])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(9).add({a:a[0],b:[0,0],c:[0,6],d:a[1],e:"",A:[0,0],f:a[2],i:c[1],j:c[3],k:[0,0],l:[0,0],m:"",n:!1,J:!1,K:!1,I:!1,Z:[0,80],u:[0,0],P:[0,0],Q:!1})}]):(d.item,b.db.table(9).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({d:a[1],e:"",A:[0,0],f:a[2],i:c[1],j:c[3],k:[0,0],l:[0,0],m:"",p:void 0,q:void 0,r:void 0,s:void 0,n:!1,J:!1,K:!1,I:!1,Z:[0,80],u:[0,0],P:[0,0],Q:!1})}))})},function(c){return b.sp("132",a[0],a[5],a[6])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpsertMSuggestionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(21).put({c:a[2],a:a[0],b:a[1],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertMessagesStatusInTableStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(12).getArrDesc([[[a[0],{lte:a[1]}]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.V,[0,80])&&b.i64.le(c.b,a[1])}).slice(0,b.i64.to_float([0,1])).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[3]=e.b,c[2]=e.e,b.i64.eq(a[4],[0,2])&&a[5]===void 0?b.db.table(7).getArr([[[a[3]]]]).next().then(function(e,f){var d=e.done;e=e.value;return d?0:(f=e.item,b.db.table(33).put({a:c[2],b:a[0],c:c[3],d:a[2],e:a[3],f:a[4],g:f.b}))}):b.db.table(33).put({a:c[2],b:a[0],c:c[3],d:a[2],e:a[3],f:a[4],g:a[5]}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMailboxUpsertReactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({a:a[0],c:a[2],d:a[3],b:a[1],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxUpsertRtcMultiwayCallInitiationConferenceNameStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(24).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMailboxWriteCtaAccountLinkEncodedUrlStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(19).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({h:a[1],k:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendGetIsFinalUploadingStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(51).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,e=[new b.Map()],c[5]=e[0],e,[c[5].set("offline_attachment_id",d.a)],[c[5].set("offline_threading_id",d.b)],[c[5].set("in_message_index",d.c)],[c[5].set("attachment_type",d.d)],[c[5].set("should_transcode",d.e)],[c[5].set("use_double_phase",d.f)],[c[5].set("send_by_server",d.g)],[c[5].set("is_secure",d.h)],[c[5].set("state",d.i)],[c[5].set("fbid",d.j)],[c[5].set("metadata",d.k)],[c[5].set("error",d.l)],[(c[0].push(c[5]),c[0])])})},function(a){return a=[b.i64.of_int32(c[0].length)],c[2]=a[0],a,b.i64.neq(c[2],[0,0])?b.seq([function(a){return b.ntop("Array",3,c[0],[0,0]).then(function(a){return a=a,c[5]=a[0],a})},function(a){return a=[c[5].get("state"),c[5]],c[6]=a[0],a,a=[c[5].get("use_double_phase"),c[5]],c[7]=a[0],a,a=[c[7]?b.i64.eq(c[6],[0,9]):b.i64.eq(c[6],[0,3])],c[4]=a[0],a}]):b.resolve((a=[!1],c[4]=a[0],a))},function(a){return a=[c[4]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendGetMediaSendConfigStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(51).getArr().filter(function(a){return a.b===d[4]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],d):(b=a.item,d=[b.e,b.f,b.g,b.h,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],d)})},function(a){return a=[c[0],c[1],c[2],c[3]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[4]=a[4],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendGetMessageAttributionParamsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.e,b.g,b.h],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendGetUploadParamsForPhase2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(51).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.b,b.m,b.j],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return c[0]!==void 0?b.seq([function(a){return b.db.table(12).getArr([[[c[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[8]=d[0],d):(b=a.item,d=[b.a],c[8]=d[0],d)})},function(a){return a=[c[1],c[8],c[2]],c[5]=a[0],c[6]=a[1],c[7]=a[2],a}]):b.resolve((a=[void 0,void 0,void 0],c[5]=a[0],c[6]=a[1],c[7]=a[2],a))},function(a){return a=[c[5],c[6],c[7]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendInsertNewMediaSendStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendInsertPhase2PendingTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[0]=d[0],d):(b=a.item,d=[b.a],c[0]=d[0],d)})},function(d){return b.i64.neq(c[0],void 0)?b.seq([function(d){return d=[b.createArray()],c[4]=d[0],d,[(c[4].push(b.i64.to_string(c[0])),c[4])],[(c[4].push("_multi_media"),c[4])],d=[c[4].join(void 0||"")],c[5]=d[0],d,b.db.table(2).add({a:void 0,c:a[0],b:c[5],d:"4",e:b.i64.of_float(Date.now()),k:a[1]})},function(a){return a=[void 0],c[3]=a[0],a}]):b.resolve((d=[[0,1002]],c[3]=d[0],d))},function(a){return a=[c[3]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendMarkSubJobCompletedStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(51).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,e=[new b.Map()],c[3]=e[0],e,[c[3].set("offline_attachment_id",d.a)],[c[3].set("offline_threading_id",d.b)],[c[3].set("in_message_index",d.c)],[c[3].set("attachment_type",d.d)],[c[3].set("should_transcode",d.e)],[c[3].set("use_double_phase",d.f)],[c[3].set("send_by_server",d.g)],[c[3].set("is_secure",d.h)],[c[3].set("state",d.i)],[c[3].set("fbid",d.j)],[c[3].set("metadata",d.k)],[c[3].set("error",d.l)],[(c[0].push(c[3]),c[0])])})},function(d){return d=[b.i64.of_int32(c[0].length)],c[2]=d[0],d,b.i64.neq(c[2],[0,0])?b.seq([function(a){return b.ntop("Array",3,c[0],[0,0]).then(function(a){return a=a,c[3]=a[0],a})},function(d){var e;return d=[c[3].get("state"),c[3]],c[4]=d[0],d,b.i64.eq(c[4],[-1,4294967293])?(d=[[-1,4294967295]],c[8]=d[0],d,d=[c[8]],c[6]=d[0],d):(b.i64.eq(c[4],[0,1])?(d=[[0,2]],c[8]=d[0],d):(b.i64.eq(c[4],[0,3])?(d=[[0,4]],c[10]=d[0],d):(b.i64.eq(c[4],[0,5])?(d=[[0,6]],c[12]=d[0],d):(b.i64.eq(c[4],[0,13])?(d=[[0,14]],c[14]=d[0],d):(b.i64.eq(c[4],[0,7])?(d=[[0,8]],c[16]=d[0],d):(b.i64.eq(c[4],[0,9])?(d=[[0,10]],c[18]=d[0],d):(b.i64.eq(c[4],[0,11])?(d=[[0,12]],c[20]=d[0],d):(d=[c[4]],c[21]=d[0],d,d=[c[21]],c[20]=d[0],d),d=[c[20]],c[18]=d[0],d),d=[c[18]],c[16]=d[0],d),d=[c[16]],c[14]=d[0],d),d=[c[14]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),d=[c[10]],c[8]=d[0],d),d=[c[8]],c[6]=d[0],d),b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({i:c[6],j:a[1],k:a[2],l:a[3]})})}]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendMarkSubJobCompletedV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(51).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,e=[new b.Map()],c[3]=e[0],e,[c[3].set("offline_attachment_id",d.a)],[c[3].set("offline_threading_id",d.b)],[c[3].set("in_message_index",d.c)],[c[3].set("attachment_type",d.d)],[c[3].set("should_transcode",d.e)],[c[3].set("use_double_phase",d.f)],[c[3].set("send_by_server",d.g)],[c[3].set("is_secure",d.h)],[c[3].set("state",d.i)],[c[3].set("fbid",d.j)],[c[3].set("metadata",d.k)],[c[3].set("error",d.l)],[c[3].set("message_id",d.m)],[(c[0].push(c[3]),c[0])])})},function(d){return d=[b.i64.of_int32(c[0].length)],c[2]=d[0],d,b.i64.neq(c[2],[0,0])?b.seq([function(a){return b.ntop("Array",3,c[0],[0,0]).then(function(a){return a=a,c[3]=a[0],a})},function(d){var e,f,g,h;return d=[c[3].get("state"),c[3]],c[4]=d[0],d,b.i64.neq(a[1],void 0)?a[2]!==void 0?(b.i64.eq(c[4],[-1,4294967293])?(d=[[-1,4294967295]],c[10]=d[0],d,d=[c[10]],c[8]=d[0],d):(b.i64.eq(c[4],[0,1])?(d=[[0,2]],c[10]=d[0],d):(b.i64.eq(c[4],[0,3])?(d=[[0,4]],c[12]=d[0],d):(b.i64.eq(c[4],[0,5])?(d=[[0,6]],c[14]=d[0],d):(b.i64.eq(c[4],[0,13])?(d=[[0,14]],c[16]=d[0],d):(b.i64.eq(c[4],[0,7])?(d=[[0,8]],c[18]=d[0],d):(b.i64.eq(c[4],[0,9])?(d=[[0,10]],c[20]=d[0],d):(b.i64.eq(c[4],[0,11])?(d=[[0,12]],c[22]=d[0],d):(d=[c[4]],c[23]=d[0],d,d=[c[23]],c[22]=d[0],d),d=[c[22]],c[20]=d[0],d),d=[c[20]],c[18]=d[0],d),d=[c[18]],c[16]=d[0],d),d=[c[16]],c[14]=d[0],d),d=[c[14]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),d=[c[10]],c[8]=d[0],d),b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({i:c[8],j:a[1],m:a[2],k:a[3]})})):(b.i64.eq(c[4],[-1,4294967293])?(d=[[-1,4294967295]],c[10]=d[0],d,d=[c[10]],c[8]=d[0],d):(b.i64.eq(c[4],[0,1])?(d=[[0,2]],c[10]=d[0],d):(b.i64.eq(c[4],[0,3])?(d=[[0,4]],c[12]=d[0],d):(b.i64.eq(c[4],[0,5])?(d=[[0,6]],c[14]=d[0],d):(b.i64.eq(c[4],[0,13])?(d=[[0,14]],c[16]=d[0],d):(b.i64.eq(c[4],[0,7])?(d=[[0,8]],c[18]=d[0],d):(b.i64.eq(c[4],[0,9])?(d=[[0,10]],c[20]=d[0],d):(b.i64.eq(c[4],[0,11])?(d=[[0,12]],c[22]=d[0],d):(d=[c[4]],c[23]=d[0],d,d=[c[23]],c[22]=d[0],d),d=[c[22]],c[20]=d[0],d),d=[c[20]],c[18]=d[0],d),d=[c[18]],c[16]=d[0],d),d=[c[16]],c[14]=d[0],d),d=[c[14]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),d=[c[10]],c[8]=d[0],d),b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({i:c[8],j:a[1],k:a[3]})})):b.i64.neq(a[4],void 0)?(b.i64.eq(c[4],[-1,4294967293])?(d=[[-1,4294967295]],c[10]=d[0],d,d=[c[10]],c[8]=d[0],d):(b.i64.eq(c[4],[0,1])?(d=[[0,2]],c[10]=d[0],d):(b.i64.eq(c[4],[0,3])?(d=[[0,4]],c[12]=d[0],d):(b.i64.eq(c[4],[0,5])?(d=[[0,6]],c[14]=d[0],d):(b.i64.eq(c[4],[0,13])?(d=[[0,14]],c[16]=d[0],d):(b.i64.eq(c[4],[0,7])?(d=[[0,8]],c[18]=d[0],d):(b.i64.eq(c[4],[0,9])?(d=[[0,10]],c[20]=d[0],d):(b.i64.eq(c[4],[0,11])?(d=[[0,12]],c[22]=d[0],d):(d=[c[4]],c[23]=d[0],d,d=[c[23]],c[22]=d[0],d),d=[c[22]],c[20]=d[0],d),d=[c[20]],c[18]=d[0],d),d=[c[18]],c[16]=d[0],d),d=[c[16]],c[14]=d[0],d),d=[c[14]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),d=[c[10]],c[8]=d[0],d),b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var d=b.update;b.item;return d({i:c[8],l:a[4]})})):(b.i64.eq(c[4],[-1,4294967293])?(d=[[-1,4294967295]],c[10]=d[0],d,d=[c[10]],c[8]=d[0],d):(b.i64.eq(c[4],[0,1])?(d=[[0,2]],c[10]=d[0],d):(b.i64.eq(c[4],[0,3])?(d=[[0,4]],c[12]=d[0],d):(b.i64.eq(c[4],[0,5])?(d=[[0,6]],c[14]=d[0],d):(b.i64.eq(c[4],[0,13])?(d=[[0,14]],c[16]=d[0],d):(b.i64.eq(c[4],[0,7])?(d=[[0,8]],c[18]=d[0],d):(b.i64.eq(c[4],[0,9])?(d=[[0,10]],c[20]=d[0],d):(b.i64.eq(c[4],[0,11])?(d=[[0,12]],c[22]=d[0],d):(d=[c[4]],c[23]=d[0],d,d=[c[23]],c[22]=d[0],d),d=[c[22]],c[20]=d[0],d),d=[c[20]],c[18]=d[0],d),d=[c[18]],c[16]=d[0],d),d=[c[16]],c[14]=d[0],d),d=[c[14]],c[12]=d[0],d),d=[c[12]],c[10]=d[0],d),d=[c[10]],c[8]=d[0],d),b.db.table(51).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({i:c[8]})}))}]):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendNextPendingJobIdToScheduleStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.seq([function(d){return d=[b.i64.of_int32(a[0].length)],c[2]=d[0],d,b.i64.neq(c[2],[0,0])?b.seq([function(a){return a=[new b.Map()],c[6]=a[0],a,b.db.table(51).getArr().filter(function(a){return b.i64.eq(a.c,[0,0])}).forEach(function(a){a=a.item;return[c[6].set(a.b,a.i)]})},function(d){return c[7]=void 0,d=[b.i64.of_int32(a[0].length)],c[8]=d[0],d,b.i64.gt(c[8],[0,0])?b.loopAsync(c[8],function(d){return c[12]=d,b.seq([function(d){return b.ntop("Array",3,a[0],c[12]).then(function(a){return a=a,c[13]=a[0],a})},function(a){return c[7]!==void 0?(a=[c[7]],c[15]=a[0],a):(a=[c[6].get(c[13]),c[6]],c[16]=a[0],a,b.i64.neq(c[16],void 0)?(b.i64.eq(c[16],[-1,4294967293])?(a=[!0],c[20]=a[0],a):(b.i64.eq(c[16],[-1,4294967294])?(a=[!0],c[24]=a[0],a):(b.i64.eq(c[16],[-1,4294967295])?(a=[!0],c[26]=a[0],a):(b.i64.eq(c[16],[0,1])?(a=[!0],c[28]=a[0],a):(b.i64.eq(c[16],[0,2])?(a=[!0],c[30]=a[0],a):(b.i64.eq(c[16],[0,3])?(a=[!0],c[32]=a[0],a):(b.i64.eq(c[16],[0,4])?(a=[!0],c[34]=a[0],a):(b.i64.eq(c[16],[0,5])?(a=[!0],c[36]=a[0],a):(b.i64.eq(c[16],[0,6])?(a=[!0],c[38]=a[0],a):(a=[!1],c[39]=a[0],a,a=[c[39]],c[38]=a[0],a),a=[c[38]],c[36]=a[0],a),a=[c[36]],c[34]=a[0],a),a=[c[34]],c[32]=a[0],a),a=[c[32]],c[30]=a[0],a),a=[c[30]],c[28]=a[0],a),a=[c[28]],c[26]=a[0],a),a=[c[26]],c[24]=a[0],a),a=[c[24]],c[20]=a[0],a),c[20]?(a=[c[13]],c[22]=a[0],a):(a=[c[7]],c[22]=a[0],a),a=[c[22]],c[18]=a[0],a):(a=[c[7]],c[18]=a[0],a),a=[c[18]],c[15]=a[0],a),c[7]=c[15]}])}):b.resolve()},function(d){return c[7]!==void 0?b.resolve((d=[c[7],!0],c[10]=d[0],c[11]=d[1],d)):b.seq([function(d){return c[12]=void 0,d=[b.i64.of_int32(a[0].length)],c[13]=d[0],d,b.i64.gt(c[13],[0,0])?b.loopAsync(c[13],function(d){return c[17]=d,b.seq([function(d){return b.ntop("Array",3,a[0],c[17]).then(function(a){return a=a,c[18]=a[0],a})},function(a){return c[12]!==void 0?(a=[c[12]],c[20]=a[0],a):(a=[c[6].get(c[18]),c[6]],c[21]=a[0],a,b.i64.neq(c[21],void 0)?(b.i64.eq(c[21],[-1,4294967293])?(a=[!0],c[25]=a[0],a):(b.i64.eq(c[21],[-1,4294967294])?(a=[!0],c[29]=a[0],a):(b.i64.eq(c[21],[-1,4294967295])?(a=[!0],c[31]=a[0],a):(b.i64.eq(c[21],[0,1])?(a=[!0],c[33]=a[0],a):(b.i64.eq(c[21],[0,2])?(a=[!0],c[35]=a[0],a):(b.i64.eq(c[21],[0,3])?(a=[!0],c[37]=a[0],a):(b.i64.eq(c[21],[0,4])?(a=[!0],c[39]=a[0],a):(b.i64.eq(c[21],[0,5])?(a=[!0],c[41]=a[0],a):(b.i64.eq(c[21],[0,6])?(a=[!0],c[43]=a[0],a):(a=[!1],c[44]=a[0],a,a=[c[44]],c[43]=a[0],a),a=[c[43]],c[41]=a[0],a),a=[c[41]],c[39]=a[0],a),a=[c[39]],c[37]=a[0],a),a=[c[37]],c[35]=a[0],a),a=[c[35]],c[33]=a[0],a),a=[c[33]],c[31]=a[0],a),a=[c[31]],c[29]=a[0],a),a=[c[29]],c[25]=a[0],a),c[25]?(a=[c[12]],c[27]=a[0],a):(a=[c[18]],c[27]=a[0],a),a=[c[27]],c[23]=a[0],a):(a=[c[12]],c[23]=a[0],a),a=[c[23]],c[20]=a[0],a),c[12]=c[20]}])}):b.resolve()},function(a){return c[12]!==void 0?(a=[c[12],!1],c[15]=a[0],c[16]=a[1],a):(a=[void 0,void 0],c[15]=a[0],c[16]=a[1],a),a=[c[15],c[16]],c[10]=a[0],c[11]=a[1],a}])},function(a){return a=[c[10],c[11]],c[4]=a[0],c[5]=a[1],a}]):b.resolve((d=[void 0,void 0],c[4]=d[0],c[5]=d[1],d))},function(a){return a=[c[4],c[5]],c[0]=a[0],c[1]=a[1],a}])},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendRemoveMediaSendJobsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendResetSendByServerConfigIfNotDoublePhaseStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,b.db.table(51).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,e=[new b.Map()],c[5]=e[0],e,[c[5].set("offline_attachment_id",d.a)],[c[5].set("offline_threading_id",d.b)],[c[5].set("in_message_index",d.c)],[c[5].set("attachment_type",d.d)],[c[5].set("should_transcode",d.e)],[c[5].set("use_double_phase",d.f)],[c[5].set("send_by_server",d.g)],[c[5].set("is_secure",d.h)],[c[5].set("state",d.i)],[c[5].set("fbid",d.j)],[c[5].set("metadata",d.k)],[c[5].set("error",d.l)],[c[5].set("message_id",d.m)],[(c[0].push(c[5]),c[0])])})},function(d){return d=[b.i64.of_int32(c[0].length)],c[2]=d[0],d,b.i64.gt(c[2],[0,0])?b.seq([function(a){return b.ntop("Array",3,c[0],[0,0]).then(function(a){return a=a,c[5]=a[0],a})},function(d){return d=[c[5].get("use_double_phase"),c[5]],c[6]=d[0],d,c[6]?b.resolve((d=[!1],c[8]=d[0],d)):b.seq([function(c){return b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({g:a[1]})})},function(a){return a=[!0],c[8]=a[0],a}])},function(a){return a=[c[8]],c[4]=a[0],a}]):b.resolve((d=[!1],c[4]=d[0],d))},function(a){return a=[c[4]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendResetUseDoublePhaseConfigStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSMediaSendResumeMediaSendJobStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,d=[new b.Map()],c[1]=d[0],d,[c[1].set("main_job_succeeded",!1)],[c[1].set("resume_failed",!1)],[c[1].set("error",void 0)],[c[1].set("running_sub_job_states",c[0])],d=[new b.Map()],c[2]=d[0],d,[c[2].set("should_transcode",!1)],[c[2].set("use_double_phase",!1)],[c[2].set("send_by_server",!1)],[c[2].set("is_secure",!1)],[c[2].set("should_dedupe",!1)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["i","ASC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?0:(b=a.item,[c[2].set("should_transcode",b.e)],[c[2].set("use_double_phase",b.f)],[c[2].set("send_by_server",b.g)],[c[2].set("is_secure",b.h)])})},function(d){return d=[new b.Map()],c[4]=d[0],d,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return c[16]=a.a,c[14]=a.i,c[15]=a.l,b.i64.eq(c[14],[-1,4294967293])?(a=[!0],c[12]=a[0],a):(b.i64.eq(c[14],[0,1])?(a=[!0],c[18]=a[0],a):(b.i64.eq(c[14],[0,3])?(a=[!0],c[20]=a[0],a):(b.i64.eq(c[14],[0,5])?(a=[!0],c[22]=a[0],a):(b.i64.eq(c[14],[0,13])?(a=[!0],c[24]=a[0],a):(b.i64.eq(c[14],[0,7])?(a=[!0],c[26]=a[0],a):(b.i64.eq(c[14],[0,9])?(a=[!0],c[28]=a[0],a):(b.i64.eq(c[14],[0,11])?(a=[!0],c[30]=a[0],a):(a=[!1],c[31]=a[0],a,a=[c[31]],c[30]=a[0],a),a=[c[30]],c[28]=a[0],a),a=[c[28]],c[26]=a[0],a),a=[c[26]],c[24]=a[0],a),a=[c[24]],c[22]=a[0],a),a=[c[22]],c[20]=a[0],a),a=[c[20]],c[18]=a[0],a),a=[c[18]],c[12]=a[0],a),c[12]?b.resolve(b.i64.eq(c[14],[0,5])||b.i64.eq(c[14],[0,11])?0:[c[4].set(c[16],c[14])]):b.i64.neq(c[15],void 0)?b.resolve(([c[1].set("resume_failed",!0)],[c[1].set("error",c[15])])):(b.i64.eq(c[14],[-1,4294967295])?(a=[[0,5]],c[19]=a[0],a):(b.i64.eq(c[14],[-1,4294967294])?(a=[c[2].get("should_transcode"),c[2]],c[22]=a[0],a,a=[c[22]?[0,1]:[0,3]],c[21]=a[0],a):(b.i64.eq(c[14],[0,2])?(a=[[0,3]],c[23]=a[0],a):(b.i64.eq(c[14],[0,4])?(a=[c[2].get("send_by_server"),c[2]],c[26]=a[0],a,a=[c[2].get("use_double_phase"),c[2]],c[27]=a[0],a,a=[c[26]?c[27]?[0,13]:void 0:[0,5]],c[25]=a[0],a):(b.i64.eq(c[14],[0,6])?(a=[c[2].get("use_double_phase"),c[2]],c[28]=a[0],a,a=[c[28]?[0,13]:void 0],c[27]=a[0],a):(b.i64.eq(c[14],[0,14])?(a=[c[2].get("use_double_phase"),c[2]],c[30]=a[0],a,a=[c[2].get("should_transcode"),c[2]],c[31]=a[0],a,a=[c[30]?c[31]?[0,7]:[0,9]:void 0],c[29]=a[0],a):(b.i64.eq(c[14],[0,8])?(a=[[0,9]],c[31]=a[0],a):(b.i64.eq(c[14],[0,10])?(a=[c[2].get("send_by_server"),c[2]],c[34]=a[0],a,a=[c[34]?void 0:[0,11]],c[33]=a[0],a):(b.i64.eq(c[14],[0,12])?(a=[void 0],c[35]=a[0],a):(a=[void 0],c[36]=a[0],a,a=[c[36]],c[35]=a[0],a),a=[c[35]],c[33]=a[0],a),a=[c[33]],c[31]=a[0],a),a=[c[31]],c[29]=a[0],a),a=[c[29]],c[27]=a[0],a),a=[c[27]],c[25]=a[0],a),a=[c[25]],c[23]=a[0],a),a=[c[23]],c[21]=a[0],a),a=[c[21]],c[19]=a[0],a),b.i64.neq(c[19],void 0)?b.seq([function(a){return b.db.table(51).getArr().filter(function(a){return a.a===c[16]}).forEach(function(a){var b=a.update;a.item;return b({i:c[19]})})},function(a){return b.i64.eq(c[19],[0,5])||b.i64.eq(c[19],[0,11])?0:[c[4].set(c[16],c[19])]}]):b.resolve())})},function(d){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["i","ASC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[5]=d[0],d):(b=a.item,d=[b.i],c[5]=d[0],d)})},function(d){return b.i64.neq(c[5],void 0)?(d=[c[2].get("send_by_server"),c[2]],c[11]=d[0],d,d=[c[2].get("use_double_phase"),c[2]],c[12]=d[0],d,d=[c[2].get("use_double_phase"),c[2]],c[13]=d[0],d,(c[11]?c[12]?b.i64.eq(c[5],[0,10]):b.i64.eq(c[5],[0,4]):c[13]?b.i64.eq(c[5],[0,12]):b.i64.eq(c[5],[0,6]))?b.resolve([c[1].set("main_job_succeeded",!0)]):b.i64.eq(c[5],[0,5])?b.seq([function(d){return c[16]=void 0,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return c[20]=a.l,b.i64.eq(c[20],void 0)?(b.i64.neq(a.j,void 0)?(a=[void 0],c[22]=a[0],a):(a=[[0,9]],c[22]=a[0],a),a=[c[22]],c[19]=a[0],a):(a=[c[20]],c[19]=a[0],a),b.i64.neq(c[19],void 0)?c[16]=c[19]:0})},function(d){return b.i64.neq(c[16],void 0)?b.resolve(([c[1].set("resume_failed",!0)],[c[1].set("error",c[16])])):b.seq([function(d){return d=[c[2].get("is_secure"),c[2]],c[18]=d[0],d,c[18]?b.seq([function(d){return d=[b.createArray()],c[22]=d[0],d,c[23]=!1,c[24]=[0,0],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return c[30]=a.j,c[24]=b.i64.add(c[24],[0,1]),b.i64.neq(c[30],void 0)?[(c[22].push(c[30]),c[22])]:0})},function(d){return d=[b.createArray()],c[25]=d[0],d,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return c[30]=a.k,c[30]!==void 0?[(c[25].push(c[30]),c[25])]:0})},function(d){return d=[b.i64.of_int32(c[22].length)],c[26]=d[0],d,d=[b.i64.of_int32(c[25].length)],c[27]=d[0],d,b.i64.neq(c[26],c[24])||b.i64.neq(c[27],c[24])?b.resolve((d=[[0,11]],c[29]=d[0],d)):b.seq([function(d){return b.sp("224",a[0],c[22],c[25])},function(a){return a=[void 0],c[29]=a[0],a}])},function(a){return a=[c[29]],c[20]=a[0],a}]):b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[23]=d[0],d,c[24]=!1,c[25]=[0,0],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return c[29]=a.j,c[25]=b.i64.add(c[25],[0,1]),b.i64.neq(c[29],void 0)?[(c[23].push(c[29]),c[23])]:0})},function(d){return d=[b.i64.of_int32(c[23].length)],c[26]=d[0],d,b.i64.neq(c[26],c[25])||b.i64.eq(c[25],[0,0])?b.resolve((d=[[0,10002]],c[28]=d[0],d)):b.seq([function(d){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0,void 0,void 0],c[29]=d[0],c[30]=d[1],c[31]=d[2],c[32]=d[3],c[33]=d[4],d):(b=a.item,d=[b.a,b.h,b.g,b.r,b.t],c[29]=d[0],c[30]=d[1],c[31]=d[2],c[32]=d[3],c[33]=d[4],d)})},function(d){return b.i64.eq(c[29],void 0)||b.i64.eq(c[30],void 0)?b.resolve((b.i64.eq(c[29],void 0)?(d=[[0,10003]],c[38]=d[0],d):(d=[[0,10004]],c[38]=d[0],d),d=[c[38]],c[36]=d[0],d)):b.seq([function(a){return b.db.table(9).getArr([[[c[29]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[37]=d[0],d):(b=a.item,d=[b.c],c[37]=d[0],d)})},function(d){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[39]=d[0],c[40]=d[1],d):(b=a.item,d=[b.g,b.h],c[39]=d[0],c[40]=d[1],d)})},function(d){return b.i64.neq(c[37],void 0)?b.seq([function(d){return b.seq([function(d){return b.sp("239",a[0]).then(function(a){return a=a,c[44]=a[0],c[45]=a[1],c[46]=a[2],a})},function(d){return b.i64.neq(c[44],void 0)?(d=[c[44]],c[48]=d[0],d):(d=[[0,0]],c[48]=d[0],d),b.sp("35",c[30],c[29],c[37],a[0],c[31],c[23],c[48],c[32],c[33],c[24],c[39],c[40])}])},function(a){return a=[void 0],c[43]=a[0],a}]):b.resolve((d=[[0,10005]],c[43]=d[0],d))},function(a){return a=[c[43]],c[36]=a[0],a}])},function(a){return a=[c[36]],c[28]=a[0],a}])},function(a){return a=[c[28]],c[22]=a[0],a}])},function(d){return b.i64.eq(c[22],void 0)?b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:[0,6]})}):b.resolve()},function(a){return a=[c[22]],c[20]=a[0],a}])},function(d){return b.i64.eq(c[20],void 0)?(d=[c[2].get("send_by_server"),c[2]],c[22]=d[0],d,d=[c[2].get("use_double_phase"),c[2]],c[23]=d[0],d,d=[c[2].get("use_double_phase"),c[2]],c[24]=d[0],d,(c[22]?c[23]?b.i64.eq([0,6],[0,10]):b.i64.eq([0,6],[0,4]):c[24]?b.i64.eq([0,6],[0,12]):b.i64.eq([0,6],[0,6]))?b.resolve([c[1].set("main_job_succeeded",!0)]):(b.i64.eq([0,6],[-1,4294967295])?(d=[[0,5]],c[27]=d[0],d):(b.i64.eq([0,6],[-1,4294967294])?(d=[c[2].get("should_transcode"),c[2]],c[30]=d[0],d,d=[c[30]?[0,1]:[0,3]],c[29]=d[0],d):(b.i64.eq([0,6],[0,2])?(d=[[0,3]],c[31]=d[0],d):(b.i64.eq([0,6],[0,4])?(d=[c[2].get("send_by_server"),c[2]],c[34]=d[0],d,d=[c[2].get("use_double_phase"),c[2]],c[35]=d[0],d,d=[c[34]?c[35]?[0,13]:void 0:[0,5]],c[33]=d[0],d):(b.i64.eq([0,6],[0,6])?(d=[c[2].get("use_double_phase"),c[2]],c[36]=d[0],d,d=[c[36]?[0,13]:void 0],c[35]=d[0],d):(b.i64.eq([0,6],[0,14])?(d=[c[2].get("use_double_phase"),c[2]],c[38]=d[0],d,d=[c[2].get("should_transcode"),c[2]],c[39]=d[0],d,d=[c[38]?c[39]?[0,7]:[0,9]:void 0],c[37]=d[0],d):(b.i64.eq([0,6],[0,8])?(d=[[0,9]],c[39]=d[0],d):(b.i64.eq([0,6],[0,10])?(d=[c[2].get("send_by_server"),c[2]],c[42]=d[0],d,d=[c[42]?void 0:[0,11]],c[41]=d[0],d):(b.i64.eq([0,6],[0,12])?(d=[void 0],c[43]=d[0],d):(d=[void 0],c[44]=d[0],d,d=[c[44]],c[43]=d[0],d),d=[c[43]],c[41]=d[0],d),d=[c[41]],c[39]=d[0],d),d=[c[39]],c[37]=d[0],d),d=[c[37]],c[35]=d[0],d),d=[c[35]],c[33]=d[0],d),d=[c[33]],c[31]=d[0],d),d=[c[31]],c[29]=d[0],d),d=[c[29]],c[27]=d[0],d),b.i64.neq(c[27],void 0)?b.seq([function(d){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:c[27]})})},function(d){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return[c[4].set(a.a,a.i)]})}]):b.resolve())):b.resolve(([c[1].set("resume_failed",!0)],[c[1].set("error",c[20])]))}])}]):b.i64.eq(c[5],[0,11])?b.seq([function(d){return c[17]=void 0,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return c[19]=a.l,b.i64.neq(c[19],void 0)?c[17]=c[19]:0})},function(a){return b.i64.neq(c[17],void 0)?([c[1].set("resume_failed",!0)],[c[1].set("error",c[17])]):[c[1].set("main_job_succeeded",!0)]}]):b.i64.eq(c[5],[0,13])?b.seq([function(d){return b.sp("235",a[0],a[1]).then(function(a){return a=a,c[18]=a[0],a})},function(d){return b.i64.neq(c[18],void 0)?b.resolve(([c[1].set("resume_failed",!0)],[c[1].set("error",c[18])])):b.seq([function(c){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:[0,14]})})},function(d){return[c[1].set("main_job_succeeded",!0)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return[c[4].set(a.a,a.i)]})}])}]):b.resolve(0)):b.resolve(([c[1].set("resume_failed",!0)],[c[1].set("error",[0,11])]))},function(a){return a=[c[1].get("main_job_succeeded"),c[1]],c[8]=a[0],a,a=[c[1].get("resume_failed"),c[1]],c[9]=a[0],a,a=[c[1].get("error"),c[1]],c[10]=a[0],a,a=[c[8],c[9],c[10],c[4]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendSendPhase1MultiPhotoMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,c[1]=!1,c[2]=[0,0],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return c[6]=a.j,c[2]=b.i64.add(c[2],[0,1]),b.i64.neq(c[6],void 0)?[(c[0].push(c[6]),c[0])]:0})},function(d){return d=[b.i64.of_int32(c[0].length)],c[3]=d[0],d,b.i64.neq(c[3],c[2])||b.i64.eq(c[2],[0,0])?b.resolve((d=[!1],c[5]=d[0],d)):b.seq([function(d){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0,void 0,void 0],c[6]=d[0],c[7]=d[1],c[8]=d[2],c[9]=d[3],c[10]=d[4],d):(b=a.item,d=[b.a,b.h,b.g,b.r,b.t],c[6]=d[0],c[7]=d[1],c[8]=d[2],c[9]=d[3],c[10]=d[4],d)})},function(d){return b.i64.eq(c[6],void 0)||b.i64.eq(c[7],void 0)?b.resolve((d=[!1],c[13]=d[0],d)):b.seq([function(a){return b.db.table(9).getArr([[[c[6]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0],c[14]=d[0],d):(b=a.item,d=[b.c],c[14]=d[0],d)})},function(d){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[16]=d[0],c[17]=d[1],d):(b=a.item,d=[b.g,b.h],c[16]=d[0],c[17]=d[1],d)})},function(d){return b.i64.neq(c[14],void 0)?b.seq([function(d){return b.seq([function(d){return b.sp("239",a[0]).then(function(a){return a=a,c[21]=a[0],c[22]=a[1],c[23]=a[2],a})},function(d){return b.i64.neq(c[21],void 0)?(d=[c[21]],c[25]=d[0],d):(d=[[0,0]],c[25]=d[0],d),b.sp("35",c[7],c[6],c[14],a[0],c[8],c[0],c[25],c[9],c[10],c[1],c[16],c[17])}])},function(a){return a=[!0],c[20]=a[0],a}]):b.resolve((d=[!1],c[20]=d[0],d))},function(a){return a=[c[20]],c[13]=a[0],a}])},function(a){return a=[c[13]],c[5]=a[0],a}])},function(a){return a=[c[5]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSMediaSendSendPhase2UpdateMessageStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_fbid",a[0])],[c[0].set("message_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","send_phase_two_message",[0,136],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsClearAttemptedJoinersStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(79).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsContactUploadUpdateSettingsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(74).put({a:c[0],b:a[0],c:"",d:"",e:[0,20]})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("status",a[0])],[c[1].set("os_permission",a[1])],[c[1].set("source",a[2])],[c[1].set("contact_upload_protocol_source",a[3])],[c[1].set("machine_id",a[4])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","contact_upload",[0,62],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsContactUploadUpdateSettingsSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(74).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.gt(c.e,[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(74).put({a:a[0],b:a[1],c:a[2],d:a[3],e:[0,80]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsCreateVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(c){return b.db.table(78).getArr([[[a[0]]],"optimistic"]).filter(function(c){return c.b===a[0]&&b.i64.lt(c.o,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(78).add({a:a[0],b:a[0],f:[0,4],e:!1,c:c[0],d:[0,0],i:[0,0],l:!1,m:[0,2],o:[0,20]})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("optimistic_client_token",a[0])],[c[1].set("funnel_session_id",a[6])],[c[1].set("referral_surface",a[7])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","video_chat_link_create",[0,125],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsDeleteThenInsertMessagingSettingsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(83).put({a:[0,1],b:a[0],c:a[1],d:a[2],e:a[3],f:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsEnterMessengerCallRoomStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({f:[0,2]})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("url",a[0])],[c[0].set("funnel_session_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","video_chat_link_enter_room",[0,127],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsFetchPinnedThreadsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return a=[new b.Map()],c[0]=a[0],a,a=[b.toJSON(c[0])],c[1]=a[0],a,b.sp("1","fetch_pinned_threads",[0,288],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsGdprConsentUpsertStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(75).put({a:c[0],b:a[0]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsGetFirstAvailablePersistentMenuItemsCTAIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(77).getArr().sortBy([["b","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[[0,1]],c[0]=e[0],e):(d=a.item,e=[b.i64.add(d.b,[0,1])],c[0]=e[0],e)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertAttemptedJoinerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.of_int32(a[1].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[1]=d,b.seq([function(d){return b.ntop("Array",3,a[1],c[1]).then(function(a){return a=a,c[2]=a[0],a})},function(d){return d=[c[2].get("participant_status"),c[2]],c[3]=d[0],d,d=[c[2].get("user_id"),c[2]],c[4]=d[0],d,d=[c[2].get("name"),c[2]],c[5]=d[0],d,d=[c[2].get("list_rank"),c[2]],c[6]=d[0],d,d=[c[2].get("last_attempted_join_time"),c[2]],c[7]=d[0],d,d=[c[2].get("room_invite_reason"),c[2]],c[8]=d[0],d,b.db.table(79).put({b:a[0],a:c[4],c:c[5]})}])}):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertCreatedVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.eq(d.f,[0,6])?b.db.table(78).getArr([[[a[0]]],"optimistic"]).forEach(function(b){var c=b.update;b.item;return c({a:a[1],c:a[2],d:a[3],e:a[4],j:a[5],l:a[6],m:a[7],f:[0,6],h:a[8],o:[0,80],n:a[9]})}):b.db.table(78).getArr([[[a[0]]],"optimistic"]).forEach(function(b){var c=b.update;b.item;return c({a:a[1],c:a[2],d:a[3],e:a[4],j:a[5],l:a[6],m:a[7],f:[0,5],h:a[8],o:[0,80],n:a[9]})}))})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertEnterMessengerCallRoomStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({f:[0,3],g:a[1],h:a[2]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertLockStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({m:a[2],l:a[1],o:[0,80],n:a[3]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateCowatchSessionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(80).getArr([[[{lt:a[0]}],[{gt:a[0]}]]]).filter(function(c){return b.i64.eq(c.b,a[1])&&c.a!==a[0]}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(80).getArr([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(80).add({a:a[0],b:a[1]}):(d=c.item,b.i64.neq(d.b,a[1])?b.db.table(80).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve())})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateFeatureLimitStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(150).getArr([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(150).add({a:a[0],b:a[1]}):(d=c.item,b.i64.neq(d.b,a[1])?b.db.table(150).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve())})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdatePinnedThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(82).put({a:a[0],b:a[1]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertOrUpdateSelfProfileStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(81).getArr([[[c[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(81).add({a:c[0],b:a[0],c:a[1],d:a[2]}):(e=d.item,b.seq([function(d){return e.b!==a[0]&&a[0]!==void 0?b.db.table(81).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[0]})}):b.resolve()},function(d){return e.c!==a[1]&&a[1]!==void 0?b.db.table(81).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[1]})}):b.resolve()},function(d){return e.d!==a[2]&&a[2]!==void 0?b.db.table(81).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({d:a[2]})}):b.resolve()}]))})},function(d){return b.db.table(81).getArr([[[c[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?b.db.table(81).add({a:c[0],e:a[3],f:a[4]}):(d.item,b.seq([function(d){return a[3]!==void 0?b.db.table(81).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({e:a[3]})}):b.resolve()},function(d){return a[4]!==void 0?b.db.table(81).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({f:a[4]})}):b.resolve()}]))})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertPersistentMenuItemsForThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("482").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(9).getArr([[[a[0]]]]).count().then(function(a){return c[1]=a})},function(d){return b.i64.eq(c[1],[0,0])?b.resolve(0):b.db.table(77).add({a:a[0],b:c[0],c:a[1],d:a[2],e:a[3],f:a[4],g:a[5],h:a[6],i:a[7]})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInsertResolvedVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[1],d:a[2],e:a[3],j:a[4],l:a[6],m:a[7],f:[0,1],h:a[8],k:a[5],o:[0,80],n:a[9],g:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsInviteParticipantToVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a,b=arguments,c=b[b.length-1];c.n;var d=[];return a=[!1],d[0]=a[0],a,c.resolve(d)};e.exports=a}),null);
__d("LSOmnistoreSettingsNotifyVideoChatLinkJoinAttemptStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("url",a[0])],[c[0].set("funnel_session_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","video_chat_link_notify_join_attempt",[0,169],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticSetLockStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({m:a[1],o:[0,20],n:a[2]})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("uri",a[0])],[c[0].set("new_lock_status",a[1])],[c[0].set("funnel_session_id",a[3])],[c[0].set("can_anonymous_users_join",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","video_chat_link_update_lock",[0,167],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyInsertOrUpdatePinnedThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("499",a[0],a[1])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],[c[0].set("pinned_timestamp",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","pin_thread",[0,158],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyRemovePinnedThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("327",a[0])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("thread_key",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","pin_thread",[0,158],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateGlobalMuteUntilStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("global_mute_until",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","notification_settings_update",[0,58],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateIsSoundOnStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("is_sound_on",a[0])],[c[0].set("show_message_preview",void 0)],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","notification_settings_update",[0,59],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateMessagingSettingsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(83).getArr([[[[0,1]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[12]=e.b,c[13]=e.c,c[14]=e.d,c[15]=e.e,c[16]=e.f,b.i64.neq(c[12],[0,0])||b.i64.eq(a[0],[0,0])?0:b["throw"]("LS:assert is failed. "),b.i64.neq(c[13],[0,0])||b.i64.eq(a[1],[0,0])?0:b["throw"]("LS:assert is failed. "),b.i64.neq(c[15],[0,0])||b.i64.eq(a[3],[0,0])?0:b["throw"]("LS:assert is failed. "),b.i64.neq(c[14],[0,0])||b.i64.eq(a[2],[0,0])?0:b["throw"]("LS:assert is failed. "),b.i64.neq(c[16],[0,0])||b.i64.eq(a[4],[0,0])?0:b["throw"]("LS:assert is failed. "),b.i64.eq(a[0],[0,0])?(f=[c[12]],c[3]=f[0],f):(d=[a[0]],c[3]=d[0],d),b.i64.eq(a[1],[0,0])?(e=[c[13]],c[5]=e[0],e):(f=[a[1]],c[5]=f[0],f),b.i64.eq(a[2],[0,0])?(d=[c[14]],c[7]=d[0],d):(e=[a[2]],c[7]=e[0],e),b.i64.eq(a[3],[0,0])?(f=[c[15]],c[9]=f[0],f):(d=[a[3]],c[9]=d[0],d),b.i64.eq(a[4],[0,0])?(e=[c[16]],c[11]=e[0],e):(f=[a[4]],c[11]=f[0],f),b.db.table(83).getArr([[[[0,1]]]]).forEach(function(a){var b=a.update;a.item;return b({b:c[3],c:c[5],d:c[7],e:c[9],f:c[11]})}))})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("friends_of_friends",a[0])],[c[0].set("has_phone_number",a[1])],[c[0].set("instagram_follower",a[2])],[c[0].set("instagram_followee",a[3])],[c[0].set("other_people",a[4])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","update_messaging_settings",[0,157],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateReplyReminderSettingStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsOptimisticallyUpdateShowMessagePreviewStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("show_message_preview",a[0])],[c[0].set("is_sound_on",void 0)],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","notification_settings_update",[0,59],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveCowatchSessionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(80).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveExistingPersistentMenuItemsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(77).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveFeatureLimitStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(150).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemovePinnedThreadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(82).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRemoveVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(78).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRequestRankedRoomParticipantsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("url",a[0])],[c[0].set("funnel_session_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","request_attempted_joiners",[0,195],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsResolveVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(78).getArr([[[a[0]]]]).count().then(function(a){return c[0]=a})},function(d){return b.i64.eq(c[0],[0,0])?b.seq([function(a){return c[6]="",b.db.table(78).getArr([[[c[6]]],"optimistic"]).filter(function(a){return a.b===c[6]&&b.i64.lt(a.o,[0,40])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(78).add({a:a[0],b:c[6],f:[0,0],e:!1,c:[0,0],d:[0,0],i:[0,0],l:!1,m:[0,2],o:[0,40],n:!1})}]):b.db.table(78).getArr([[[a[0],""]]]).forEach(function(a){var b=a.update;a.item;return b({f:[0,0]})})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("url",a[0])],[c[2].set("funnel_session_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","video_chat_link_resolve",[0,126],c[3],void 0,void 0,[0,0],void 0)},function(d){return d=[new b.Map()],c[4]=d[0],d,[c[4].set("url",a[0])],[c[4].set("funnel_session_id",a[1])],d=[b.toJSON(c[4])],c[5]=d[0],d,b.sp("1","live_stream_metadata",[0,197],c[5],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsRevokeVideoChatLinkStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("url",a[0])],[c[0].set("funnel_session_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","video_chat_link_revoke",[0,171],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryArchiveModeUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("audience_mode",void 0)],[c[0].set("archive_enabled",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_pref_update",[0,41],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryAudienceModeUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("audience_mode",a[0])],[c[0].set("archive_enabled",void 0)],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_pref_update",[0,41],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryParticipantSettingsUpdateRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("type",a[0])],[c[0].set("added_ids",a[1])],[c[0].set("removed_ids",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_part_update",[0,42],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStoryParticipantSettingsUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(73).add({a:a[0],b:!1,c:!1,d:!1})},function(c){return a[1]!==void 0?b.db.table(73).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})}):b.resolve()},function(c){return a[2]!==void 0?b.db.table(73).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[2]})}):b.resolve()},function(c){return a[3]!==void 0?b.seq([function(c){return b.db.table(73).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({d:a[3]})})},function(c){return a[3]?b.seq([function(c){return b.sp("270",a[0])},function(c){return b.sp("261",a[0],void 0,void 0)}]):b.resolve()}]):b.resolve()},function(a){return b.db.table(73).getArr().filter(function(a){return a.c===!1&&a.d===!1&&a.b===!1}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsStorySettingsPreferenceUpdateSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(72).getArr([[[c[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[0],c:a[1]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsTruncatePinnedThreadsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(82).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateGlobalMuteUntilStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateIsSoundOnStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateMessagingSettingsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(83).getArr([[[[0,1]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,c[10]=e.b,c[11]=e.c,c[12]=e.d,c[13]=e.e,c[14]=e.f,b.i64.eq(c[10],[0,0])||b.i64.eq(a[0],[0,0])?(f=[c[10]],c[1]=f[0],f):(d=[a[0]],c[1]=d[0],d),b.i64.eq(c[11],[0,0])||b.i64.eq(a[1],[0,0])?(e=[c[11]],c[3]=e[0],e):(f=[a[1]],c[3]=f[0],f),b.i64.eq(c[12],[0,0])||b.i64.eq(a[2],[0,0])?(d=[c[12]],c[5]=d[0],d):(e=[a[2]],c[5]=e[0],e),b.i64.eq(c[13],[0,0])||b.i64.eq(a[3],[0,0])?(f=[c[13]],c[7]=f[0],f):(d=[a[3]],c[7]=d[0],d),b.i64.eq(c[14],[0,0])||b.i64.eq(a[4],[0,0])?(e=[c[14]],c[9]=e[0],e):(f=[a[4]],c[9]=f[0],f),b.db.table(83).getArr([[[[0,1]]]]).forEach(function(a){var b=a.update;a.item;return b({b:c[1],c:c[3],d:c[5],e:c[7],f:c[9]})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateReplyReminderSettingStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateRoomsUserRingabilityStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("url",a[0])],[c[0].set("should_ring",a[1])],[c[0].set("funnel_session_id",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","rooms_update_user_ringability",[0,189],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSOmnistoreSettingsUpdateShowMessagePreviewStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSOmnistoreSettingsUpsertLiveStreamMetadataStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsDeleteAllPaymentMethodDetailsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(88).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(86).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(85).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeleteAllPriceListItemStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(96).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeletePayPalFundingOptionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(91).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDeletePaymentMethodStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.i64.eq(a[1],[0,0])?b.db.table(86).getArr([[[a[0]]]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(89).getArr([[[c.a]]]).forEach(function(a){return a["delete"]()}))}):b.resolve()},function(c){return b.i64.eq(a[1],[0,1])?b.db.table(85).getArr([[[a[0]]]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.db.table(89).getArr([[[c.a]]]).forEach(function(a){return a["delete"]()}))}):b.resolve()}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsDoUserRiskVerificationStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsFetchP2mInvoiceDetailStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("order_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,95],c[3],void 0,b.i64.add(b.i64.of_float(Date.now()),[0,9e4]),[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsFetchP2mInvoiceStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("request_id",a[0])],[c[0].set("order_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","payments",[0,101],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsFetchPaymentMethodsForSellerStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("request_id",a[0])],[c[0].set("receiver_id",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","payments",[0,121],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsFetchSellerOnboardingStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("seller_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,181],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsInsertNewPaymentMethodCardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("credit_card_number",a[1])],[c[2].set("card_first_six",a[2])],[c[2].set("card_last_four",a[3])],[c[2].set("csc",a[4])],[c[2].set("zip_code",a[5])],[c[2].set("country",a[6])],[c[2].set("credential_type",a[7])],[c[2].set("product_type",a[8])],[c[2].set("expire_month",a[9])],[c[2].set("expire_year",a[10])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,96],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsInsertPayPalFundingOptionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(91).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentPinVerificationResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(c){return b.db.table(113).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(113).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("pin",a[1])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,47],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsCTAsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(104).add({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsRowStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(105).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPaymentsTransactionDetailsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(103).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[10],k:a[9],l:a[11],m:a[12],n:a[13],o:a[14],r:a[17],q:a[16],p:a[15],s:a[18],t:a[19],u:a[20]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsInsertPriceListItemStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.random()],c[0]=d[0],d,b.db.table(96).add({a:a[0],b:c[0],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsInvalidateNewPaymentCredentialOptionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(90).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsLinkPayPalAccountStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.sp("511")},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("ba_token",a[1])],[c[2].set("login_ref_id",a[2])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,92],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsLocalOptimisticCreateP2PRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[1]=b.i64.of_float(Date.now()),b.db.table(99).getArr([[[a[3]]],"optimistic"]).filter(function(c){return b.i64.eq(c.c,a[3])&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(99).add({c:a[3],b:a[3],a:c[1],d:[0,0]})},function(c){return b.db.table(100).getArr([[[a[3]]],"optimistic"]).filter(function(c){return b.i64.eq(c.c,a[3])&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(100).add({c:a[3],b:a[3],a:c[1],i:a[2],g:[0,0],e:a[0],d:c[0],k:[0,1]})},function(d){return c[2]=b.i64.to_string(a[3]),b.db.table(109).getArr([[[c[2]]]]).filter(function(a){return a.a===c[2]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(109).add({a:c[2],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[3]=d[0],d):(b=a.item,d=[b.c],c[3]=d[0],d)})},function(a){return c[3]===!0?(a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1340029323,50232937],void 0)],c[13]=a[0],a,a=[c[13]],c[9]=a[0],a):(a=["Messenger Is Offline"],c[9]=a[0],a),a=[!0],c[10]=a[0],a,c[10]?(a=[b.localize([1606543140,728082543],void 0)],c[13]=a[0],a,a=[c[13]],c[12]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[12]=a[0],a),b.sp("11",void 0,[0,1545093],c[9],c[12])):b.resolve()},function(d){return d=[new b.Map()],c[5]=d[0],d,[c[5].set("requestee_id",a[0])],[c[5].set("transfer_amount",a[2])],[c[5].set("request_id",a[3])],[c[5].set("currency",[0,0])],[c[5].set("memo_text",a[1])],[c[5].set("timestamp_ms",c[1])],[c[5].set("group_thread_id",a[4])],[c[5].set("entry_point",void 0)],d=[b.toJSON(c[5])],c[6]=d[0],d,b.sp("1","payments",[0,55],c[6],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsLocalOptimisticSendP2PTransactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return c[1]=b.i64.of_float(Date.now()),b.db.table(99).getArr([[[a[4]]],"optimistic"]).filter(function(c){return b.i64.eq(c.c,a[4])&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(99).add({c:a[4],b:a[4],a:c[1],d:[0,0]})},function(c){return b.db.table(101).getArr([[[a[4]]],"optimistic"]).filter(function(c){return b.i64.eq(c.c,a[4])&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(101).add({c:a[4],b:a[4],a:c[1],f:a[1],d:c[0],e:a[0],g:[0,0],h:a[3],i:a[2],j:[0,15]})},function(d){return c[2]=b.i64.to_string(a[4]),b.db.table(109).getArr([[[c[2]]]]).filter(function(a){return a.a===c[2]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(109).add({a:c[2],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[3]=d[0],d):(b=a.item,d=[b.c],c[3]=d[0],d)})},function(a){return c[3]===!0?(a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1340029323,50232937],void 0)],c[13]=a[0],a,a=[c[13]],c[9]=a[0],a):(a=["Messenger Is Offline"],c[9]=a[0],a),a=[!0],c[10]=a[0],a,c[10]?(a=[b.localize([1606543140,728082543],void 0)],c[13]=a[0],a,a=[c[13]],c[12]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[12]=a[0],a),b.sp("11",void 0,[0,1545093],c[9],c[12])):b.resolve()},function(d){return d=[new b.Map()],c[5]=d[0],d,[c[5].set("receiver_id",a[0])],[c[5].set("transfer_amount",a[3])],[c[5].set("sender_credential_id",a[2])],[c[5].set("request_id",a[4])],[c[5].set("currency",[0,0])],[c[5].set("memo_text",a[1])],[c[5].set("timestamp_ms",c[1])],[c[5].set("funding_option_id",a[5])],[c[5].set("group_thread_id",a[6])],[c[5].set("gift_options",void 0)],[c[5].set("entry_point",void 0)],d=[b.toJSON(c[5])],c[6]=d[0],d,b.sp("1","payments",[0,45],c[6],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticAcceptPaymentRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("request_transaction_id",a[1])],[c[2].set("requestee_credential_id",a[2])],[c[2].set("funding_option_id",a[3])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,98],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCancelPaymentRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,114],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCancelTransferStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,115],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticChangePasscodeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("new_pin",a[2])],[c[2].set("old_pin",a[1])],[c[2].set("request_id",a[0])],[c[2].set("fbpay_pin",a[3])],[c[2].set("fbpay_new_pin",a[4])],[c[2].set("fbpay_password_bypass_token_proxy",a[5])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,85],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreateBiometricsNonceStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],[c[2].set("fbpay_pin_token",a[2])],[c[2].set("pin",a[3])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,147],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreateClientAuthKeyStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("fbpay_pin",a[4])],[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],[c[2].set("app_id",a[2])],[c[2].set("public_key",a[3])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,174],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticCreatePasscodeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("pin",a[1])],[c[2].set("fbpay_pin",a[2])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,56],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeclinePaymentRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,75],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeclineTransferStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,120],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeleteBiometricsNonceStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,148],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeleteClientAuthKeyStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("fbpay_pin",a[3])],[c[2].set("client_auth_token",a[4])],[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],[c[2].set("app_id",a[2])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,175],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeletePasscodeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("pin",a[1])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,57],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticDeletePaymentCredentialStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("credential_id",a[1])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,93],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticInsertPasscodeRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("pin",a[1])],[c[2].set("fbpay_pin",a[2])],[c[2].set("password_encrypted",a[3])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,47],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticInsertServerRequestResponseStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.gt([0,80],[0,20])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(109).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticResetPasscodeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("password",a[1])],[c[2].set("request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,88],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticSetPaymentMethodDefualtStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("credential_id",a[1])],[c[2].set("client_request_id",a[0])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,94],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticSwitchPasscodeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("fbpay_pin",a[1])],[c[0].set("fbpay_password_bypass_token_proxy",a[2])],[c[0].set("new_pin_status",a[3])],[c[0].set("request_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","payments",[0,162],c[1],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticVerifyBiometricsNonceRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],[c[2].set("nonce",a[2])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,149],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsOptimisticVerifyClientAuthTokenStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(108).add({a:a[0],b:[0,0],c:[-1,4294967295]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("device_id",a[1])],[c[2].set("app_id",a[2])],[c[2].set("client_auth_token",a[3])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,176],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsP2mChargeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("payment_type",a[1])],[c[2].set("request_id",a[0])],[c[2].set("session_id",a[2])],[c[2].set("order_id",a[3])],[c[2].set("receiver_id",a[4])],[c[2].set("credential_id",a[5])],[c[2].set("currency",a[6])],[c[2].set("amount",a[7])],[c[2].set("nmor_payment_method_type",a[8])],[c[2].set("bank_code",a[9])],[c[2].set("csc",a[10])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,112],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsP2mCreateInvoiceStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSPaymentsP2mCreateInvoiceV2StoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("request_id",a[0])],[c[0].set("currency",a[1])],[c[0].set("amount",a[2])],[c[0].set("thread_id",a[3])],[c[0].set("actor_id",a[4])],[c[0].set("session_id",a[5])],[c[0].set("optimistic_invoice_id",a[6])],[c[0].set("memo",a[7])],[c[0].set("onboarding_status",a[8])],[c[0].set("invoice_action",a[9])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","payments",[0,165],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsPaymentUserRiskVerificationStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],[c[2].set("submitted_screen",a[2])],[c[2].set("csc",a[3])],[c[2].set("user_input",a[4])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,77],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsQueryPayPalFundingOptionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("527",a[0],[0,0],void 0,void 0)},function(a){return b.sp("382")},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("payment_type",a[1])],[c[2].set("paypal_ba_id",a[2])],[c[2].set("amount",a[3])],[c[2].set("currency",a[4])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,99],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsQueryPaymentActivityViewStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("transaction_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,111],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsQueryPaymentHistoryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("before_timestamp",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,118],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsQueryThreadContactsEligibilityStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return a=[b.createArray()],c[0]=a[0],a,b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[1]=d[0],d):(b=a.item,d=[b.c],c[1]=d[0],d)})},function(a){return c[1]===!0?(a=[!0],c[5]=a[0],a,c[5]?(a=[b.localize([1340029323,50232937],void 0)],c[11]=a[0],a,a=[c[11]],c[7]=a[0],a):(a=["Messenger Is Offline"],c[7]=a[0],a),a=[!0],c[8]=a[0],a,c[8]?(a=[b.localize([1606543140,728082543],void 0)],c[11]=a[0],a,a=[c[11]],c[10]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[10]=a[0],a),b.sp("11",void 0,[0,1545093],c[7],c[10])):b.resolve()},function(d){return d=[new b.Map()],c[3]=d[0],d,[c[3].set("request_id",a[0])],[c[3].set("thread_id",a[1])],[c[3].set("contact_ids",c[0])],d=[b.toJSON(c[3])],c[4]=d[0],d,b.sp("1","payments",[0,143],c[4],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsRefetchNewPaymentCredentialOptionsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("527",a[0],[0,0],void 0,void 0)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("target_id",a[1])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,97],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdateAuthRequestResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(108).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.gt([0,80],[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(108).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalRequestStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(100).getArr([[[a[3],a[1]]]]).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalTransactionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1]})})},function(c){return b.db.table(101).getArr([[[a[3],a[1]]]]).forEach(function(b){var c=b.update;b.item;return c({g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateLocalTransactionWithErrorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(99).getArr([[[a[3],a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[1],e:a[4]})})},function(c){return b.db.table(101).getArr([[[a[3],a[1]]]]).forEach(function(b){var c=b.update;b.item;return c({g:a[2],j:a[5]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateP2mInvoiceStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(94).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({f:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateP2mPaymentMethodCounterStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(89).getArr([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=["",[0,0]],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.a,b.d],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.db.table(89).getArr([[[a[0]]]]).forEach(function(a){var d=a.update;a.item;return d({d:b.i64.add(c[1],[0,1]),b:b.i64.of_float(Date.now()),c:!1})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentMethodCardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(109).add({a:a[0],b:[0,0]})},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[!1],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return c[0]===!0?(a=[!0],c[4]=a[0],a,c[4]?(a=[b.localize([1340029323,50232937],void 0)],c[10]=a[0],a,a=[c[10]],c[6]=a[0],a):(a=["Messenger Is Offline"],c[6]=a[0],a),a=[!0],c[7]=a[0],a,c[7]?(a=[b.localize([1606543140,728082543],void 0)],c[10]=a[0],a,a=[c[10]],c[9]=a[0],a):(a=["Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet."],c[9]=a[0],a),b.sp("11",void 0,[0,1545093],c[6],c[9])):b.resolve()},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("request_id",a[0])],[c[2].set("credential_id",a[1])],[c[2].set("number",a[2])],[c[2].set("csc",a[3])],[c[2].set("zip_code",a[4])],[c[2].set("product_type",a[5])],[c[2].set("expire_month",a[6])],[c[2].set("expire_year",a[7])],[c[2].set("credential_type",a[8])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("1","payments",[0,116],c[3],void 0,void 0,[0,1],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentMethodPreferredStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(89).getArr([[[a[1]]]]).filter(function(c){return c.a===a[1]&&c.c!==!0&&b.i64.gt(a[0],c.b)}).forEach(function(b){var c=b.update;b.item;return c({c:!0,b:a[0]})})},function(c){return b.db.table(89).getArr([[[{lt:a[1]}],[{gt:a[1]}]]]).filter(function(c){return c.a!==a[1]&&c.c===!0&&b.i64.gt(a[0],c.b)}).forEach(function(b){var c=b.update;b.item;return c({c:!1,b:a[0]})})},function(a){return b.db.table(89).getArr().forEach(function(a){var d=a.item;return b.seq([function(a){return c[0]=d.a,b.db.table(86).getArr().filter(function(a){return a.a===c[0]}).forEach(function(a){a=a.item;return b.db.table(86).add({b:a.b,a:a.a,c:a.c,e:a.e,f:a.f,d:a.d})})},function(a){return b.db.table(85).getArr().filter(function(a){return a.a===c[0]}).forEach(function(a){a=a.item;return b.db.table(85).add({b:a.b,a:a.a,e:a.e,d:a.d,c:a.c})})}])})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpdatePaymentPinVerificationResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(113).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.gt([0,80],[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(113).put({a:a[0],b:a[1],c:a[2]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpdateRequestWithStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(100).getArr().filter(function(c){return b.i64.eq(c.b,a[0])}).forEach(function(b){var c=b.update;b.item;return c({g:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertBankPaymentMethodStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[b.i64.of_int32(a[0].length)],c[0]=d[0],d,b.i64.gt(c[0],[0,0])?b.loopAsync(c[0],function(d){return c[1]=d,b.seq([function(d){return b.ntop("Array",3,a[0],c[1]).then(function(a){return a=a,c[2]=a[0],a})},function(a){return a=[c[2].get("payment_method_id"),c[2]],c[3]=a[0],a,a=[c[2].get("receiver_id"),c[2]],c[4]=a[0],a,a=[c[2].get("bank_code"),c[2]],c[5]=a[0],a,a=[c[2].get("bank_image_url"),c[2]],c[6]=a[0],a,a=[c[2].get("bank_title"),c[2]],c[7]=a[0],a,b.db.table(89).getArr([[[c[3]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=["",[0,0]],c[8]=d[0],c[9]=d[1],d):(b=a.item,d=[b.a,b.d],c[8]=d[0],c[9]=d[1],d)})},function(a){return b.db.table(89).put({a:c[3],c:!1,b:b.i64.of_float(Date.now()),d:c[9]})},function(a){return b.db.table(88).add({a:c[3],b:c[4],c:c[5],d:c[6],e:c[7]})}])}):b.resolve()},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSPaymentsUpsertCardDetailsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(86).put({b:a[0],a:a[5],c:a[1],d:a[2],e:a[3],f:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertCompletePaymentMethodStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(89).put({a:a[2],c:a[0],b:a[1],d:[0,0]})},function(c){return b.i64.eq(a[5],[0,0])?b.db.table(86).put({b:a[3],a:a[2],c:a[6],d:a[7],e:a[8],f:a[9]}):b.resolve()},function(c){return b.i64.eq(a[5],[0,1])?b.db.table(85).put({b:a[3],a:a[2],e:a[10],c:a[12],d:a[11]}):b.resolve()}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertP2mChargeResponseStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(97).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16],r:a[17],s:a[18],t:a[19],u:a[20],v:a[21]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertP2mInvoiceDetailStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(94).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertPaymentClientAuthTokenStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(107).getArr([[[a[0],a[2],a[3]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&c.b===a[2]&&c.c===a[3]&&b.i64.gt([0,80],[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(107).put({a:a[0],b:a[2],c:a[3],d:a[1],e:a[4]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertPaymentMethodDetailsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(89).put({a:a[2],c:a[0],b:a[1],d:[0,0]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertServerRequestResponseStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(109).getArr([[[a[0]]]]).filter(function(c){return c.a===a[0]&&b.i64.gt([0,80],[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(109).put({a:a[0],b:a[1],c:a[2],d:a[3],e:b.i64.to_string(a[4]),f:a[5]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSPaymentsUpsertUserRiskVerificationResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(98).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13],o:a[14],p:a[15],q:a[16],r:a[17],s:a[18]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelFeatureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(137).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelOutputStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(138).put({a:a[0],b:a[1],c:a[2]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingDeleteThenInsertValueModelRuleStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(136).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSRankingGetInboxActiveNowScoreStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(134).getArr([[[a[0],[0,0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[0],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSRankingGetIsActiveStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a,b=arguments,c=b[b.length-1];c.n;var d=[];return c.log("Presence table does not exist!",[0,3]),a=[!1],d[0]=a[0],a,c.resolve(d)};e.exports=a}),null);
__d("LSRankingGetScoreTypeRankingScoreStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(134).getArr([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[0],c[0]=d[0],d):(b=a.item,d=[b.c],c[0]=d[0],d)})},function(a){return a=[c[0]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSRankingUserHasStoryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("278",a[0]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],c[2]=a[2],a})},function(a){return b.i64.neq(c[2],void 0)?(a=[b.i64.eq(c[2],[0,1])||b.i64.eq(c[2],[0,2])],c[4]=a[0],a):(a=[!1],c[4]=a[0],a),a=[c[4]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSRankingUserHasUnreadStoryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("278",a[0]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],c[2]=a[2],a})},function(a){return b.i64.neq(c[2],void 0)?(a=[b.i64.eq(c[2],[0,1])],c[4]=a[0],a):(a=[!1],c[4]=a[0],a),a=[c[4]],d[0]=a[0],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSSearchClearMessageSearchTableStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(69).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(70).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchClearTablesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(67).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(66).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(65).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchDeleteAllRecentSearchesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(68).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchDeleteRecentSearchStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(68).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertMessageSearchResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(69).add({a:a[0],d:a[3],c:a[2],b:a[1],e:a[4],h:a[5],f:a[6],g:a[7],l:a[9],m:a[10],i:a[8],j:a[11],k:a[12]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertRecentSearchResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.i64.eq(a[1],[0,3])?(d=[a[8]],c[1]=d[0],d):(d=[void 0],c[1]=d[0],d),b.db.table(68).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:c[1],j:a[9],k:a[10]})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSSearchInsertRecentSearchStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSSearchInsertSearchResultStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(65).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],k:a[10],l:a[11],m:a[12],n:a[13]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchInsertSearchSectionStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(66).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchIssueMessageSearchQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("307",a[0],a[1],[0,1],void 0,a[3],a[2],[0,0])},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("query",a[0])],[c[0].set("type",a[1])],[c[0].set("thread_key",a[2])],[c[0].set("next_page_cursor",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","message_search",[0,107],c[1],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSSearchIssueSearchQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(67).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?b.seq([function(c){return b.db.table(67).add({a:a[0],b:[0,1],c:[0,1],d:b.i64.of_float(Date.now())})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("query",a[0])],[c[1].set("supported_types",a[1])],[c[1].set("session_id",a[2])],[c[1].set("surface_type",a[3])],d=[b.createArray()],c[2]=d[0],d,[(c[2].push("search_primary"),c[2])],[(c[2].push(b.i64.to_string(b.i64.of_float(Date.now()))),c[2])],d=[b.toJSON(c[2])],c[3]=d[0],d,d=[b.toJSON(c[1])],c[4]=d[0],d,b.sp("1",c[3],[0,30],c[4],void 0,void 0,[0,0],void 0)},function(d){return d=[new b.Map()],c[5]=d[0],d,[c[5].set("query",a[0])],[c[5].set("supported_types",a[1])],[c[5].set("session_id",a[2])],[c[5].set("surface_type",a[3])],d=[b.toJSON(c[5])],c[6]=d[0],d,b.sp("1","search_secondary",[0,31],c[6],void 0,void 0,[0,0],void 0)}]):(d.item,0)})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSSearchUpdateMessageSearchQueryStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(70).put({a:a[0],b:a[1],c:a[5]==null?[0,0]:a[5],d:a[2],e:a[3],f:a[4],g:a[6]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSSearchUpdateSearchQueryStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.i64.eq(a[1],[0,1])?b.db.table(67).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({b:a[2],e:a[3],f:a[4]})}):b.resolve()},function(c){return b.i64.eq(a[1],[0,2])?b.db.table(67).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[2],e:a[3],f:a[4]})}):b.resolve()}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStickerDownloadStickerPackStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(122).getArr([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?(e=[new b.Map()],c[1]=e[0],e,[c[1].set("pack_id",a[0])],[c[1].set("sticker_width",a[1])],[c[1].set("sticker_thumbnail_width",a[2])],[c[1].set("scale",a[3])],e=[b.toJSON(c[1])],c[2]=e[0],e,b.sp("1","sticker_pack_download",[0,133],c[2],void 0,void 0,[0,0],void 0)):(d.item,b.log("pack ID already exists",[0,2]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerPackDetailFetchStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("sticker_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","sticker_to_collection",[0,129],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerIssueNewStickerSearchQueryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.db.table(124).put({a:a[0],b:[0,1]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("query",a[0])],[c[0].set("width",a[1])],[c[0].set("scale",a[2])],[c[0].set("thumbnail_width",a[3])],d=[b.createArray()],c[1]=d[0],d,[(c[1].push("sticker_search"),c[1])],d=[b.i64.random()],c[2]=d[0],d,[(c[1].push(b.i64.to_string(c[2])),c[1])],d=[b.toJSON(c[1])],c[3]=d[0],d,d=[b.toJSON(c[0])],c[4]=d[0],d,b.sp("1",c[3],[0,81],c[4],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPackStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("pack_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","remove_sticker_pack",[0,141],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerIssueRemoveStickerPacksStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("pack_ids",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","remove_sticker_packs",[0,203],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerIssueReorderStickerPacksStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("pack_id",a[0])],[c[0].set("old_index",a[1])],[c[0].set("new_index",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","reorder_sticker_packs",[0,160],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStickerQueryStickerStoreStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return a=[new b.Map()],c[0]=a[0],a,a=[b.toJSON(c[0])],c[1]=a[0],a,b.sp("1","query_sticker_store",[0,139],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesClearStoryAdsTablesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(57).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(58).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(59).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesDeleteOptimisticStoryStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.le(c.J,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryAdUnitStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(57).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesDeleteStoryRepliesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.sub(b.i64.of_float(Date.now()),[0,864e5])],c[0]=e[0],e):(d=a.item,e=[d.g==null?b.i64.sub(b.i64.of_float(Date.now()),[0,864e5]):d.g],c[0]=e[0],e)})},function(d){return b.db.table(12).getArr().filter(function(d){return b.i64.ge(d.b,c[0])&&d.r===b.i64.to_string(a[0])}).forEach(function(a){var c=a.item;return b.db.table(12).getArr().filter(function(a){return b.i64.eq(a.a,c.a)&&b.i64.eq([0,0],[0,0])&&b.i64.eq(a.b,c.b)&&a.e===c.e}).forEach(function(a){var b=a.update;a.item;return b({w:void 0,y:void 0,z:void 0,D:void 0,H:void 0,I:void 0})})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesDeleteStorySharesStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.sub(b.i64.of_float(Date.now()),[0,864e5])],c[0]=e[0],e):(d=a.item,e=[d.g==null?b.i64.sub(b.i64.of_float(Date.now()),[0,864e5]):d.g],c[0]=e[0],e)})},function(d){return b.db.table(16).getArr().filter(function(d){return b.i64.ge(d.b,c[0])&&b.i64.eq(d.bS,a[0])}).forEach(function(a){var c=a.item;return b.db.table(16).getArr().filter(function(a){return b.i64.eq(a.a,c.a)&&b.i64.eq([0,0],[0,0])&&a.c===c.c&&b.i64.eq([-1,4294967295],[-1,4294967295])&&a.e===c.e}).forEach(function(a){var b=a.update;a.item;return b({F:void 0,G:void 0,I:void 0,H:void 0,K:void 0,L:void 0,m:void 0})})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCTAStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(59).put({a:a[0],c:a[2],b:a[1],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],j:a[8],k:a[9]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdCardStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(58).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[8],j:a[9],l:a[10],m:a[11],n:a[12],k:a[13],o:a[14],p:a[15]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInsertNewStoryAdUnitStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(57).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7]})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesInstagramStoryReplyIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("story_id",a[0])],[c[0].set("reply_text",a[1])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","instagram_story_reply",[0,188],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesIssueStoryAdsFetchStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("number_of_organic_story_buckets",a[0])],[c[0].set("number_of_recently_seen_ads",[0,0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_ads_fetch",[0,38],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]],"optimistic"]).filter(function(c){return c.b===a[0]&&b.i64.eq(c.l,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomCreateSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]],"optimistic"]).filter(function(c){return c.b===a[0]&&b.i64.eq(c.l,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({a:a[1],d:a[2],l:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomDeleteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeTypeUpdateSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({l:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomInviteeUpdateIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("room_id",a[0])],[c[0].set("invitee_type",a[1])],[c[0].set("added_invitee_ids",a[2])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","room_invitee_update",[0,182],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantDeleteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(64).getArr([[[a[0],a[1],a[2]]]]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomParticipantUpsertStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(64).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])&&b.i64.gt(c.h,[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(64).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:[0,80]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.l,[0,100])}).forEach(function(a){var b=a.update;a.item;return b({l:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomRevokeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(63).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.neq(c.l,[0,100])}).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,b.seq([function(a){return c[2]=d.a,b.db.table(63).getArr().filter(function(a){return b.i64.eq(a.a,c[2])}).forEach(function(a){var b=a.update;a.item;return b({l:[0,100]})})},function(a){return a=[new b.Map()],c[0]=a[0],a,[c[0].set("room_id",c[2])],a=[b.toJSON(c[0])],c[1]=a[0],a,b.sp("1","room_revoke",[0,178],c[1],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomTruncateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(63).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedAttacmentCTAStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(16).getArr().filter(function(c){return b.i64.eq(c.bS,a[3])&&c.t===a[1]}).forEach(function(b){var c=b.update;b.item;return c({s:a[0],t:a[2]})})},function(c){return b.db.table(19).getArr().filter(function(c){return b.i64.eq(c.o,a[3])&&c.g===a[1]}).forEach(function(b){var c=b.update;b.item;return c({f:a[0],g:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return a[1]?b.sp("464",a[3],"xma_rooms_speakeasy_interested","xma_rooms_speakeasy_undo",a[0]):b.sp("464",a[3],"xma_rooms_speakeasy_undo","xma_rooms_speakeasy_interested",a[0])},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("room_id",a[0])],[c[1].set("is_interested",a[1])],[c[1].set("reminder_timestamp_ms",a[2])],[c[1].set("reminder_time",[0,2])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","room_update_interested",[0,179],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateInterestedSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return a[0]?b.sp("291",a[1],a[2],[0,2],void 0,void 0,void 0,void 0):b.sp("293",a[1],a[2],[0,2])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("room_id",a[0])],[c[0].set("name",a[1])],[c[0].set("emoji",a[2])],[c[0].set("start_time_ms",a[3])],[c[0].set("audience_type",a[4])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","room_update",[0,180],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesRoomUpdateSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({e:a[1],f:a[2],g:a[3],h:a[4],k:a[5],l:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomUpsertStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(63).getArr([[[a[1]]],"optimistic"]).filter(function(c){return c.b===a[1]&&b.i64.gt(c.l,[0,80])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(63).put({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[11],k:a[8],j:a[12],l:[0,80]}):0})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesRoomsOptimisticCreateIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return c[3]=a[3]==null?b.i64.of_float(Date.now()):a[3],b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(c){return b.db.table(63).getArr([[[a[1]]],"optimistic"]).filter(function(c){return c.b===a[1]&&b.i64.lt(c.l,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(63).add({a:a[0],b:a[1],c:c[0],d:a[1],f:a[2],g:c[3],e:a[4],k:a[5],i:[0,0],j:[0,50],l:[0,20]})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("optimistic_client_token",a[1])],[c[1].set("callstart_timestamp_ms",c[3])],[c[1].set("name",a[4])],[c[1].set("emoji",a[2])],[c[1].set("audience_type",a[5])],[c[1].set("link_surface",a[7])],[c[1].set("invitee_type",a[9])],[c[1].set("join_permission",a[6])],[c[1].set("chat_mode",a[10])],[c[1].set("rooms_logging_data",a[14])],[c[1].set("is_screensharing_disabled",a[8])],[c[1].set("thread_id",a[11])],[c[1].set("allowlisted_participant_ids",a[12])],[c[1].set("is_e2e_encrypted",a[13])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","room_create",[0,172],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryArchiveStoryFetchIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return a[1]?b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[4]=a[0],a})},function(a){return b.db.table(53).getArr([[[c[4],[0,2]]],"optimistic"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[void 0],c[5]=e[0],e):(d=a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,d.a)}).sortBy([["g","ASC"]]).next().then(function(b,d){var a=b.done;b=b.value;return a?(a=[void 0],c[7]=a[0],a):(d=b.item,a=[d.g],c[7]=a[0],a)})},function(a){return a=[c[7]],c[5]=a[0],a}]))})},function(a){return a=[c[5]],c[1]=a[0],a}]):b.resolve((d=[void 0],c[1]=d[0],d))},function(a){return a=[new b.Map()],c[2]=a[0],a,[c[2].set("timestamp_ms",c[1])],a=[b.toJSON(c[2])],c[3]=a[0],a,b.sp("1","story_archive_range_query",[0,132],c[3],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryBucketTruncateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(53).getArr().filter(function(c){return b.i64.eq(c.c,a[0])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryComputeRingStateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.sp("275",a[0]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],a})},function(a){return b.i64.neq(c[0],void 0)?(b.i64.eq(c[0],[0,39423])?(a=[[0,1]],c[5]=a[0],a):(a=[[0,2]],c[5]=a[0],a),a=[c[5]],c[3]=a[0],a):(a=[void 0],c[3]=a[0],a),a=[c[0],c[1],c[3]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryContactSyncFromBucketStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(7).getArr().filter(function(a){return!0}).forEach(function(a){var b=a.update;a.item;return b({t:void 0,D:void 0})})},function(a){return b.db.table(53).getArr().filter(function(a){return b.i64.eq(a.c,[0,1])}).forEach(function(a){var d=a.item;return c[2]=d.f,b.i64.eq(c[2],[0,1])?(a=[[0,39423]],c[1]=a[0],a):(b.i64.eq(c[2],[0,2])?(a=[[0,14342874]],c[4]=a[0],a):(a=[void 0],c[4]=a[0],a),a=[c[4]],c[1]=a[0],a),b.db.table(7).getArr([[[d.b]]]).filter(function(a){return b.i64.eq(a.a,d.b)&&b.i64.eq([0,1],[0,1])}).forEach(function(a){var b=a.update;a.item;return b({D:c[2],t:c[1]})})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.J,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryCreateIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("optimistic_story_id",a[0])],[c[0].set("optimistic_client_id",a[1])],[c[0].set("text",a[2])],[c[0].set("media_id",a[4])],[c[0].set("sticker_id",a[3])],[c[0].set("copy_media",a[5])],[c[0].set("montage_overlays",a[6])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_create",[0,20],c[1],void 0,void 0,[0,0],void 0)},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryCreationSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({a:a[1],c:[0,1],J:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.J,[0,100])}).forEach(function(a){var b=a.update;a.item;return b({J:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryDeleteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(c){return b.sp("253",a[0])},function(c){return b.sp("284",a[0])},function(d){return b.db.table(54).getArr([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?0:(d=a.item,b.seq([function(a){return c[1]=d.a,c[3]=d.b,c[2]=d.f,b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,c[3])&&b.i64.neq(a.a,c[1])}).next().then(function(a,d){d=a.done;a=a.value;return d?b.seq([function(a){return b.sp("261",c[2],void 0,void 0)},function(a){return b.db.table(53).getArr([[[c[3]]]]).forEach(function(a){return a["delete"]()})}]):(a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.a,c[1])}).forEach(function(a){return a["delete"]()})},function(a){return b.sp("276",c[2])}]))})},function(a){return b.sp("463",c[2])}]))})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryGetReadStateFromBucketStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(53).getArr([[[a[0],[0,1]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.f,void 0],c[0]=d[0],c[1]=d[1],d)})},function(a){return a=[c[0],c[1]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryInventoryReplenishStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.db.table(53).getArr().filter(function(a){return b.i64.eq(a.f,[0,1])}).count().then(function(a){return c[0]=a})},function(d){return b.i64.lt(c[0],a[0])?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?[0,0]:a.d,[0,0])||b.i64.eq(a.b,[0,1]))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(a){var d=a.done;a.value;return d?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string([0,1]),c:b.i64.add(b.i64.of_float(Date.now()),[0,6e4]),b:[0,1]})},function(a){return a=[b.createArray()],c[1]=a[0],a,[(c[1].push(b.i64.to_string([0,1])),c[1])],[(c[1].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),[0,1e3]))),c[1])],a=[c[1].join(":")],c[2]=a[0],a,a=[new b.Map()],c[3]=a[0],a,[c[3].set("dedup_key",c[2])],[c[3].set("page_num",[0,1])],a=[b.toJSON(c[3])],c[4]=a[0],a,b.sp("1","story_more_buckets",[0,131],c[4],void 0,void 0,[0,0],void 0)}]):0}):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryMarkReadSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(55).getArr([[[a[1],c[0],[0,1]]]]).filter(function(d){return b.i64.eq(d.a,a[1])&&b.i64.eq(d.b,c[0])&&b.i64.eq(d.c,[0,1])&&b.i64.le(d.f,[0,20])}).forEach(function(a){var b=a.update;a.item;return b({f:[0,60]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryMoreBucketsIssueTaskStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.i64.eq(a[0],[0,1])?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?[0,0]:a.d,[0,0])||b.i64.eq(a.b,[0,1]))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(a){var d=a.done;a.value;return d?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string([0,1]),c:b.i64.add(b.i64.of_float(Date.now()),[0,6e4]),b:[0,1]})},function(a){return a=[b.createArray()],c[1]=a[0],a,[(c[1].push(b.i64.to_string([0,1])),c[1])],[(c[1].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),[0,1e3]))),c[1])],a=[c[1].join(":")],c[2]=a[0],a,a=[new b.Map()],c[3]=a[0],a,[c[3].set("dedup_key",c[2])],[c[3].set("page_num",[0,1])],a=[b.toJSON(c[3])],c[4]=a[0],a,b.sp("1","story_more_buckets",[0,131],c[4],void 0,void 0,[0,0],void 0)}]):0}):b.db.table(53).getArr().sortBy([["e","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?[0,0]:a.d,[0,0])||b.i64.eq(a.b,[0,1]))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(d){var a=d.done;d.value;return a?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string([0,1]),c:b.i64.add(b.i64.of_float(Date.now()),[0,6e4]),b:[0,1]})},function(a){return a=[b.createArray()],c[2]=a[0],a,[(c[2].push(b.i64.to_string([0,1])),c[2])],[(c[2].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),[0,1e3]))),c[2])],a=[c[2].join(":")],c[3]=a[0],a,a=[new b.Map()],c[4]=a[0],a,[c[4].set("dedup_key",c[3])],[c[4].set("page_num",[0,1])],a=[b.toJSON(c[4])],c[5]=a[0],a,b.sp("1","story_more_buckets",[0,131],c[5],void 0,void 0,[0,0],void 0)}]):0}):(d=a.item,c[2]=b.i64.add(d.e,[0,1]),b.db.table(61).getArr().filter(function(a){return(b.i64.eq(a.d==null?[0,0]:a.d,[0,0])||b.i64.eq(a.b,[0,1]))&&b.i64.lt(b.i64.of_float(Date.now()),a.c)}).next().then(function(d){var a=d.done;d.value;return a?b.seq([function(a){return b.db.table(61).getArr().filter(function(a){return!0}).forEach(function(a){return a["delete"]()})},function(a){return b.db.table(61).add({a:b.i64.to_string(c[2]),c:b.i64.add(b.i64.of_float(Date.now()),[0,6e4]),b:[0,1]})},function(a){return a=[b.createArray()],c[3]=a[0],a,[(c[3].push(b.i64.to_string(c[2])),c[3])],[(c[3].push(b.i64.to_string(b.i64.div(b.i64.of_float(Date.now()),[0,1e3]))),c[3])],a=[c[3].join(":")],c[4]=a[0],a,a=[new b.Map()],c[5]=a[0],a,[c[5].set("dedup_key",c[4])],[c[5].set("page_num",c[2])],a=[b.toJSON(c[5])],c[6]=a[0],a,b.sp("1","story_more_buckets",[0,131],c[6],void 0,void 0,[0,0],void 0)}]):0}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticCreateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.seq([function(c){return b.db.table(53).getArr([[[a[0],a[1]]],"optimistic"]).filter(function(c){return b.i64.eq(c.b,a[0])&&b.i64.eq(c.c,a[1])&&b.i64.lt([0,80],[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(53).add({a:a[0],b:a[0],c:a[1],d:""})},function(b){return b=[a[0]],c[0]=b[0],b}]):(e=d.item,f=[e.a],c[0]=f[0],f)})},function(d){return b.db.table(54).getArr([[[a[2]]]]).next().then(function(d){var e=d.done;d.value;return e?b.seq([function(c){return b.db.table(54).getArr([[[a[3]]],"optimistic"]).filter(function(c){return c.e===a[3]&&b.i64.lt(c.J,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(54).add({a:a[2],e:a[3],b:c[0],c:[0,1],d:a[4],f:a[5],g:b.i64.of_float(Date.now()),h:[0,864e5],i:a[6],j:a[7],k:a[8],l:a[9],m:a[10],n:a[11],o:a[12],p:a[13],q:a[14],r:a[15],s:a[16],t:a[17],u:a[18],v:a[19],J:[0,20]})}]):0})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticDeleteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.neq(c.J,[0,100])}).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({J:[0,100]})})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("story_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_delete",[0,26],c[1],void 0,void 0,[0,0],void 0)}]))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticMarkReadStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(55).getArr([[[a[0],a[1]]]]).next().then(function(d){var e=d.done;d.value;return e?b.seq([function(c){return b.db.table(55).getArr([[[a[0],a[1],[0,1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.b,a[1])&&b.i64.eq(c.c,[0,1])&&b.i64.lt(c.f,[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(55).add({a:a[0],b:a[1],c:[0,1],e:b.i64.of_float(Date.now()),f:[0,20]})},function(d){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.d,[0,1])}).next().then(function(d,e){var a=d.done;d=d.value;return a?0:(e=d.item,c[2]=e.b,b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,c[2])}).sortBy([["g","DESC"]]).next().then(function(d,f){var a=d.done;d=d.value;return a?0:(f=d.item,b.i64.eq(e.a,f.a)?b.db.table(53).getArr([[[c[2]]]]).next().then(function(c,d){var a=c.done;c=c.value;return a?0:(d=c.item,b.sp("261",d.b,[0,14342874],[0,2]))}):b.resolve())}))})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("story_id",a[0])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_mark_read",[0,18],c[1],void 0,void 0,[0,0],void 0)}]):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticPollVoteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(55).getArr([[[a[0],c[0],[0,2]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,c[0])&&b.i64.eq(d.c,[0,2])&&b.i64.lt(d.f,[0,20])}).forEach(function(a){return a["delete"]()})},function(d){return b.db.table(55).add({b:c[0],a:a[0],c:[0,2],e:b.i64.of_float(Date.now()),d:a[1],f:[0,20]})},function(d){return d=[new b.Map()],c[1]=d[0],d,[c[1].set("story_id",a[0])],[c[1].set("vote_idx",a[1])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","story_poll_vote",[0,70],c[2],void 0,void 0,[0,0],void 0)}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticReactStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(56).getArr([[[a[0]]]]).next().then(function(d){var e=d.done;d.value;return e?b.seq([function(c){return b.db.table(56).getArr([[[a[5]]],"optimistic"]).filter(function(c){return c.f===a[5]&&b.i64.lt(c.g,[0,20])}).forEach(function(a){return a["delete"]()})},function(c){return b.db.table(56).add({a:a[0],f:a[5],b:a[1],c:a[2],d:a[3],e:a[4],g:[0,20]})},function(d){return d=[new b.Map()],c[0]=d[0],d,[c[0].set("optimistic_reaction_id",a[0])],[c[0].set("story_id",a[1])],[c[0].set("offline_threading_id",a[6])],[c[0].set("reaction",a[3])],d=[b.toJSON(c[0])],c[1]=d[0],d,b.sp("1","story_reaction",[0,76],c[1],void 0,void 0,[0,0],void 0)}]):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryOptimisticUploadFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).forEach(function(a){var b=a.update;a.item;return b({c:[0,3]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryParticipantBucketDeleteStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(55).getArr([[[a[0],c[0],[0,2]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,c[0])&&b.i64.eq(d.c,[0,2])&&b.i64.le(d.f,[0,20])}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryPollVoteSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.db.table(55).getArr([[[a[0],c[0],[0,2]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq(d.b,c[0])&&b.i64.eq(d.c,[0,2])&&b.i64.le(d.f,[0,20])}).forEach(function(a){var b=a.update;a.item;return b({f:[0,60]})})},function(c){return b.db.table(60).getArr([[[a[0],b.i64.to_string(a[1])]]]).forEach(function(b){var c=b.update;b.item;return c({l:a[2],n:a[3]})})}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionFailureStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(56).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.g,[0,20])}).forEach(function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryReactionSuccessStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(56).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({a:a[1],g:[0,60]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryRingClearStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.db.table(7).getArr().filter(function(a){return b.i64.neq(a.t,void 0)}).forEach(function(a){var b=a.update;a.item;return b({t:void 0})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryRingExpirationTimestampUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(54).getArr().filter(function(c){return b.i64.eq(c.f,a[0])}).sortBy([["g","DESC"]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.neq(c.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}):(e=d.item,c[2]=e.g,b.i64.neq(c[2],void 0)?(c[3]=b.i64.add(c[2],[0,864e5]),b.db.table(7).getArr([[[a[0]]]]).filter(function(d){return b.i64.eq(d.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.neq(d.z,c[3])}).forEach(function(a){var b=a.update;a.item;return b({z:c[3]})})):b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])&&b.i64.neq(c.z,void 0)}).forEach(function(a){var b=a.update;a.item;return b({z:void 0})}))})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingLatestStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(a){return b.sp("4").then(function(a){return a=a,c[0]=a[0],a})},function(d){return b.i64.neq(a[0],c[0])?b.seq([function(d){return b.db.table(53).getArr([[[a[0]]],"optimistic"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[void 0,void 0],c[4]=e[0],c[5]=e[1],e):(d=a.item,b.seq([function(a){return b.db.table(54).getArr().filter(function(a){return b.i64.eq(a.b,d.a)}).sortBy([["g","DESC"]]).next().then(function(d,e){var a=d.done;d=d.value;return a?(a=[void 0,void 0],c[7]=a[0],c[8]=a[1],a):(e=d.item,b.seq([function(a){return c[14]=e.g,c[15]=e.h,b.sp("4").then(function(a){return a=a,c[10]=a[0],a})},function(a){return b.db.table(55).getArr([[[e.a,c[10],[0,1]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?(d=[[0,39423],b.i64.add(c[14]==null?[0,0]:c[14],c[15]==null?[0,0]:c[15])],c[11]=d[0],c[12]=d[1],d):(a.item,d=[[0,14342874],b.i64.add(c[14]==null?[0,0]:c[14],c[15]==null?[0,0]:c[15])],c[11]=d[0],c[12]=d[1],d)})},function(a){return a=[c[11],c[12]],c[7]=a[0],c[8]=a[1],a}]))})},function(a){return a=[c[7],c[8]],c[4]=a[0],c[5]=a[1],a}]))})},function(a){return a=[c[4],c[5]],c[2]=a[0],c[3]=a[1],a}]):b.resolve((d=[void 0,void 0],c[2]=d[0],c[3]=d[1],d))},function(a){return a=[c[2],c[3]],d[0]=a[0],d[1]=a[1],a}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingRefreshStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.sp("278",a[0]).then(function(a){return a=a,c[0]=a[0],c[1]=a[1],c[2]=a[2],a})},function(d){return b.sp("261",a[0],c[0],c[2])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateOnLookupStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return b.db.table(54).getArr([[[a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[1])&&b.i64.neq(c.f,a[0])}).next().then(function(d,e){var f=d.done;d=d.value;return f?(f=[void 0,void 0],c[0]=f[0],c[1]=f[1],f):(e=d.item,b.seq([function(d){return c[8]=e.f,d=[b.createArray()],c[3]=d[0],d,[(c[3].push(!1),c[3])],b.db.table(54).getArr([[[{lt:a[1]}],[{gt:a[1]}]]]).filter(function(d){return b.i64.eq(d.f,c[8])&&b.i64.neq(d.a,a[1])}).forEach(function(d){var e=d.item;return b.seq([function(d){return b.db.table(55).getArr([[[e.a,a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?(b=[!0],c[9]=b[0],b):(a.item,b=[!1],c[9]=b[0],b)})},function(a){return b.ntop("Array",3,c[3],[0,0]).then(function(a){return a=a,c[11]=a[0],a})},function(a){return b.ntop("Array",4,c[3],[0,0])},function(a){return[(c[3].push(c[11]||c[9]),c[3])]}])})},function(a){return b.ntop("Array",3,c[3],[0,0]).then(function(a){return a=a,c[4]=a[0],a})},function(a){return c[4]?(a=[c[8],[0,39423]],c[6]=a[0],c[7]=a[1],a):(a=[c[8],[0,14342874]],c[6]=a[0],c[7]=a[1],a),a=[c[6],c[7]],c[0]=a[0],c[1]=a[1],a}]))})},function(a){return b.i64.neq(c[0],void 0)?(b.i64.neq(c[1],void 0)?(b.i64.eq(c[1],[0,39423])?(a=[[0,1]],c[6]=a[0],a):(a=[[0,2]],c[6]=a[0],a),a=[c[6]],c[4]=a[0],a):(a=[void 0],c[4]=a[0],a),b.sp("261",c[0],c[1],c[4])):b.resolve()}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSStoriesStoryRingUpdateStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.db.table(7).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,1],[0,1])}).forEach(function(b){var c=b.update;b.item;return c({t:a[1],D:a[2]})})},function(c){return b.db.table(53).getArr([[[a[0],[0,1]]],"optimistic"]).forEach(function(b){var c=b.update;b.item;return c({f:a[2]==null?[0,0]:a[2]})})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdateMediaIDStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq(c.J,[0,20])}).forEach(function(b){var c=b.update;b.item;return c({k:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryUpdatePostingStatusStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(54).getArr([[[a[0]]]]).forEach(function(b){var c=b.update;b.item;return c({c:a[1]})})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSStoriesStoryUpsertAttributionRangeStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.resolve(c)};e.exports=a}),null);
__d("LSStoriesStoryVerifyRowExistsStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.db.table(54).getArr([[[a[0]]]]).next().then(function(d){var e=d.done;d.value;return e?(d=[b.createArray()],c[0]=d[0],d,[(c[0].push(a[0]),c[0])],e=[new b.Map()],c[1]=e[0],e,[c[1].set("story_ids",c[0])],d=[b.toJSON(c[1])],c[2]=d[0],d,b.sp("1","story_point_query",[0,71],c[2],void 0,void 0,[0,0],void 0)):0})},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSTypingSendTypingIndicatorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return b.seq([function(d){return d=[b.createArray()],c[0]=d[0],d,[(c[0].push("typing"),c[0])],[(c[0].push(b.i64.to_string(a[0])),c[0])],d=[c[0].join("_")],c[1]=d[0],d,b.db.table(5).getArr().filter(function(a){return c[1]===a.b}).forEach(function(a){return a["delete"]()})},function(d){return d=[new b.Map()],c[2]=d[0],d,[c[2].set("thread_key",a[0])],[c[2].set("is_group_thread",a[1])],[c[2].set("is_typing",a[2])],d=[b.toJSON(c[2])],c[3]=d[0],d,b.sp("6",c[1],[0,3],c[3])}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSTypingUpdateTypingIndicatorStoredProcedure_Optimized",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return a[2]?b.db.table(52).put({a:a[0],b:a[1],c:b.i64.add(b.i64.of_float(Date.now()),[0,5e3])}):b.resolve()},function(c){return a[2]?b.resolve():b.db.table(52).getArr([[[a[0],a[1]]]]).filter(function(c){return b.i64.eq(c.a,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.b,a[1])}).forEach(function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("MemberBadgeHovercardPopoverQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"4725061937564923",metadata:{},name:"MemberBadgeHovercardPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIBanActorMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackPageBanResponsePayload",kind:"LinkedField",name:"feedback_page_ban",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIBanActorMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIBanActorMutation",selections:b},params:{id:"3250755498289141",metadata:{},name:"CometUFIBanActorMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIBanActorMutation_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIBanActorMutation_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c],e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},h={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},j=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};d=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:d,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[g,c,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},h],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:j,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[g,c,f],storageKey:null},h,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[f,k,c],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[i],storageKey:null},{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[f,c,k],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isActor"},c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,c],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:e,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[f,{kind:"InlineFragment",selections:d,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:"2981224878623730",metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFITypingSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2TypingIndicatorImpl_feedback"}],storageKey:null}],d=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"FeedbackTypersConnection",kind:"LinkedField",name:"feedback_typers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFITypingSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:c,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:c,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFITypingSubscription",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"feedback_typing_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackStartTypingResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:d,type:"FeedbackStopTypingResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:"2548564581912271",metadata:{subscriptionName:"feedback_typing_subscribe"},name:"CometUFITypingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIUnhideCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_viewer",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometUFIUnhideCommentMutation",selections:[{alias:null,args:c,concreteType:"CommentUnhideResponsePayload",kind:"LinkedField",name:"comment_unhide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[d,e,f,g,{args:null,kind:"FragmentSpread",name:"CometUFICommentMenu_comment"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometUFIUnhideCommentMutation",selections:[{alias:null,args:c,concreteType:"CommentUnhideResponsePayload",kind:"LinkedField",name:"comment_unhide",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment",plural:!1,selections:[d,e,f,g,{alias:"items",args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:null,kind:"LinkedField",name:"comment_menu_items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveTag_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveTag",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDelete",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDeleteAndRemoveMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDeleteAndRemoveMember",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemSetMemberContentControls_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemSetMemberContentControls",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemDivider_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemDivider",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemEdit_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemEdit",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemReportToAdmins_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToAdmins",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemGiveFeedbackOrReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGiveFeedbackOrReport",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDetailedReport_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDetailedReport",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemHide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemHide",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemUnhide_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemUnhide",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteMember_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteMember",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemRemoveWithFeedback_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemRemoveWithFeedback",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemPublishVidwallaOverlay_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPublishVidwallaOverlay",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemVidwallaSaveGraphic_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemVidwallaSaveGraphic",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStream",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBanCommenterFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPage",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForFifteenMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForFifteenMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForThirtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForThirtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemMuteCommenterForSixtyMinutes_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterForSixtyMinutes",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanFromPage_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromPageWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemDelete_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGFIDelete",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemBanCommenterFromLiveVideoStream_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBanCommenterFromLiveVideoStreamWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemMuteCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemMuteCommenterWithCommunityRules",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemReportToModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemReportToModerator",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemAddAsModerator_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemAddAsModerator",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GFICommentMenuItemPinComment_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemPinComment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemBlockCommenter_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemBlockCommenter",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GroupsCometCommentMenuItemPin_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGroupPin",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"GroupsCometCommentMenuItemUnpin_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemGroupUnpin",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemResolveInlineAnnotation_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemResolveInlineAnnotation",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentMenu_comment",fragmentName:"CometUFICommentMenuItemCreateDebugConflictAlert_commentMenuItem",fragmentPropName:"commentMenuItem",kind:"ModuleImport"}],type:"CommentMenuItemCreateDebugConflictAlert",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"4059521974091858",metadata:{},name:"CometUFIUnhideCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIUnpinCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"UnpinnedCommentEventCreateResponsePayload",kind:"LinkedField",name:"unpinned_comment_event_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIUnpinCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIUnpinCommentMutation",selections:b},params:{id:"3405642312783245",metadata:{},name:"CometUFIUnpinCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MemberBadgeHovercardPopover.entrypoint",["JSResourceForInteraction","MemberBadgeHovercardPopoverQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){var c=a.badgeType,d=a.groupID;a=a.memberID;return{queries:{ref:{parameters:b("MemberBadgeHovercardPopoverQuery$Parameters"),variables:{badgeType:[c],groupID:d,memberID:a,scale:b("WebPixelRatio").get()}}}}},root:b("JSResourceForInteraction")("MemberBadgeHovercardPopover.react").__setRef("MemberBadgeHovercardPopover.entrypoint")};e.exports=a}),null);
__d("MemberBadgeHovercard.react",["CometHovercardTrigger.react","MemberBadgeHovercardPopover.entrypoint","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:b("MemberBadgeHovercardPopover.entrypoint"),popoverProps:{badgeType:a.badgeType,groupID:a.groupID,memberID:a.memberID},position:"above",children:a.children})}}),null);
__d("CometUFIBanActorMutation",["CometRelay","CometUFIBanActorMutation.graphql","CometUFIBanActorMutation_comment.graphql","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g!==void 0?g:g=b("CometUFIBanActorMutation.graphql");h!==void 0?h:h=b("CometUFIBanActorMutation_comment.graphql");a=function(a,c){var d=c.feedbackId,e=c.pageId,f=c.targetUserId,g=c.undoBan;c=function(a){if(d==null)return;var c=a.get(d);if(!c)return;b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){a=a.getLinkedRecords("edges");if(!a)return;a.forEach(function(a){if(!a)return;a=a.getLinkedRecord("node");if(!a)return;var b=a.getLinkedRecord("author");if(!b)return;if(b.getValue("id")===f){b=a.getValue("is_hidden_by_content_owner");a.setValue(g&&b!==!0?"none":"spam","spam_display_mode");a.setValue(!g,"is_author_banned_by_content_owner")}})})};return b("CometRelay").commitMutation(a,{mutation:i,optimisticResponse:{feedback_page_ban:{__typename:"FeedbackPageBanResponsePayload"}},optimisticUpdater:c,updater:c,variables:{input:{ban_action:g?"UNDO_BAN":"BAN",page_id:e,target_user_id:f}}})};f.commit=a}),null);
__d("ConstituentTitleTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAddress=function(a){this.$1.address=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setBadgeUpsellType=function(a){this.$1.badge_upsell_type=a;return this};c.setCancelStep=function(a){this.$1.cancel_step=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setCommentRankingQeIdentifier=function(a){this.$1.comment_ranking_qe_identifier=a;return this};c.setDialogSource=function(a){this.$1.dialog_source=a;return this};c.setDialogType=function(a){this.$1.dialog_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasCivicEngagementAddress=function(a){this.$1.has_civic_engagement_address=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setProfileIds=function(a){this.$1.profile_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};return a}();c={address:!0,appid:!0,badge_upsell_type:!0,cancel_step:!0,comment_id:!0,comment_ranking_qe_identifier:!0,dialog_source:!0,dialog_type:!0,event:!0,has_civic_engagement_address:!0,post_id:!0,profile_ids:!0,sessionid:!0};e.exports=a}),null);
__d("XConstituentBadgeDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/constituent_badge/dialog/",{comment_id:{type:"String"},ft_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("CometUFICommentActorConstituentBadge.react",["fbt","ix","Actor","CometCompatModalDialogResource","CometLazyDialogTrigger.react","CometRelay","CometTooltip.react","CometUFICommentActorConstituentBadge_comment.graphql","ConstituentTitleTypedLogger","React","TetraIcon.react","XConstituentBadgeDialogController","fbicon","recoverableViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){var c;a=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActorConstituentBadge_comment.graphql"),a.comment);var d=a.legacy_token,e=a.parent_feedback,f=j.useRef(!1),k=b("useVisibilityObserver")({onVisible:function(){if(f.current)return;f.current=!0;new(b("ConstituentTitleTypedLogger"))().setEvent("comment_vpv").setPostID(o).setCommentID(d).log()}}),l=b("Actor").useActor();l=l[0];var m=j.useMemo(function(){return b("XConstituentBadgeDialogController").getURIBuilder().setString("comment_id",d).getURI().toString()},[d]);if(!a.author||((c=a.author)==null?void 0:c.id)==null)return b("recoverableViolation")("missing politician","civic_integrity");var n=a.author.short_name,o=e==null?void 0:e.share_fbid,p=l===a.author.id,q=e==null?void 0:(c=e.political_figure_data)==null?void 0:(c=c.political_office)==null?void 0:c.generic_title,r=e==null?void 0:(c=e.political_figure_data)==null?void 0:c.name;e=a.can_see_constituent_badge_upsell;function s(){if(!n||!q||!r)return null;return p?g._("Your constituent badge is on. {representative_name} is your {office_title}.",[g._param("representative_name",r),g._param("office_title",q)]):g._("{representative_name} l\u00e0 {politician_office_title} c\u1ee7a {comment_author_name}.",[g._param("representative_name",r),g._param("comment_author_name",n),g._param("politician_office_title",q)])}function t(){return g._("{comment_author_name} c\u00f3 huy hi\u1ec7u cho th\u1ea5y h\u1ecd l\u00e0 c\u1eed tri c\u1ee7a {representative_name}",[g._param("comment_author_name",n),g._param("representative_name",r)])}function u(a){return j.jsx(b("TetraIcon.react"),{alt:t(),color:"secondary",icon:b("fbicon")._(h("506962"),12),onPress:a})}c=e===!0?j.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{params:{rel:"dialog-post",uri:m}},dialogResource:b("CometCompatModalDialogResource"),children:function(a){return u(function(){a(),new(b("ConstituentTitleTypedLogger"))().setEvent("constituent_badge_click").setPostID(o).setCommentID(d).log()})}}):u();return j.jsx(b("Actor").ActorProvider,{initialActorID:l,children:j.jsx("span",{className:"l59n7fsa l9j0dhe7 kkf49tns",ref:k,children:j.jsx(b("CometTooltip.react"),{tooltip:s(),children:j.jsx("span",{className:"pcp91wgn iuny7tx3 p8fzw8mz ipjc6fyt",children:c})})})})}}),null);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=babelHelpers["extends"]({},a);return g.jsxs("span",{className:"e9o6kcyi pq6dq46d bp9cbjyn",children:[g.jsx(b("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})}}),null);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","CometUFICommentErrorFooter_comment.graphql","CometUFICreateCommentMutation","FBLogger","React","ifRequired","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function k(a){return a===1446013?!1:!0}function a(a){a=a.comment;a=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentErrorFooter_comment.graphql"),a);var c=a.id;if(c==null){b("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}var d=h._("Kh\u00f4ng th\u1ec3 \u0111\u0103ng b\u00ecnh lu\u1eadn."),e=null;switch(a.optimistic_action){case"ADD":e=b("CometUFICreateCommentMutation").getRetryFn(c);break;case"EDIT":d=h._("Kh\u00f4ng th\u1ec3 ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn.");b("ifRequired")("UFI2EditCommentMutation",function(a){e=a.getRetryFn(c)},function(){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;case"DELETE":d=h._("Kh\u00f4ng th\u1ec3 x\u00f3a b\u00ecnh lu\u1eadn.");break;default:d=h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i."),b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",a.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.optimistic_action);return j.jsx("div",{className:"m9osqain","data-testid":void 0,children:e!=null&&k(a.optimistic_error_code)?h._("{errorMessage} {retryLink}",[h._param("errorMessage",d),h._param("retryLink",j.jsx(b("CometLink.react"),{color:"highlight",onClick:e,children:h._("Th\u1eed l\u1ea1i")}))]):d})}}),null);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;var g,h,i,j;g!==void 0?g:g=b("CometUFIFeedbackReactSubscription_feedback.graphql");h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_liker.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_viewer.graphql");var k=j!==void 0?j:j=b("CometUFIFeedbackReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(k,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return b("CometRelay").requestSubscription(a,{subscription:k,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b!==void 0&&b!==null){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}}),null);
__d("CometUFITypingSubscription",["CometRelay","CometUFITypingSubscription.graphql","UFI2FeedbackSubscriptionTopicProvider"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;var g,h=g!==void 0?g:g=b("CometUFITypingSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(h,"gqls/feedback_typing_subscribe/feedback_id_");function a(a,c,d,e){b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c,e);return b("CometRelay").requestSubscription(a,{onNext:d&&d.onNext,subscription:h,variables:{input:{feedback_id:c}}})}}),null);
__d("CometUFIUnhideCommentMutation",["CometRelay","CometUFIUnhideCommentMutation.graphql","FBLogger"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIUnhideCommentMutation.graphql");function a(a,c){return b("CometRelay").commitMutation(a,{mutation:h,optimisticUpdater:function(a){a=a.get(c.commentId);if(a==null){b("FBLogger")("ufi2").mustfix("When trying to unhide a comment, the comment could not be found.");return}a.setValue(!1,"is_hidden_by_content_owner");a.setValue(!1,"is_hidden_by_viewer");a.setValue("none","spam_display_mode")},variables:{feedLocation:c.feedLocation,input:{comment_id:c.commentId,feedback_source:c.feedbackSource,site:"comet"}}})}}),null);
__d("CometUFIViewOptionsSelectorMenu.react",["CometMenu.react","CometMenuItem.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.onChange;a=a.viewOptions;a=a.filter(Boolean);return g.jsx(b("CometMenu.react"),{withArrow:!0,children:a.map(function(a){return g.jsx(b("CometMenuItem.react"),{onClick:function(){a.value!=null&&c(a.value)},primaryText:a.title||"",secondaryText:a.description},a.value)})})}}),null);
__d("CometUFICreatorInfo.react",["fbt","ix","CometTooltip.react","CometUFIProfileLink.react","React","TetraIcon.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c;d=d();switch(a.labelType){case"commented":c=g._("Ng\u01b0\u1eddi b\u00ecnh lu\u1eadn: {creator}",[g._param("creator",d)]);break;case"edited_comment":c=g._("\u0110\u01b0\u1ee3c ch\u1ec9nh s\u1eeda b\u1edfi {creator}",[g._param("creator",d)]);break;case"sent_message":c=g._("\u0110\u01b0\u1ee3c g\u1eedi b\u1edfi {creator}",[g._param("creator",d)]);break;case"page_admin_note":c=g._("Ghi ch\u00fa c\u1ee7a {creator}",[g._param("creator",d)]);break;default:return i.jsx("span",{})}d=i.jsxs(i.Fragment,{children:[c,i.jsx("span",{className:"ormqv51v l9j0dhe7 kkf49tns",children:i.jsx(b("CometTooltip.react"),{tooltip:m(),children:i.jsx(b("TetraIcon.react"),{color:"tertiary",icon:b("fbicon")._(h("479175"),12)})})})]});function d(){switch(a.creatorType){case"application":case"gray_account":case"indirect_admin":return i.jsx(b("CometTooltip.react"),{tooltip:e(),children:i.jsx("b",{children:a.creatorName})});case"business_admin":return i.jsx(b("CometUFIProfileLink.react"),{kind:"link",uid:a.creatorID,children:a.creatorName});case"direct_admin":return f();case"former_admin":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ormqv51v l9j0dhe7 cgat1ltu",children:i.jsx(b("TetraIcon.react"),{color:"tertiary",icon:b("fbicon")._(h("648667"),12)})}),f()]});default:return i.jsx("span",{children:a.creatorName})}}function e(){switch(a.creatorType){case"application":return j();case"gray_account":return l();case"indirect_admin":return k()}return null}function f(){return a.profileURI==null||a.profileURI===""?i.jsx("span",{children:a.creatorName}):i.jsx(b("CometUFIProfileLink.react"),{kind:"link",uid:a.creatorID,children:a.creatorName})}function j(){switch(a.labelType){case"commented":return g._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi ai \u0111\u00f3 \u0111ang s\u1eed d\u1ee5ng {application}.",[g._param("application",a.creatorName)]);case"edited_comment":return g._("B\u00e0i vi\u1ebft n\u00e0y \u0111\u00e3 \u0111\u01b0\u1ee3c ai \u0111\u00f3 s\u1eed d\u1ee5ng {application} ch\u1ec9nh s\u1eeda.",[g._param("application",a.creatorName)]);case"sent_message":return g._("Tin nh\u1eafn n\u00e0y \u0111\u01b0\u1ee3c g\u1eedi b\u1edfi ai \u0111\u00f3 \u0111ang s\u1eed d\u1ee5ng {application}.",[g._param("application",a.creatorName)]);case"page_admin_note":return g._("\u0110\u00e2y l\u00e0 ghi ch\u00fa c\u1ee7a ai \u0111\u00f3 s\u1eed d\u1ee5ng {application}.",[g._param("application",a.creatorName)])}return null}function k(){switch(a.labelType){case"commented":return g._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi ai \u0111\u00f3 t\u1eeb {page}.",[g._param("page",a.creatorName)]);case"edited_comment":return g._("B\u00e0i vi\u1ebft n\u00e0y \u0111\u00e3 \u0111\u01b0\u1ee3c ai \u0111\u00f3 t\u1eeb {page} ch\u1ec9nh s\u1eeda.",[g._param("page",a.creatorName)]);case"sent_message":return g._("Tin nh\u1eafn n\u00e0y \u0111\u01b0\u1ee3c g\u1eedi b\u1edfi ai \u0111\u00f3 t\u1eeb {page}.",[g._param("page",a.creatorName)]);case"page_admin_note":return g._("\u0110\u00e2y l\u00e0 ghi ch\u00fa c\u1ee7a ai \u0111\u00f3 t\u1eeb {page}.",[g._param("page",a.creatorName)])}return null}function l(){switch(a.labelType){case"commented":return g._("B\u00ecnh lu\u1eadn n\u00e0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi ai \u0111\u00f3 kh\u00f4ng c\u00f3 t\u00e0i kho\u1ea3n Facebook c\u00e1 nh\u00e2n.");case"edited_comment":return g._("B\u00e0i vi\u1ebft n\u00e0y \u0111\u00e3 \u0111\u01b0\u1ee3c ai \u0111\u00f3 kh\u00f4ng c\u00f3 t\u00e0i kho\u1ea3n c\u00e1 nh\u00e2n tr\u00ean Facebook \u0111\u0103ng.");case"sent_message":return g._("Tin nh\u1eafn n\u00e0y \u0111\u01b0\u1ee3c g\u1eedi b\u1edfi ai \u0111\u00f3 kh\u00f4ng c\u00f3 t\u00e0i kho\u1ea3n Facebook c\u00e1 nh\u00e2n.");case"page_admin_note":return g._("\u0110\u00e2y l\u00e0 ghi ch\u00fa c\u1ee7a ai \u0111\u00f3 kh\u00f4ng c\u00f3 t\u00e0i kho\u1ea3n Facebook c\u00e1 nh\u00e2n.")}return null}function m(){switch(a.labelType){case"commented":return g._("Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi qu\u1ea3n l\u00fd Trang n\u00e0y m\u1edbi bi\u1ebft ai \u0111\u00e3 b\u00ecnh lu\u1eadn.");case"edited_comment":return g._("Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi qu\u1ea3n l\u00fd Trang n\u00e0y m\u1edbi c\u00f3 th\u1ec3 bi\u1ebft ai \u0111\u00e3 ch\u1ec9nh s\u1eeda b\u00ecnh lu\u1eadn");case"sent_message":return g._("Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi qu\u1ea3n l\u00fd Trang n\u00e0y m\u1edbi bi\u1ebft ai \u0111\u00e3 g\u1eedi tin nh\u1eafn.");case"page_admin_note":return g._("Ch\u1ec9 nh\u1eefng ng\u01b0\u1eddi qu\u1ea3n l\u00fd Trang n\u00e0y c\u00f3 th\u1ec3 xem ng\u01b0\u1eddi \u0111\u00e3 t\u1ea1o ghi ch\u00fa")}return null}return d}}),null);
__d("getEditorStateFromUFI2ComposerState",["CompositeDraftDecorator","ContentState","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.inputState;switch(c.__type){case"plain-text":var d=c.selectionOffsets,e=c.text;e=b("ContentState").createFromText(e.replace(/\n\n$/,"\n"));var f=b("EditorState").createWithContent(e);if(d){var g,h,i,j=e.getFirstBlock(),k=0;while(j){var l=j.getKey(),m=j.getLength(),n=k;k+=m;k>=d.start&&d.start-n>=0&&(g={key:l,offset:d.start-n});k>=d.end&&d.end-n>=0&&(h={key:l,offset:d.end-n});i==null&&(h&&!g?i=!0:g&&!h?i=!1:h&&g&&(i=g.offset>h.offset));j=e.getBlockAfter(l)}if(g&&h){m=f.getSelection().merge({anchorKey:g.key,anchorOffset:g.offset,focusKey:h.key,focusOffset:h.offset,isBackward:!!i});f=b("EditorState").forceSelection(f,m)}}return f;case"editor-state-based":default:n=c.editorState.getDecorator();return n instanceof b("CompositeDraftDecorator")&&n.isCompositionOfDecorators(a.inputDecorators)?c.editorState:b("EditorState").set(c.editorState,{decorator:new(b("CompositeDraftDecorator"))(a.inputDecorators)})}}}),null);
__d("CometUFIRichComposerInput.react",["CometVisualCompletionAttributes","DraftEditor.react","Keys","React","cr:1600421","getDefaultKeyBinding","getEditorStateFromUFI2ComposerState","isSoftNewlineEvent","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("Keys").RETURN,i=b("React"),j={disabled:{cursor:"bnpdmtie"},root:{color:"oo9gr5id"}};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{inputState:b.inputState.__type==="editor-state-based"?babelHelpers["extends"]({},b.inputState,{editorState:a}):{__type:"editor-state-based",editorState:a}})})},d.$2=function(a,b){return d.props.handleBeforeInput?d.props.handleBeforeInput(a,b):"not-handled"},d.$3=function(a,b){if(d.props.handleKeyCommand&&d.props.handleKeyCommand(a,b)==="handled")return"handled";if(a==="ufi-commit"){d.props.onCommit();return"handled"}return"not-handled"},d.$4=function(a){if(d.props.keyBindingFn){var c=d.props.keyBindingFn(a);if(c!=null)return c}return a.keyCode===h&&!b("isSoftNewlineEvent")(a)?"ufi-commit":b("getDefaultKeyBinding")(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){var a=this.lastEditorRef;a&&b("cr:1600421")&&b("cr:1600421").unregister(a)};d.execCommand=function(a){this.props.handleCommand&&this.props.handleCommand(a)};d.render=function(){var a=this,c=this.props.composerState.ariaInputs;return i.jsx("div",babelHelpers["extends"]({className:(g||(g=b("stylex")))(j.root,this.props.composerState.isLocked&&j.disabled,this.props.xstyle)},b("CometVisualCompletionAttributes").IGNORE,{onClick:this.props.onClick,children:i.jsx(b("DraftEditor.react"),{ariaActiveDescendantID:c?c["aria-activedescendant"]:void 0,ariaControls:c?c["aria-controls"]:void 0,ariaDescribedBy:this.props.ariaDescribedBy,ariaLabel:String((c=this.props.ariaLabel)!=null?c:this.props.placeholder),editorRef:function(c){var d=a.props.onInputRefUpdated;d&&d(c);if(b("cr:1600421")===null)return;d=a.lastEditorRef;if(d===c||c===null)return;c!==null&&!b("cr:1600421").isRegistered(c)&&(d&&b("cr:1600421").unregister(d),a.lastEditorRef=c,b("cr:1600421").registerForMeasurement(c,"UFI2RichComposerInput"))},editorState:b("getEditorStateFromUFI2ComposerState")(this.props.composerState),handleBeforeInput:this.$2,handleKeyCommand:this.$3,handlePastedFiles:this.props.handlePastedFiles,keyBindingFn:this.$4,onBlur:this.props.onBlur,onChange:this.$1,onFocus:this.props.onFocus,placeholder:String(this.props.placeholder),placeholderClassName:this.props.placeholderClassName,preventScroll:!0,readOnly:this.props.composerState.isLocked,spellCheck:!0,stripPastedStyles:!0,webDriverTestID:this.props.webDriverTestID})}))};return c}(i.PureComponent);e.exports=a}),null);
__d("CometUFIUnpinCommentMutation",["CometRelay","CometUFIUnpinCommentMutation.graphql","Promise"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIUnpinCommentMutation.graphql");function i(a,b){a=a.get(b);if(a==null)return;a.setValue(null,"latest_pinned_comment_event")}function a(a,c){return new(b("Promise"))(function(d,e){var f;b("CometRelay").commitMutation(a,{mutation:h,onCompleted:function(a,b){if(b!=null){e(b);return}d(a)},onError:e,optimisticUpdater:function(a){return i(a,c.feedbackID)},updater:function(a){return i(a,c.feedbackID)},variables:{input:{video_id:c.videoID,video_time_offset:(f=c==null?void 0:c.video_time_offset)!=null?f:0}}})})}}),null);
__d("getMentionableRect",["Rect"],(function(a,b,c,d,e,f){e.exports=c;function g(a){var b=document.selection.createRange().duplicate();b.moveStart("character",-a);return b.getBoundingClientRect()}function h(b){var c=a.getSelection();if(!c.rangeCount)return null;c=c.getRangeAt(0);c=c.cloneRange();var d=c.endContainer,e=c.endOffset,f=null;e>=b&&(c.setStart(d,e-b),f=c.getBoundingClientRect());return f}function c(a,c){a=document.selection?g(a):h(a);if(!a)return null;c=new(b("Rect"))(a.top,c?a.right:a.left,a.bottom,c?a.right:a.left,"viewport");return c.convertTo("document")}}),null);
__d("EncryptedImg",["EncryptedImgUtils","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){var g,h=babelHelpers["extends"]({insertIntoStyleBackgroundImage:function(a,b){b=function(a,b){a&&(a.style.backgroundImage="url('"+b+"')")}.bind(void 0,b);h.load(a,b)},insertIntoDOM:function(a,b){b=function(a,b){a&&a.setAttribute("src",b)}.bind(void 0,b);h.load(a,b)},load:function(a,c,d){d===void 0&&(d=!0);a=new(g||(g=b("URI")))(a);var e=b("EncryptedImgUtils").extractKey(a);e=i.bind(void 0,e,c,d);e.includeHeaders=!0;new(b("XHRRequest"))(a.toString()).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseType("arraybuffer").setResponseHandler(e).send()},dataUrlPrefix:function(a,b){b===void 0&&(b=32);if(!a.startsWith("data:"))return a;var c=a.indexOf(",");(c<0||c>b)&&(c=b);return a.slice(0,c)}},b("EncryptedImgUtils"));a=h;e.exports=a;function i(a,b,c,d,e){if(!a){b(l(d,k(e)));return}a=j(a);var f=new Uint8Array(d);d=f.subarray(2,14);f=f.subarray(14,f.length);var g={name:"AES-GCM",iv:d,tagLength:128};window.crypto.subtle.importKey("raw",a,g,!1,["encrypt","decrypt"]).then(function(a){return window.crypto.subtle.decrypt(g,a,f)}).then(function(a){c?b(l(a,k(e))):b(a)})["catch"](function(){})}function j(a){if(typeof a==="string"){var b=new Uint8Array(Math.floor(a.length/2)),c=0;a.replace(/(..)/g,function(a){b[c++]=parseInt(a,16)});return b}return null}function k(a){var b="image/jpeg";a=a.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);a&&a.length>1&&(b=a[1]);return b}function l(a,b){a=new Uint8Array(a);var c="";for(var d=0,e=a.byteLength;d<e;++d)c+=String.fromCharCode(a[d]);return"data:"+b+";base64,"+window.btoa(c)}}),null);
__d("getDOMImageSize",["EncryptedImg","URI"],(function(a,b,c,d,e,f){e.exports=l;var g;function h(a){a.onload=null,a.onerror=null,a.onreadystatechange=null,a._callback=null,a._thisObj=null,a._srcStr=null,a.parentNode&&a.parentNode.removeChild(a)}function i(){var a=this;a._callback&&a._callback.call(a._thisObj,a.naturalWidth||a.width,a.naturalHeight||a.height,a._srcStr);h(a)}function j(){var a=this;a.readyState==="complete"&&i.call(a)}function k(){var a=this;a._callback&&a._callback.call(a._thisObj,0,0,a._srcStr);h(a)}function l(a,c,d){d=d||null;if(!a){c.call(d,0,0,"");return}var e=document.body;if(!e){setTimeout(l.bind(this,a,c,d),500);return}var f;if(typeof a==="string")f=a;else if(typeof a==="object")if(typeof a.width==="number"&&typeof a.height==="number"){if(typeof a.src==="string"){f=a.src;if(a.naturalWidth&&a.naturalHeight){c.call(d,a.naturalWidth,a.naturalHeight,f);return}}if(typeof a.uri==="string"){f=a.uri;if(a.width&&a.height){c.call(d,a.width,a.height,f);return}}}else a instanceof(g||(g=b("URI")))&&(f=a.toString());if(!f){c(0,0,a);return}a=document.createElement("img");a.onreadystatechange=j;a.onload=i;a.onerror=k;a._callback=c;a._thisObj=d;a._srcStr=f;b("EncryptedImg").isEncrypted(f)?b("EncryptedImg").insertIntoDOM(f,a):a.src=f;a.style.cssText="\n    position:absolute;\n    left:-5000px;\n    top:-5000px;\n    width:auto;\n    height:auto;\n    clip:rect(0 0 0 0);\n  ".replace(/\s+/," ");e.insertBefore(a,e.firstChild)}}),null);
__d("CachedDOMImageSizePool",["debounce","getDOMImageSize"],(function(a,b,c,d,e,f){a=function(){function a(a,c){this.$1={},this.$3=c,this.$2=0,this.$4=a,this.$5=b("debounce")(this.$8,5e3,this),this.$6={},this.$7={}}var c=a.prototype;c.get=function(a,c,d){if(!a){c.call(d,0,0,a);return}var e=this.$1[a];if(e)e.lastAccessTime=Date.now(),c.call(d,e.width,e.height,e.src);else if(this.$6[a]){this.$6[a].push(c);((e=this.$7[a])!=null?e:[]).push(d)}else this.$6[a]=[c],this.$7[a]=[d],b("getDOMImageSize")(a,this.$9,this)};c.set=function(a,b,c){this.$2>this.$4&&this.$5();var d=this.$1;if(a&&!d[a]){b={width:b,height:c,src:a,lastAccessTime:Date.now()};d[a]=b;this.$2++}};c.$9=function(a,b,c){this.set(c,a,b);var d=this.$6[c],e=this.$7[c];for(var f=0,g=d.length;f<g;f++)d[f].call(e==null?void 0:e[f],a,b,c);delete this.$6[c];delete this.$7[c]};c.$8=function(){var a=Date.now(),b=this.$1,c=this.$2,d=this.$3;for(var e in b){var f=b[e];a-f.lastAccessTime>d&&(delete b[e],c--)}this.$2=c};return a}();e.exports=a}),null);
__d("ImagePositioner.react",["React","clamp"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.width,b=this.props.height,c,d;switch(this.props.backgroundSize){case"cover":c="cover";d=!1;break;case"coverinside":c="cover";d=!0;break;case"contain":c="contain";d=!1;break;case"containinside":c="contain";d=!0;break;case"fitWidth":c="fitWidth";d=!0;break}var e=this.props.imageWidth,f=this.props.imageHeight,h=a/b,i=e/f;c==="contain"&&((e>a||!d)&&i>=h?(e=a,f=e/i):(f>b||!d)&&(f=b,e=f*i));c=="fitWidth"&&(e=a,f=a/i);c==="cover"&&((e>a||!d)&&i>=h?(f=b,e=f*i):(f>b||!d)&&(e=a,f=e/i));h=this.$1(e,f);b=this.props.children(h);return b&&g.Children.only(b)};d.$1=function(a,b){var c=["50%","50%"],d=this.$2;this.props.backgroundPosition?c=this.props.backgroundPosition.split(" "):this.props.backgroundFocus&&(c=this.props.backgroundFocus.split(" "),d=this.$3);return{width:Math.round(a)+"px",height:Math.round(b)+"px",left:d(c[0],a,this.props.width),top:d(c[1]||c[0],b,this.props.height)}};d.$2=function(a,b,c){var d=parseFloat(a),e=a.substr(d.toString().length);return e==="px"?a:Math.round((c-b)*(d/100))+"px"};d.$3=function(a,c,d){var e=parseFloat(a);a=a.substr(e.toString().length);if(c<d)return"0";a=a==="px"?e:Math.round(c*(e/100));e=a-d/2;e=b("clamp")(e,0,c-d);return-e+"px"};return c}(g.PureComponent);e.exports=a;a.defaultProps={backgroundSize:"contain"}}),null);
__d("fbjs/lib/emptyObject",["emptyObject"],(function(a,b,c,d,e,f){"use strict";e.exports=b("emptyObject")}),null);
__d("create-react-class/factory",["fbjs/lib/emptyObject","fbjs/lib/invariant","fbjs/lib/warning","object-assign"],(function(a,b,c,d,e,f){"use strict";var g="mixins";function h(a){return a}c={};function a(a,c,d){var e=[],f={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},j={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)m(a,b[c])},childContextTypes:function(a,c){a.childContextTypes=b("object-assign")({},a.childContextTypes,c)},contextTypes:function(a,c){a.contextTypes=b("object-assign")({},a.contextTypes,c)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=p(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,c){a.propTypes=b("object-assign")({},a.propTypes,c)},statics:function(a,b){n(a,b)},autobind:function(){}};function k(a,b,c){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)}function l(a,c){var d=Object.prototype.hasOwnProperty.call(f,c)?f[c]:null;Object.prototype.hasOwnProperty.call(v,c)&&b("fbjs/lib/invariant")(d==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",c);a&&b("fbjs/lib/invariant")(d==="DEFINE_MANY"||d==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c)}function m(a,d){if(!d)return;b("fbjs/lib/invariant")(typeof d!=="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");b("fbjs/lib/invariant")(!c(d),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var e=a.prototype,h=e.__reactAutoBindPairs;Object.prototype.hasOwnProperty.call(d,g)&&j.mixins(a,d.mixins);for(var i in d){if(!Object.prototype.hasOwnProperty.call(d,i))continue;if(i===g)continue;var k=d[i],m=Object.prototype.hasOwnProperty.call(e,i);l(m,i);if(Object.prototype.hasOwnProperty.call(j,i))j[i](a,k);else{var n=Object.prototype.hasOwnProperty.call(f,i),o=typeof k==="function";o=o&&!n&&!m&&d.autobind!==!1;if(o)h.push(i,k),e[i]=k;else if(m){o=f[i];b("fbjs/lib/invariant")(n&&(o==="DEFINE_MANY_MERGED"||o==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",o,i);o==="DEFINE_MANY_MERGED"?e[i]=p(e[i],k):o==="DEFINE_MANY"&&(e[i]=q(e[i],k))}else e[i]=k}}}function n(a,c){if(!c)return;for(var d in c){var e=c[d];if(!Object.prototype.hasOwnProperty.call(c,d))continue;var f=d in j;b("fbjs/lib/invariant")(!f,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',d);f=d in a;if(f){f=Object.prototype.hasOwnProperty.call(i,d)?i[d]:null;b("fbjs/lib/invariant")(f==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",d);a[d]=p(a[d],e);return}a[d]=e}}function o(a,c){b("fbjs/lib/invariant")(a&&c&&typeof a==="object"&&typeof c==="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b("fbjs/lib/invariant")(a[d]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",d),a[d]=c[d]);return a}function p(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(c==null)return d;else if(d==null)return c;var e={};o(e,c);o(e,d);return e}}function q(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function r(a,b){b=b.bind(a);return b}function s(a){var b=a.__reactAutoBindPairs;for(var c=0;c<b.length;c+=2){var d=b[c],e=b[c+1];a[d]=r(a,e)}}var t={componentDidMount:function(){this.__isMounted=!0}},u={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a,b)},isMounted:function(){return!!this.__isMounted}},w=function(){};b("object-assign")(w.prototype,a.prototype,v);function k(a){var c=h(function(a,e,f){this.__reactAutoBindPairs.length&&s(this);this.props=a;this.context=e;this.refs=b("fbjs/lib/emptyObject");this.updater=f||d;this.state=null;a=this.getInitialState?this.getInitialState():null;b("fbjs/lib/invariant")(typeof a==="object"&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",c.displayName||"ReactCompositeComponent");this.state=a});c.prototype=new w();c.prototype.constructor=c;c.prototype.__reactAutoBindPairs=[];e.forEach(m.bind(null,c));m(c,t);m(c,a);m(c,u);c.getDefaultProps&&(c.defaultProps=c.getDefaultProps());b("fbjs/lib/invariant")(c.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var g in f)c.prototype[g]||(c.prototype[g]=null);return c}return k}e.exports=a}),null);
__d("create-react-class",["create-react-class/factory","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");if(typeof a==="undefined")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");c=new a.Component().updater;e.exports=b("create-react-class/factory")(a.Component,a.isValidElement,c)}),null);
__d("createReactClass_DEPRECATED",["create-react-class"],(function(a,b,c,d,e,f){"use strict";e.exports=b("create-react-class")}),null);
__d("BackgroundImage.react",["cx","invariant","CachedDOMImageSizePool","Image.react","ImagePositioner.react","React","XUISpinner.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a="(-?(\\d+\\.)?\\d+(px|\\%))";var j=new RegExp("^"+a+"?(\\s"+a+")?$","g"),k=new(b("CachedDOMImageSizePool"))(50,10*60*1e3);d=b("createReactClass_DEPRECATED")({displayName:"BackgroundImage",propTypes:{alt:(c=b("prop-types")).string,children:c.node,className:c.string,imageClassName:c.string,src:c.string,width:c.number.isRequired,height:c.number.isRequired,backgroundSize:c.oneOf(["contain","cover","containinside","coverinside","fitWidth"]),cropTransform:c.object,loadingIndicatorStyle:c.oneOf(["none","large","small"]),backgroundPosition:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4499,c),c.match(j)||h(0,4500,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},backgroundFocus:function(a,b,c){c=a[b];c&&(typeof c==="string"||h(0,4502,c),c.match(j)||h(0,4503,c));a.backgroundFocus==null||a.backgroundPosition==null||h(0,4501)},onImageLoad:c.func,optimizeResizeSpeed:c.bool,isUsingNewFDS:c.bool,onContextMenu:c.func},getInitialState:function(){return{imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:!0}},getDefaultProps:function(){return{optimizeResizeSpeed:!1,loadingIndicatorStyle:"none"}},componentDidMount:function(){this._resolveImageSize()},componentDidUpdate:function(a){this.props.src!==this.state.imageSrc&&this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:!0},this._resolveImageSize)},_resolveImageSize:function(){var a=this.state.imageSrc;a&&k.get(a,this._onImageSizeResolved,this)},render:function(){var a={width:this.props.width+"px",height:this.props.height+"px"},c=b("joinClasses")(this.props.className,"_5f0d");return i.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,c),style:babelHelpers["extends"]({},this.props.style||{},a),onContextMenu:this.props.onContextMenu,children:[this._renderImage(),this._renderContent(),this._renderLoadingIndicator()]}))},_renderLoadingIndicator:function(){return!this.state.loading||this.props.loadingIndicatorStyle==="none"?null:i.jsx("div",{className:"_1qe- _5lar",children:i.jsx("div",{className:"_1qe_",children:i.jsx("div",{className:"_1qf0",children:i.jsx(b("XUISpinner.react"),{size:this.props.loadingIndicatorStyle})})})})},_renderContent:function(){if(this.props.children)return i.jsx("div",{className:"_1qe-",children:i.jsx("div",{className:"_1qe_",children:i.jsx("div",{className:"_1qf0",children:this.props.children})})})},_renderImage:function(){var a=this;return!this.state.imageWidth||!this.state.imageHeight?null:i.jsx(b("ImagePositioner.react"),{imageWidth:this.state.imageWidth,imageHeight:this.state.imageHeight,width:this.props.width,height:this.props.height,backgroundPosition:this.props.backgroundPosition,backgroundSize:this.props.backgroundSize,backgroundFocus:this.props.backgroundFocus,children:function(c){var d=c.width,e=c.height,f=c.left;c=c.top;return i.jsx(b("Image.react"),{alt:a.props.alt,className:b("joinClasses")(a.props.imageClassName,"_5i4g"+(a.props.optimizeResizeSpeed?" _5sjv":"")),style:babelHelpers["extends"]({width:d,height:e,left:f,top:c},a.props.cropTransform),src:a.state.imageSrc})}})},_onImageSizeResolved:function(a,b,c){if(!this.isMounted()||this.state.imageSrc!==c)return;c=this.props.onImageLoad?this.props.onImageLoad.bind(null,a,b):void 0;this.setState({imageWidth:a,imageHeight:b,loading:!1},c)}});f=d;e.exports=f}),null);
__d("AtSignMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";f="(?:\\.[ |$]| |["+a+"]|)";b=75;var g=new RegExp("(?:^|\\s|[(\\/])(["+c+"]((?:"+d+f+"){0,"+b+"}))$");a={name:"AtSignMentionsStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){var b=a[2];if(b.length)return{matchingString:b,leadOffset:a[1].length}}return null}};c=a;e.exports=c}),null);
__d("CapitalizedNameMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=1;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+a+",})$)");c={name:"CapitalizedNameMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};d=c;e.exports=d}),null);
__d("DocumentCompositeMentionsSource",["invariant","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}a=function(){function a(a){a.length>0||g(0,1514),this.$1=a,this.$2=!1,this.$3=null}var c=a.prototype;c.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};c.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f);return{remove:function(){f.cancel()}}};c.$4=function(a,c){var d=this,e=this.$1.length,f,g;for(var h=0;h<e;h++){f=this.$1[h];g=f.findMatch(a);if(g===null)continue;else{var i=b("nullthrows")(g).matchingString;this.$3=i;f.search(i,function(a,b){d.$3===b&&c(a,g.leadOffset)});return}}this.$3=null;c(null,null)};c.getSources=function(){return this.$1};return a}();e.exports=a}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){typeof a.findMentionableString==="function"||g(0,558),this.$1=a,this.$2=b,this.$3=!1}var b=a.prototype;b.findMatch=function(a){return this.$1.findMentionableString(a)};b.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};b.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name,disableExistingIDs:!0})};return a}();e.exports=a}),null);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.bootstrap=function(a){var c=this;this.$1||(this.$1=new(b("Promise"))(function(a){c.bootstrapImpl(a)}));return this.$1.then(a)};c.search=function(a,b,c){this.searchImpl(a,b,c)};c.bootstrapImpl=function(a){a()};c.searchImpl=function(a,b,c){throw new Error("Abstract method #searchImpl is not implemented.")};c.clearBootstrappedData=function(){this.$1=null};return a}();e.exports=a}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$FilteredSearchSource1=b;d.$FilteredSearchSource2=c;return d}var c=b.prototype;c.bootstrapImpl=function(a){this.$FilteredSearchSource2.bootstrap(a)};c.searchImpl=function(a,b,c){var d=this,e=function(a,c){a=d.$FilteredSearchSource3(a,c),b(a,c)};this.$FilteredSearchSource2.search(a,e,c)};c.$FilteredSearchSource3=function(a,b){var c=this.$FilteredSearchSource1;return a.filter(function(a){return c(a,b)})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.searchSource=b;d.reporter=c;return d}var c=b.prototype;c.searchImpl=function(a,b,c){var d=this;this.reporter.reportQueryBegin(a);c&&this.reporter.reportStrategyName(c.strategyName);var e=Date.now();this.searchSource.search(a,function(c,a){d.reporter.reportQueryComplete(Date.now()-e,0),b(c,a)},c)};c.bootstrapImpl=function(a){var b=this;this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){b.searchSource.getBootstrappedEntries(function(c){b.reporter.reportBootstrapComplete(c.map(function(a){return a.getType()})),a()})})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a="ACTIVE";f.ACTIVE=a;b="COMPLETE";f.COMPLETE=b}),null);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$9=a.parseFn,typeof this.$9==="function"||g(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||g(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||h,this.$4=a.exclusions||{},this.reset()}var c=a.prototype;c.search=function(a,b){var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};c.$13=function(a,c){var d=this,e=this.$14(a),f=!!this.$5[a];if(!e.length){c([],a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f}e=e.map(function(a){return d.$3[a]});c(e,a,f?b("SearchSourceQueryStatus").COMPLETE:b("SearchSourceQueryStatus").ACTIVE);return f};c.$15=function(){var a=this.$10;this.$10=[];a.forEach(this.$16,this)};c.$16=function(a){var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};c.reset=function(){this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};c.addLocalEntries=function(a){var b=this;a.forEach(function(a){var c=a.getUniqueID(),d=b.$6(a);b.$3[c]=a;b.$12[c]=d;a=b.$9(d);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(b.$7,a)||(b.$7[a]={}),b.$7[a][c]=!0})});this.$15()};c.addQueryEntries=function(a,c,d){var e=this;d===b("SearchSourceQueryStatus").COMPLETE&&this.setQueryStringAsExhausted(c);d=this.$14(c);var f=this.$9(c).flatValue;this.$11[f]=b("createObjectFrom")(d,!0);a.forEach(function(a){var b=a.getUniqueID();e.$3[b]=a;e.$12[b]=e.$6(a);e.$11[f][b]=!0});this.$15()};c.unsubscribe=function(a){delete this.$1[a]};c.removeEntry=function(a){delete this.$3[a]};c.getAllEntriesMap=function(){return this.$3};c.setQueryStringAsExhausted=function(a){this.$5[a]=!0};c.unsetQueryStringAsExhausted=function(a){delete this.$5[a]};c.$14=function(a){var b=this,c=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));c=c.concat(a);var d={},e=[];c.forEach(function(a){d[a]==null&&b.$3[a]!=null&&b.$4[a]==null&&(e.push(a),d[a]=!0)});return e};c.$17=function(a,b){var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};c.$20=function(a,b){var c=this,d={};b.forEach(function(b){d[b]=c.$8(a,c.$12[b])});return d};c.$18=function(a){var c=this,d=this.$9(a,this.$2),e=this.$2?b("nullthrows")(d.sortedTokens):d.tokens,f=e.length,g=d.isPrefixQuery?f-1:null,h={},i={},j={};d=!1;var k={},l=0;e.forEach(function(a,b){if(Object.prototype.hasOwnProperty.call(k,a))return;l++;k[a]=!0;for(var e in c.$7){var f=e===a&&!Object.prototype.hasOwnProperty.call(h,e),m=!1;f||(m=(c.$2||g===b)&&e.indexOf(a)===0);if(!f&&!m){Object.prototype.hasOwnProperty.call(h,e)||(d=!0);continue}e===a?(Object.prototype.hasOwnProperty.call(i,e)&&(d=!0),h[e]=!0):((Object.prototype.hasOwnProperty.call(h,e)||Object.prototype.hasOwnProperty.call(i,e))&&(d=!0),i[e]=!0);for(var n in c.$7[e])(b===0||Object.prototype.hasOwnProperty.call(j,n)&&j[n]==l-1)&&(j[n]=l)}});e=Object.keys(j).filter(function(a){return j[a]==l});(d||l<f)&&(e=this.$21(a,e));return e};c.$19=function(a){var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};c.$22=function(a){var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){(a.indexOf(d)===0&&d.length>b||d===a)&&(b=d.length,c=d)});return c!=null&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};c.$21=function(a,b){var c=this;return b.filter(function(b){return c.$8(a,c.$12[b])})};return a}();e.exports=a;function h(a){return[a.getTitle(),a.getKeywordString()].join(" ")}}),null);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","SearchSourceQueryStatus","SearchableEntry","TokenizeUtil","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f){var g=b("SearchSourceQueryStatus").ACTIVE,h=b("SearchSourceQueryStatus").COMPLETE;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f,g;g=a.call(this)||this;g.$AbstractAsyncSearchSource1=c.asyncErrorHandler||b("emptyFunction");g.$AbstractAsyncSearchSource2=c.auxiliaryFields;g.$AbstractAsyncSearchSource4=c.bootstrapRequests;g.$AbstractAsyncSearchSource7=c.getAllForEmptyQuery;g.$AbstractAsyncSearchSource8=c.getAllForBootstrapPrefix;g.$AbstractAsyncSearchSource9=c.bootstrapPrefix;g.$AbstractAsyncSearchSource11=c.packageFn||g.$AbstractAsyncSearchSource15;g.$AbstractAsyncSearchSource12=c.queryRequests;g.$AbstractAsyncSearchSource13=c.requestData||{};g.$AbstractAsyncSearchSource6=(f=c.entryModifier_USE_SPARINGLY)!=null?f:b("emptyFunction").thatReturnsArgument;g.$AbstractAsyncSearchSource3=[];g.$AbstractAsyncSearchSource5=new(b("SearchSourceCallbackManager"))({parseFn:(f=c.parseFn)!=null?f:b("TokenizeUtil").parse,matchFn:c.matchFn||b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,exclusions:c.exclusions});g.$AbstractAsyncSearchSource14=d;g.$AbstractAsyncSearchSource10=e;return g}var d=c.prototype;d.bootstrapImpl=function(a){var b=this,c=a;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){c();return}var d=this.$AbstractAsyncSearchSource4.length,e=0;this.$AbstractAsyncSearchSource4.forEach(function(a){b.$AbstractAsyncSearchSource16(b.$AbstractAsyncSearchSource13,a,function(a){a=a.map(function(a){return b.$AbstractAsyncSearchSource6(a)});b.$AbstractAsyncSearchSource5.addLocalEntries(a);b.$AbstractAsyncSearchSource3=b.$AbstractAsyncSearchSource3.concat(a);e++;c&&e===d&&(c(),c=null)})})};d.searchImpl=function(a,c,d){var e=this,f=this.$AbstractAsyncSearchSource9;if(this.$AbstractAsyncSearchSource7&&a===""||this.$AbstractAsyncSearchSource8&&a&&f&&a.trim().toLowerCase()===f.trim().toLowerCase()){this.getBootstrappedEntries(function(d){d=d.map(function(a){return e.$AbstractAsyncSearchSource6(a)});c(d,a,b("SearchSourceQueryStatus").COMPLETE)});return}var i=[],j={};f=this.$AbstractAsyncSearchSource5.search(a,function(b,a,f){if(d&&d.waitForAllResults&&f!==h)return;i.length===0?(i=b,i.forEach(function(a,b){j[a.getUniqueID()]=b})):b.forEach(function(a){a=e.$AbstractAsyncSearchSource6(a);var b=a.getUniqueID();if(!Object.prototype.hasOwnProperty.call(j,b)){var c=i.length;i.push(a);j[b]=c}else{c=j[b];c<i.length&&(i[c]=a)}});c(i,a,f)});if(!f||!this.$AbstractAsyncSearchSource12||!this.$AbstractAsyncSearchSource12.length)return;var k=babelHelpers["extends"]({value:a,existing_ids:d&&d.disableExistingIDs?"":i&&i.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource13),l=this.$AbstractAsyncSearchSource12.length;this.$AbstractAsyncSearchSource12.forEach(function(b){e.$AbstractAsyncSearchSource16(k,b,function(b){l--;b=Array.from(b.reduce(function(a,b){b=e.$AbstractAsyncSearchSource6(b);var c=b.getUniqueID();if(a.has(c)){var d=a.get(c);d!=null&&b.getOrder()<d.getOrder()&&a.set(c,b)}else a.set(c,b);return a},new Map()).values());e.$AbstractAsyncSearchSource17(b,a,l?g:h)})})};d.getBootstrappedEntries=function(a){var b=this;return this.bootstrap(function(){return a(b.$AbstractAsyncSearchSource3||[])})};d.getBootstrapEntriesArray=function(){return this.$AbstractAsyncSearchSource3||[]};d.getAllEntriesMap=function(){return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};d.setRequestData=function(a){this.$AbstractAsyncSearchSource13=a};d.getRequestData=function(){return this.$AbstractAsyncSearchSource13};d.setPackageResult=function(a){this.$AbstractAsyncSearchSource11=a};d.getCallbackManager=function(){return this.$AbstractAsyncSearchSource5};d.$AbstractAsyncSearchSource16=function(a,b,c){var d=this;this.$AbstractAsyncSearchSource14(a,b,function(a){return c(d.$AbstractAsyncSearchSource10(a,d.$AbstractAsyncSearchSource11).filter(Boolean))},this.$AbstractAsyncSearchSource1)};d.$AbstractAsyncSearchSource17=function(a,b,c){this.$AbstractAsyncSearchSource5.addQueryEntries(a,b,c)};d.$AbstractAsyncSearchSource15=function(a,c){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!b("isValidUniqueID")(e)?null:new(b("SearchableEntry"))({uniqueID:e,order:a.order||a.index||c,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource18(a)})};d.$AbstractAsyncSearchSource18=function(a){var b;if(this.$AbstractAsyncSearchSource2){b={};for(var c in this.$AbstractAsyncSearchSource2){var d=this.$AbstractAsyncSearchSource2[c];b[c]=a[d]}}d=a.aux_data||a.auxiliaryData;d&&(b=babelHelpers["extends"]({},b,d));return b};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("WebAsyncSearchSourceUtils",[],(function(a,b,c,d,e,f){f.normalizeResponse=a;function a(a,b){a=a.getPayload();var c;Array.isArray(a)?c=a:a&&a.entries?c=a.entries:c=[];typeof c==="object"&&!Array.isArray(c)&&(c=Object.keys(c).map(function(a){return c[a]}));return c.map(b,this)}}),null);
__d("WebAsyncSearchSource",["AbstractAsyncSearchSource","AbstractSearchSource","AsyncRequest","WebAsyncSearchSourceUtils"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$WebAsyncSearchSource1=new(b("AbstractAsyncSearchSource"))(c,d.$WebAsyncSearchSource2,b("WebAsyncSearchSourceUtils").normalizeResponse);return d}var d=c.prototype;d.bootstrapImpl=function(a){this.$WebAsyncSearchSource1.bootstrap(a)};d.searchImpl=function(a,b,c){this.$WebAsyncSearchSource1.search(a,b,c)};d.getBootstrappedEntries=function(a){return this.$WebAsyncSearchSource1.getBootstrappedEntries(a)};d.getAllEntriesMap=function(){return this.$WebAsyncSearchSource1.getAllEntriesMap()};d.setRequestData=function(a){this.$WebAsyncSearchSource1.setRequestData(a)};d.getRequestData=function(){return this.$WebAsyncSearchSource1.getRequestData()};d.reset=function(){this.$WebAsyncSearchSource1.getCallbackManager().reset()};d.$WebAsyncSearchSource2=function(a,c,d,e){new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(e).send()};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("filterCapitalizedNames",["TokenizeUtil","gkx"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d){d===void 0&&(d="");var e=a.getAuxiliaryData()||g;if(e.disableAutosuggest)return!1;if(a.getType()==="user")if(b("gkx")("846032"))return c.length>=3&&a.getTitle().startsWith(d+c)||c==b("TokenizeUtil").tokenize(a.getTitle())[0];else return c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle());else if(a.getType()==="page")return e.connectedPage&&(c.length>=5||b("TokenizeUtil").isExactMatch(c,a.getTitle()));else return!1}var g={}}),null);
__d("getMentionsSearchSource",["AtSignMentionsStrategy","CapitalizedNameMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","SearchSourceWithMetrics","WebAsyncSearchSource","filterCapitalizedNames"],(function(a,b,c,d,e,f){e.exports=a;function g(a){var c={bootstrapRequests:[],queryRequests:[],auxiliaryFields:{authorativePerson:"is_authoritative_person",connectedPage:"connected_page",disableAutosuggest:"disable_autosuggest",workForeignEntity:"is_work_foreign_entity",renderType:"render_type",verified:"is_verified",workUser:"is_work_user",indexRank:"index_rank"}};a._bootstrapEndpoints&&a._bootstrapEndpoints.forEach(function(a){c.bootstrapRequests.push({uri:a.endpoint,data:a.data})});a.bootstrapEndpoint&&c.bootstrapRequests.push({uri:a.bootstrapEndpoint,data:a.bootstrapData});a.queryEndpoint&&c.queryRequests.push({uri:a.queryEndpoint,data:a.queryData});return new(b("WebAsyncSearchSource"))(c)}function a(a,c,d){a=g(a);a=new(b("SearchSourceWithMetrics"))(a,c);c=new(b("FilteredSearchSource"))(b("filterCapitalizedNames"),a);d=[d!=null?new(b("DocumentMentionsSource"))(d,a):null,new(b("DocumentMentionsSource"))(b("AtSignMentionsStrategy"),a),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),c)].filter(Boolean);return new(b("DocumentCompositeMentionsSource"))(d)}}),null);
__d("ReactBrowserEventEmitter_DO_NOT_USE",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOM").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.exports=a.ReactBrowserEventEmitter}),null);
__d("ReactLayerCommon",["invariant","React","ReactDOMComet","SubscriptionsHandler","cr:1487782","emptyFunction","warning"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=function(a){a.isPropagationStopped=b("emptyFunction").thatReturnsTrue},j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return h.jsx("div",{onClick:i,onBlur:i,onDoubleClick:i,onFocus:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onMouseDown:i,onMouseMove:i,onMouseUp:i,children:this.props.children})};return a}(h.Component),k={makeInitialSubscriptions:function(a,c){var d=new(b("SubscriptionsHandler"))();c.onToggle&&(k.layerSubscribe(a,d,"show",function(){return c.onToggle(!0)}),k.layerSubscribe(a,d,"hide",function(){return c.onToggle(!1)}));c.onBlur&&k.layerSubscribe(a,d,"blur",function(a,b){return c.onBlur(b)});c.onHide&&k.layerSubscribe(a,d,"runhide",function(a,b){return c.includeHideSource?c.onHide(b):c.onHide()});return d},layerSubscribe:function(a,c,d,e){var f=a.subscribe||a.addListener;c.addSubscriptions(f.call(a,d,function(a,c){if(b("cr:1487782")==null)e(a,c);else{var d=b("cr:1487782").isEnabled();d&&e(a,c)}}))},render:function(a,c){a=b("ReactDOMComet").createPortal(h.jsx(j,{children:a}),c);a===void 0&&b("ReactDOMComet").createPortal._isMockFunction&&(a=null);return a},diffBehaviors:function(a,b,c){var d;for(d in a)a[d]&&!b[d]&&c.disableBehavior(a[d]);for(d in b){var e=a[d],f=b[d];if(e&&f){e===f||g(0,120,d);continue}e&&c.disableBehavior(e);f&&c.enableBehavior(f)}}};e.exports=k}),null);
__d("ReactLayer",["invariant","ExecutionEnvironment","React","ReactLayerCommon","createReactClass_DEPRECATED","emptyFunction","getObjectValues"],(function(a,b,c,d,e,f,g){"use strict";b("React");var h={componentDidMount:function(){this.layer=this.createLayer(this._layerContainer),this.layer||g(0,2397),this.layerSubscriptions=b("ReactLayerCommon").makeInitialSubscriptions(this.layer,this.props),this._resetBehaviors()},componentDidUpdate:function(a){this.receiveProps(this.props,a)},componentWillUnmount:function(){this.layerSubscriptions&&(this.layerSubscriptions.release(),this.layerSubscriptions=null),this.layer&&(this.layer.destroy(),this.layer=null)},_createLayerContainer:function(){this._layerContainer==null&&(this._layerContainer=document.createElement("div"))},render:function(){if(!b("ExecutionEnvironment").canUseDOM)return null;this._createLayerContainer();return b("ReactLayerCommon").render(this.props.children,this._layerContainer)},enumerateBehaviors:function(a){a=this.getEffectiveBehaviors(a);return b("getObjectValues")(a).filter(b("emptyFunction").thatReturnsArgument)},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors)},updateBehaviors:function(a,b){this._diffBehaviors(a,b)},_diffBehaviors:function(a,c){a=this.getEffectiveBehaviors(a),c=this.getEffectiveBehaviors(c),b("ReactLayerCommon").diffBehaviors(a,c,this.layer)},getEffectiveBehaviors:function(a){return!this.getDefaultEnabledBehaviors?a||{}:babelHelpers["extends"]({},this.getDefaultEnabledBehaviors(),a)},layerSubscribe:function(a,c){b("ReactLayerCommon").layerSubscribe(this.layer,this.layerSubscriptions,a,c)}};a={createClass:function(a){return b("createReactClass_DEPRECATED")({mixins:[h,a]})}};e.exports=a}),null);
__d("ContextualLayer.react",["ContextualLayer","React","ReactBrowserEventEmitter_DO_NOT_USE","ReactDOM","ReactLayer","Style","prop-types","warning"],(function(a,b,c,d,e,f){var g=b("React");a=b("ReactLayer").createClass({propTypes:{contextRef:b("prop-types").func,context:function(a,b,c){if(a.context==null==(a.contextRef==null))return new Error("Exactly one of `context` or `contextRef` must be set on `"+(c+"`."));a=a[b];if(a!=null){if(typeof a!=="object")return new Error("Invalid `"+b+"` supplied to `"+c+"`, expected a React component.");if(g.isValidElement(a))return new Error("Invalid `"+b+"` supplied to `"+c+"`, expected a React component instance. You're passing a React descriptor.")}}},immutableProps:{modal:null},createLayer:function(a){var c=this,d=this._getContextNode(),e={context:d,contextBounds:this.props.contextBounds,"data-testid":this.props["data-testid"],position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties,isStrictlyControlled:this.props.isStrictlyControlled};e=new(b("ContextualLayer"))(e,a);this._node=a;this._matchContextSize(this.props);this.props.contextBounds&&e.setContextWithBounds(d,this.props.contextBounds);this._resizeSubscription=e.subscribe("resize",function(a,d){a=b("ReactBrowserEventEmitter_DO_NOT_USE").isEnabled();a&&(c.props.onResize&&c.props.onResize(d))});e.conditionShow(this.props.shown);return e},componentWillUnmount:function(){this._resizeSubscription&&(this._resizeSubscription.unsubscribe(),this._resizeSubscription=null)},receiveProps:function(a,b){this.updateBehaviors(b.behaviors,a.behaviors);b=this._getContextNode();a.contextBounds?this.layer.setContextWithBounds(b,a.contextBounds):this.layer.setContext(b);this._matchContextSize(a);this.layer.setPosition(a.position);this.layer.setAlignment(a.alignment);this.layer.setOffsetX(a.offsetX);this.layer.setOffsetY(a.offsetY);this.layer.conditionShow(a.shown)},getDefaultEnabledBehaviors:function(){return b("ContextualLayer").getDefaultBehaviorsAsObject()},_getContextNode:function(){var a;this.props.context?a=this.props.context:this.props.contextRef&&(a=this.props.contextRef());a!=null&&a.nodeType!==1&&(a=b("ReactDOM").findDOMNode(a));return a},_matchContextSize:function(a){var c=this._node,d=this._getContextNode();a.containerWidthMatchContext&&b("Style").set(c,"width",d.offsetWidth+"px");a.containerHeightMatchContext&&b("Style").set(c,"height",d.offsetHeight+"px")}});e.exports=a}),null);
__d("XUITypeaheadViewContainer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("ul",{"aria-label":this.props.label,className:b("joinClasses")("_599r",this.props.className),"data-testid":void 0,id:this.props.controlleeID,role:this.props.role,children:this.props.children})};return c}(h.Component);e.exports=a}),null);
__d("BadgeHelper",["cx","fbt","DOM","joinClasses"],(function(a,b,c,d,e,f,g,h){var i={xsmall:"_5dzz",small:"_5dz-",medium:"_5dz_",large:"_5d-0",xlarge:"_5d-1"},j={bot:"_64nf",verified:"_56_f",trending:"_1gop",topcommenter:"_59t2",page_gray_check:"_5n3t",page_gray_check_solid:"_6w81",work:"_5d62",game_blue:"_59c6",work_non_coworker:"_2ad7",work_official_badge:"_8b0y",work_official_badge_gray:"_8b-m",interest_community:"_3qcr",subscription:"_4fvy",inactive_user:"_7xv0",multi_company_group:"_9o_f"};c=h._("Nh\u00f3m ch\u00ednh th\u1ee9c");var k={bot:h._("Bot"),work_non_coworker:h._("Kh\u00f4ng ph\u1ea3i th\u00e0nh vi\u00ean trong c\u00f4ng ty b\u1ea1n"),work_official_badge:c,work_official_badge_gray:c};function l(a,c){return b("joinClasses")(i[a],j[c],"_5dzy")}function m(a){return k[a]}function a(a,c){a=l(a,c);if(a){c=m(c);return b("DOM").create("span",{className:a},c?b("DOM").create("span",{className:"accessible_elem"},c):null)}}e.exports={getClasses:l,getAlt:m,renderBadge:a,sizes:Object.keys(i),types:Object.keys(j)}}),null);
__d("Badge.react",["BadgeHelper","React","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("BadgeHelper").getAlt(this.props.type);a=a?g.jsx("span",{className:"accessible_elem",children:a}):null;return g.jsx("span",{className:b("BadgeHelper").getClasses(this.props.size,this.props.type),children:a})};return c}(g.Component);e.exports=a;a.propTypes={size:b("prop-types").oneOf(b("BadgeHelper").sizes),type:b("prop-types").oneOf(b("BadgeHelper").types)};a.defaultProps={size:"xsmall",type:"verified"}}),null);
__d("LeftRight.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getChildrenArr=function(){var a=[];i.Children.forEach(this.props.children,function(b){return a.push(b)});return a};d.render=function(){var a=this.getChildrenArr();a.length===1||a.length===2||h(0,5615);var d=this.props.direction||c.DIRECTION.both,e=d===c.DIRECTION.both,f=e||d===c.DIRECTION.left?"_ohe lfloat":"";e=e||d===c.DIRECTION.right?"_ohf rfloat":"";f=i.jsx("div",{className:f,children:a[0]},"left");e=a.length<2?null:i.jsx("div",{className:e,children:a[1]},"right");a=d===c.DIRECTION.right&&e?[e,f]:[f,e];d=this.props;f=d.root;e=babelHelpers.objectWithoutPropertiesLoose(d,["root"]);return i.jsx("div",babelHelpers["extends"]({},e,{ref:f,className:b("joinClasses")(this.props.className,"clearfix"),children:a}))};return c}(i.Component);e.exports=a;a.DIRECTION={left:"left",right:"right",both:"both"}}),null);
__d("ImageBlock.react",["cx","invariant","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("React");function j(a){a=a.children;a&&(a.length===2||a.length===3)||h(0,97);a[0]!==null||h(0,98);return a}function k(a){return"img _8o"+(a==="small"?" _8r":"")+(a==="medium"?" _8s":"")+(a==="large"?" _8t":"")}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=j(this.props),c=a[0],d=a[1];a=a[2];var e=this.props,f=e.imageClassName,g=e.contentClassName,h=e.spacing;e=babelHelpers.objectWithoutPropertiesLoose(e,["imageClassName","contentClassName","spacing"]);var l=c.props,m=l.className,n=l.alt,o=l.tabIndex;l=l.title;m={className:b("joinClasses")(m,k(h),f)};c.type==="img"?n===void 0&&(m.alt=""):(c.type==="a"||c.type==="link")&&o===void 0&&l===void 0&&c.props["aria-label"]===void 0&&(m.tabIndex="-1",m["aria-hidden"]="true");c=i.cloneElement(c,m);f=!0;this.props.flexibleContent!=null&&(f=this.props.flexibleContent);n=b("joinClasses")(g,(f?"_42ef":"")+(h==="small"?" _8u":""));!a?o=i.jsx("div",{className:n,children:d}):o=i.jsxs(b("LeftRight.react"),{className:n,direction:b("LeftRight.react").DIRECTION.right,children:[d,a]});return i.jsxs(b("LeftRight.react"),babelHelpers["extends"]({},e,{direction:b("LeftRight.react").DIRECTION.left,children:[c,o]}))};return c}(i.Component);e.exports=a;a.defaultProps={spacing:"small"}}),null);
__d("ReactFragment",["React","fbjs/lib/emptyFunction","fbjs/lib/invariant","fbjs/lib/warning"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103,i=".",j=":";c=!1;var k=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator"),l="@@iterator";function m(a){a=a&&(k&&a[k]||a[l]);if(typeof a==="function")return a}function n(a){var b=/[=:]/g,c={"=":"=0",":":"=2"};a=(""+a).replace(b,function(a){return c[a]});return"$"+a}function o(a,b){return a&&typeof a==="object"&&a.key!=null?n(a.key):b.toString(36)}function p(a,c,d,e){var f=typeof a;(f==="undefined"||f==="boolean")&&(a=null);if(a===null||f==="string"||f==="number"||f==="object"&&a.$$typeof===h){d(e,a,c===""?i+o(a,0):c);return 1}var g,k,l=0;c=c===""?i:c+j;if(Array.isArray(a))for(var n=0;n<a.length;n++)g=a[n],k=c+o(g,n),l+=p(g,k,d,e);else{n=m(a);if(n){n=n.call(a);var q,r=0;while(!(q=n.next()).done)g=q.value,k=c+o(g,r++),l+=p(g,k,d,e)}else if(f==="object"){q="";k=""+a;b("fbjs/lib/invariant")(0,4786,k==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":k,q)}}return l}function q(a,b,c){return a==null?0:p(a,"",b,c)}var r=/\/+/g;function s(a){return(""+a).replace(r,"$&/")}function t(a,b){return g.cloneElement(a,{key:b},a.props!==void 0?a.props.children:void 0)}var u=10,v=w,w=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();b.call(c,a);return c}else return new b(a)};d=function(a,b){a=a;a.instancePool=[];a.getPooled=b||v;a.poolSize||(a.poolSize=u);a.release=x;return a};var x=function(a){var c=this;a instanceof c||b("fbjs/lib/invariant")(0,4787);a.destructor();c.instancePool.length<c.poolSize&&c.instancePool.push(a)};f=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();e.call(f,a,b,c,d);return f}else return new e(a,b,c,d)};function y(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}y.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0};d(y,f);function z(a,c,d){var e=a.result,f=a.keyPrefix,h=a.func,i=a.context;h=h.call(i,c,a.count++);Array.isArray(h)?A(h,e,d,b("fbjs/lib/emptyFunction").thatReturnsArgument):h!=null&&(g.isValidElement(h)&&(h=t(h,f+(h.key&&(!c||c.key!==h.key)?s(h.key)+"/":"")+d)),e.push(h))}function A(a,b,c,d,e){var f="";c!=null&&(f=s(c)+"/");c=y.getPooled(b,f,d,e);q(a,z,c);y.release(c)}c=/^\d+$/;d=!1;function a(a){if(typeof a!=="object"||!a||Array.isArray(a)){b("fbjs/lib/warning")(!1,"ReactFragment.create only accepts a single object. Got: %s",a);return a}if(g.isValidElement(a)){b("fbjs/lib/warning")(!1,"ReactFragment.create does not accept a ReactElement without a wrapper object.");return a}a.nodeType!==1||b("fbjs/lib/invariant")(0,4788);var c=[];for(var d in a)A(a[d],c,d,b("fbjs/lib/emptyFunction").thatReturnsArgument);return c}f={create:a};e.exports=f}),null);
__d("BaseTextWithDecoration.react",["React","ReactFragment"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,b,c,d){var e=a[b];if(!e){d.push(c);return}e(c,function(a){d.push(a)},function(c){h(a,b+1,c,d)})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.decorators;a=a.text;var d=[],e={};h(c,0,a,d);d.forEach(function(a,b){e["i"+b]=a});return g.jsx("span",{children:b("ReactFragment").create(e)})};return c}(g.Component);e.exports=a}),null);
__d("AbstractFBEmoji.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var b=a.children,c=a.size,d=a.src;a=a.title;c={height:c,width:c,fontSize:c,backgroundImage:"url('"+d+"')"};return h.jsx("span",{className:"_5mfr",title:a,children:h.jsx("span",{style:c,className:"_6qdm",children:b})})}}),null);
__d("FBEmoji.react",["cx","AbstractFBEmoji.react","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.codepoints;a=a.size;var d=c.join("");c=b("FBEmojiResource").fromCodepoints(c);c=c!=null?c.getImageURL(a):null;return c==null?h.jsx("span",{className:"_4ay8"+(a===16?" _3kkw":"")+(a===18?" _366d":"")+(a===20?" _366e":"")+(a===24?" _48cb":"")+(a===28?" _5-0n":"")+(a===30?" _5-0o":"")+(a===32?" _5-0p":"")+(a===36?" _2oah":"")+(a===56?" _4352":"")+(a===112?" _435o":""),children:d}):h.jsx(b("AbstractFBEmoji.react"),{size:a,src:c,children:d})}}),null);
__d("FBEmoticon.react",["fbt","AbstractFBEmoji.react","EmoticonsList","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.emoticon,d=a.name;a=a.size;var e=b("EmoticonsList").emoji[d];if(!e)return h.jsx("span",{children:c});e=new(b("FBEmojiResource"))(e);e=e.getImageURL(a);if(e==null)return h.jsx("span",{children:c});d=g._("Bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac {emoticonName}",[g._param("emoticonName",d)]);return h.jsx(b("AbstractFBEmoji.react"),{size:a,src:e,title:d,children:c})}}),null);
__d("iterateEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){var e=0,f=b("EmojiRenderer").parse(a);f.forEach(function(b){var f=b.offset;f>e&&d(a.substr(e,f-e));c(b.emoji);e=f+b.length});d(a.substr(e,a.length-e))}}),null);
__d("iterateEmoticons",["EmoticonsList"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c,d){var e,f,g;a=a;while(a){f=b("EmoticonsList").regexp.exec(a);if(f)e=f.index+f[1].length,g=a.substr(0,e),f=f[2],e=a.substr(e+f.length),d(g),c(f,b("EmoticonsList").emotes[f]),a=e;else break}d(a)}}),null);
__d("TextWithEmoticons.react",["BaseTextWithDecoration.react","FBEmoji.react","FBEmoticon.react","React","iterateEmoji","iterateEmoticons","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){return g.jsx(b("FBEmoji.react"),{codepoints:a,size:c})}function i(a,c,d){return g.jsx(b("FBEmoticon.react"),{emoticon:a,name:c,size:d})}function j(a){return function(c,d,e){b("iterateEmoji")(c,function(b){return d(h(b,a))},e)}}function k(a){return function(c,d,e){b("iterateEmoticons")(c,function(b,c){return d(i(b,c,a))},e)}}var l=b("memoizeWithArgs")(function(a,b,c){if(a&&b)return[j(c),k(c)];else if(b)return[k(c)];else return[j(c)]},function(a,b,c){return a.toString()+"_"+b.toString()+"_"+c});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.text!==this.props.text||a.size!==this.props.size};d.render=function(){var a=this.props,c=a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);if(typeof c==="string")return this.props.isWhitespace?g.jsx("span",{className:"whitespace",children:c}):g.jsx(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},a,{text:c,decorators:[].concat(l(this.props.renderEmoji,this.props.renderEmoticons,this.props.size),this.props.decorators)}));else return g.jsx("span",{children:c})};return c}(g.Component);e.exports=a;a.defaultProps={renderEmoji:!0,renderEmoticons:!0,size:16,decorators:[]}}),null);
__d("TypeaheadViewItem",["React","ReactDOM","SearchableEntry","prop-types"],(function(a,b,c,d,e,f){var g=b("React");d={children:(c=b("prop-types")).node,className:c.string,entry:c.instanceOf(b("SearchableEntry")).isRequired,highlighted:c.bool,role:c.string,selected:c.bool,onSelect:c.func.isRequired,onHighlight:c.func,onRenderHighlight:c.func};f={children:c.node,className:c.string,entry:c.instanceOf(b("SearchableEntry")).isRequired,highlighted:c.bool,role:c.string,selected:c.bool,onSelect:c.func.isRequired,onHighlight:c.func,onRenderHighlight:c.func};var h={role:"option"};c={_onSelect:function(a){this.props.onSelect(this.props.entry,a)},_onHighlight:function(a){this.props.onHighlight&&this.props.onHighlight(this.props.entry,a)},getDefaultProps:function(){return h},shouldComponentUpdate:function(a){return this.props.entry.getUniqueID()!==a.entry.getUniqueID()||this.props.highlighted!==a.highlighted||this.props.selected!==a.selected},componentDidMount:function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))},componentDidUpdate:function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))}};function a(a){var c,d;return d=c=function(c){"use strict";babelHelpers.inheritsLoose(d,c);function d(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){b.props.onSelect(b.props.entry,a)},b.$2=function(a){b.props.onHighlight&&b.props.onHighlight(b.props.entry,a)},a)||babelHelpers.assertThisInitialized(b)}var e=d.prototype;e.shouldComponentUpdate=function(a){return this.props.entry.getUniqueID()!==a.entry.getUniqueID()||this.props.highlighted!==a.highlighted||this.props.selected!==a.selected};e.componentDidMount=function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))};e.componentDidUpdate=function(){var a=this.props.onRenderHighlight;this.props.highlighted&&a&&a(b("ReactDOM").findDOMNode(this))};e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{onSelect:this.$1,onHighlight:this.$2}))};return d}(g.Component),c.displayName="TypeaheadViewItem("+a.displayName+")",c.defaultProps=h,d}e.exports={makeTypeaheadViewItem:a,Mixin:c,propTypes:d,TypeaheadViewItemPropTypes:f}}),null);
__d("XUITypeaheadViewItem.react",["cx","BackgroundImage.react","Badge.react","ImageBlock.react","React","TextWithEmoticons.react","Tooltip","TypeaheadViewItem","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"XUITypeaheadViewItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{splitText:(a=b("prop-types")).bool,tooltip:a.node,tooltipPosition:a.oneOf(["above","left","below","right"]),backgroundSize:a.string,radiusImage:a.bool,photoWidth:a.number,photoHeight:a.number}),render:function(){var a=this.props.entry,c=this.props.splitSubtext?a.getSubtitle().split(" \xb7 ")[0]:a.getSubtitle();c=c?h.jsxs("div",{className:"_599q",children:[this.props.children,c]}):null;var d=this.props.backgroundSize||"cover";d=a.getPhoto()?h.jsx(b("BackgroundImage.react"),{width:this.props.photoWidth||32,height:this.props.photoHeight||32,backgroundSize:d,src:a.getPhoto()}):h.jsx("span",{});var e=a.getAuxiliaryData(),f=null;if(e){var g;g=e.work_foreign_group_type||((g=e.workForeignEntityInfo)==null?void 0:g.type);e.verified?f=h.jsx(b("Badge.react"),{}):g==="FOREIGN"&&(f=h.jsx(b("Badge.react"),{type:"work_non_coworker"}))}e=this.props.radiusImage!==null?this.props.radiusImage:!0;g="_599m"+(e?" _1u3_":"")+(c?"":" _5mne")+(this.props.highlighted?" _599n":"");g=b("joinClasses")(g,this.props.className);e=this.props.tooltipPosition?this.props.tooltipPosition:"right";return h.jsxs("li",babelHelpers["extends"]({"aria-selected":this.props.highlighted,className:g,id:this.props.entry.getUniqueID(),onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,"data-testid":void 0},this.props.tooltip?b("Tooltip").propsFor(this.props.tooltip,e):{},{children:[h.jsxs(b("ImageBlock.react"),{spacing:"medium",children:[h.jsx("span",{className:"_599o",children:d}),h.jsxs("div",{"data-testid":void 0,children:[h.jsxs("div",{className:"_599p",children:[h.jsx(b("TextWithEmoticons.react"),{renderEmoticons:!1,renderEmoji:!0,text:a.getTitle()}),f]}),c]})]}),this.props.children]}))}});d=c;e.exports=d}),null);
__d("XUITypeaheadView.react",["cx","React","XUITypeaheadViewContainer.react","XUITypeaheadViewItem.react","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a===d.props.highlightedEntry;return h.jsx(b("XUITypeaheadViewItem.react"),{entry:a,highlighted:c,onSelect:d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,backgroundSize:d.props.photoBackgroundSize,photoHeight:d.props.photoHeight,photoWidth:d.props.photoWidth,radiusImage:(c=d.props.viewProps)==null?void 0:c.radiusImage},a.getUniqueID())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=(this.props.entries.length?"":"_599s")+(this.props.isRightToLeft?" _1c5r":"")+(this.props.scrolled?" _62w5":"");a=b("joinClasses")(this.props.className,a);return h.jsx(b("XUITypeaheadViewContainer.react"),{className:a,controlleeID:this.props.controlleeID,label:this.props.label,role:this.props.role,children:this.props.entries.map(this.$1)})};return c}(h.Component);e.exports=a;a.defaultProps={role:"listbox"}}),null);
__d("SearchI18nArabic",[],(function(a,b,c,d,e,f){"use strict";var g=/[\u0600-\u06FF]/;function h(a){return g.test(a)}var i={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},j=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function k(a){return Object.prototype.hasOwnProperty.call(i,a)?String.fromCharCode(i[a]):j.indexOf(a)!=-1?"":String.fromCharCode(a)}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(k(d))}return b.join("")}b={hasArabicCharacters:h,normalizeCharCode:k,arabicNormalization:a};e.exports=b}),null);
__d("UnicodeCJK",[],(function(a,b,c,d,e,f){"use strict";f="a-zA-Z";var g="\uff21-\uff3a\uff41-\uff5a",h=f+g;f="\u3040-\u309f";g="\u30a0-\u30ff";var i="\u31f0-\u31ff",j="\uff65-\uff9f";g=g+i+j;var k=f+g,l=[12352,12447];i=[12448,12543];var m=i[0]-l[0];j="\u4e00-\u9fcf";f="\u3400-\u4dbf";var n=j+f;g="\uac00-\ud7af";var o=n+k+g,p=null,q=null,r=null,s=null;function t(a){q=q||new RegExp("["+k+"]");return q.test(a)}function a(a){p=p||new RegExp("["+n+"]");return p.test(a)}function b(a){r=r||new RegExp("["+o+"]");return r.test(a)}function u(a){a=a.charCodeAt(0);return String.fromCharCode(a<l[0]||a>l[1]?a:a+m)}function c(a){return!t(a)?a:a.split("").map(u).join("")}function v(a){s=s||new RegExp("^["+k+"]+["+h+"]$");return s.test(a)}function d(a){return v(a)?a.substr(0,a.length-1):a}i={hasKana:t,hasIdeograph:a,hasIdeoOrSyll:b,hiraganaToKatakana:c,isKanaWithTrailingLatin:v,kanaRemoveTrailingLatin:d};e.exports=i}),null);
__d("UnicodeHangulKorean",[],(function(a,b,c,d,e,f){"use strict";var g=/[\u3130-\u318F\uAC00-\uD7AF]/;function h(a){return g.test(a)}var i=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],j=12593;b=i.length;var k=j+b;function l(a){return String.fromCharCode(i[a-j])}var m=4352,n=4449,o=4519,p=44032;c=19;d=21;var q=28,r=d*q;f=c*r;var s=p+f;function t(a){a=a-p;var b=a%q;return String.fromCharCode(m+a/r)+String.fromCharCode(n+a%r/q)+(b>0?String.fromCharCode(o+b):"")}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b.push(j<=e&&e<k?l(e):p<=e&&e<s?t(e):d)}return b.join("")}b={toConjoiningJamo:a};e.exports=b}),null);
__d("browserUserLanguage",[],(function(a,b,c,d,e,f){b=a.navigator;c=(b.userLanguage||b.language).replace("-","_");d=c;e.exports=d}),null);
__d("unicodeStringSplitter",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g;return a.match(b)||[]}}),null);
__d("tryToRemoveStringAccents",["IntlBCP47LocaleConfig","browserUserLanguage","memoizeWithArgs","unicodeStringSplitter"],(function(a,b,c,d,e,f){"use strict";var g="a".charCodeAt(0),h="z".charCodeAt(0),i=b("IntlBCP47LocaleConfig").bcp47Locale||b("browserUserLanguage"),j=!1;try{j="a".localeCompare("A",i,{sensitivity:"base"})===0}catch(a){j=!1}var k=b("memoizeWithArgs")(function(a){var b=a.charCodeAt(0);if(!a||g<=b&&b<=h)return a;for(var b=g;b<=h;b++){var c=String.fromCharCode(b);if(c.localeCompare(a,i,{sensitivity:"base"})===0)return c}return a},function(a){return a});function a(a){return j?b("unicodeStringSplitter")(a).map(k).join(""):a}a.isBrowserSupported=j;e.exports=a}),null);
__d("SearchI18nMatch",["invariant","SearchI18nArabic","UnicodeCJK","UnicodeHangulKorean","forEachObject","tryToRemoveStringAccents"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.config={prefix_hangul_conjoining_jamo:!1,prefix_kana_drop_trailing_latin:!1,prefix_kana_hiragana_to_katakana:!1,prefix_try_ignoring_accents:!1,search_i18n_prefix_arabic_normalization:!1},a!=null&&this.setConfigs(a)}var c=a.prototype;c.setConfigs=function(a){var c=this;b("forEachObject")(a,function(a,b){return c.setConfig(b,a)},this)};c.setConfig=function(a,b){a in this.config||g(0,5344,a),b!=null&&(this.config[a]=b)};c.prefixMatchPrepare=function(a){if(a){var c=this.config;c.prefix_hangul_conjoining_jamo&&(a=b("UnicodeHangulKorean").toConjoiningJamo(a));c.prefix_kana_drop_trailing_latin&&(a=b("UnicodeCJK").kanaRemoveTrailingLatin(a));c.prefix_kana_hiragana_to_katakana&&(a=b("UnicodeCJK").hiraganaToKatakana(a));c.search_i18n_prefix_arabic_normalization&&(a=b("SearchI18nArabic").arabicNormalization(a));c.prefix_try_ignoring_accents&&(a=b("tryToRemoveStringAccents")(a))}return a};c.prefixMatch=function(a,b){a=this.prefixMatchPrepare(a);b=this.prefixMatchPrepare(b);return a.startsWith(b)};return a}();e.exports=a}),null);
__d("DataSource",["ArbiterMixin","AsyncRequest","SearchI18nMatch","TokenizeUtil","createArrayFromMixed","createObjectFrom","emptyFunction","killswitch","mixin","str2rstr"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d._maxResults=c.maxResults||10;d.token=c.token;d.queryData=c.queryData||{};d.queryEndpoint=c.queryEndpoint||"";d.bootstrapData=c.bootstrapData||{};d.bootstrapEndpoint=c.bootstrapEndpoint||"";d.globalKeywordsEndpoint=c.globalKeywordsEndpoint||"";d._indexedFields=c.indexedFields||["text","tokens"];d._titleFields=c.titleFields||[];d._alwaysPrefixMatch=c.alwaysPrefixMatch||!1;d._deduplicationKey=c.deduplicationKey||null;d._enabledLocalCache=c.enabledLocalCache!=null?c.enabledLocalCache:!0;d._enabledQueryCache=c.enabledQueryCache!=null?c.enabledQueryCache:!0;d._disableAllCaches=c.disableAllCaches!=null?c.disableAllCaches:!1;d._enabledMergeUids=c.enabledMergeUids!=null?c.enabledMergeUids:!1;d._queryExactMatch=c.queryExactMatch||!1;d._acrossTransitions=c.acrossTransitions||!1;d._minQueryLength=c.minQueryLength||-1;d._enforceNewRequestIDUponFetch=c.enforceNewRequestIDUponFetch||!1;d._minExactMatchLength=4;d._filters=[];d._headerflags=c.headerflags||new Map();d.transport=null;d.setExclusions(c.exclusions);d.backendUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});d.cacheUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});return d}var d=c.prototype;d.init=function(){this.init=b("emptyFunction"),this._fields=b("createObjectFrom")(this._indexedFields),this._activeQueries=0,this.dirty()};d.dirty=function(){this.value="";this._bootstrapped=!1;this._bootstrapping=!1;this._data=Object.create(null);this.localCache={};this.queryCache={};this.queryIDs={};this.inform("dirty",{});return this};d.bootstrap=function(a){a===void 0&&(a=!1);if(this._bootstrapped&&!a)return;this.bootstrapWithoutToken();this._bootstrapped=!0;this._bootstrapping=!0;this.inform("bootstrap",{bootstrapping:!0})};d.bootstrapWithoutToken=function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:!0,token:this.token})};d.bootstrapWithToken=function(){var a=babelHelpers["extends"]({},this.bootstrapData);a.token=this.token;var c=b("killswitch")("DATA_SOURCE_USE_FETCH_CONTEXT_EMPTY_STRING")?{bootstrap:!0,replaceCache:!0,value:""}:{bootstrap:!0,replaceCache:!0};this.fetch(this.bootstrapEndpoint,a,c)};d.query=function(a,b,c,d,e){this.inform("beforeQuery",babelHelpers["extends"]({value:a,local_only:b,exclusions:c,time_waited:d},e));d=Date.now();if(this._disableAllCaches){this.dirty();if(!a){this.bootstrap();return!0}}else this._enabledQueryCache||(this.queryCache={},this.queryIDs={});var f=this.buildUids(a,[],c),g=this.respond(a,f);this.value=a;this.inform("query",babelHelpers["extends"]({value:a,results:g},e));var h=this.tokenizeBackend(a).flatValue;if(b||!h||this._isQueryTooShort(h)||!this.queryEndpoint||Object.prototype.hasOwnProperty.call(this.getQueryCache(),h)||!this.shouldFetchMoreResults(g)){this.inform("logPerformanceTiming",babelHelpers["extends"]({field:"cache_keypress_render",value:Date.now()-d},e));this.inform("completeCacheFetch");return!1}this.inform("queryEndpoint",babelHelpers["extends"]({value:a},e));this.fetch(this.queryEndpoint,this.getQueryData(a,f),babelHelpers["extends"]({value:a,exclusions:c},e));return!0};d._isQueryTooShort=function(a){return a.length<this._minQueryLength};d._tokenize=function(a,c){return b("TokenizeUtil").parse(a,c)};d.tokenizeBackend=function(a,b){a=this.backendUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.tokenizeCache=function(a,b){a=this.cacheUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.shouldFetchMoreResults=function(a){return a.length<this._maxResults};d.getQueryData=function(a,b){a=babelHelpers["extends"]({value:a},this.queryData);b=b||[];b.length&&(a.existing_ids=b.join(","));this._bootstrapping&&(a.bsp=!0);return a};d.setQueryData=function(a,b){b&&(this.queryData={});Object.assign(this.queryData,a);return this};d.setBootstrapData=function(a,b){b&&(this.bootstrapData={});Object.assign(this.bootstrapData,a);return this};d.getExclusions=function(){return b("createArrayFromMixed")(this._exclusions)};d.setExclusions=function(a){this._exclusions=a?a.map(String):[]};d.addFilter=function(a){var b=this._filters;b.push(a);return{remove:function(){b.splice(b.indexOf(a),1)}}};d.clearFilters=function(){this._filters=[]};d.notify=function(a,b,c,d){b=this.buildData(b);this.inform("notify",{value:a,results:b,isAsync:!!c,rootid:d});return b};d.respond=function(a,b,c){b=this.buildData(b);this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.respondWithResults=function(a,b,c){this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.processResults=function(a,b,c){if(this.bootstrapData.alwaysShowEcho){c=-1;for(var d=0;d<b.length;++d)if(b[d].text.toLowerCase()===a.toLowerCase()){c=d;break}d={};c===-1?(d={bootstrapped:!1,index:0,query:a,render_type:"hashtag",text:a,type:"hashtag",uid:this.getUniqueID()},b.map(function(a){a.index+=1}),b.unshift(d)):c>0&&(d=b.splice(c,1)[0],b.unshift(d),b.map(function(a,b){a.index=b}))}};d.getUniqueID=function(){var a="_"+Math.random().toString(36).substr(2,9);while(this._data[a]!==void 0)a="_"+Math.random().toString(36).substr(2,9);return a};d.fetch=function(a,c,d){var e=this;if(!a)return;(this._enforceNewRequestIDUponFetch||c.request_id===void 0)&&(c.request_id=this._guid(),d.request_id=c.request_id);c=new(b("AsyncRequest"))().setURI(a).setData(c).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(a){this.fetchHandler(a,d||{})}.bind(this));if(a===this.queryEndpoint){for(var f=this._headerflags,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];c.setRequestHeader(j,i)}c.setFinallyHandler(function(){this._activeQueries--,this._activeQueries||this.inform("activity",{activity:!1})}.bind(this))}c.setErrorHandler(function(a){return e.asyncErrorHandler(a,d)});this.inform("beforeFetch",{request:c,fetch_context:d});c.send();this.transport=c.transport;a===this.queryEndpoint&&(this._activeQueries||this.inform("activity",{activity:!0}),this._activeQueries++)};d.fetchHandler=function(a,b){var c=b.value,d=b.exclusions;a.getPayload().requestID!==void 0&&(b.request_id=a.getPayload().requestID);var e=this.getQueryIDs(),f=this.tokenizeBackend(c||"").flatValue;e[f]=b.request_id;!c&&b.replaceCache&&(this.localCache={});this.inform("buildQueryCache",{});e=a.getPayload().entries;this.addEntries(e,c);this.inform("fetchComplete",{entries:e,response:a,value:c,fetch_context:b});f=!c&&this.value?this.value:c;this.respond(f,this.buildUids(f,[],d),!0);c||(this._bootstrapping&&(this._bootstrapping=!1,this.inform("bootstrap",{bootstrapping:!1})),b.token&&a.getPayload().token!==b.token&&this.bootstrapWithToken())};d.addEntries=function(a,c){a=this.processEntries(b("createArrayFromMixed")(a||[]),c);var d=a;this._enabledMergeUids&&(d=this.buildUids(c,a));if(c){var e=this.getQueryCache();c=this.tokenizeBackend(c).flatValue;e[c]=d}else this.fillCache(d);return a};d.processEntries=function(a,b){return a.map(function(a,c){var d=a.uid=a.uid+"",e=this.getEntry(d);!e?(e=a,e.query=b,e.bootstrapped=!b,this.setEntry(d,e)):Object.assign(e,a);this.processEntry(e,b);e.index===void 0&&(e.index=c);return d},this)};d.processEntry=function(a,b){};d.getAllEntries=function(){return this._data||{}};d.getEntry=function(a){return this._data[a]||null};d.setEntry=function(a,b){this._data[a]=b};d.fillCache=function(a){if(!this._enabledLocalCache)return;var b=this.localCache;a.forEach(function(a){var c=this.getEntry(a);if(!c)return;c=this.tokenizeCache(this.getTextToIndex(c)).tokens;for(var d=0,e=c.length;d<e;++d){var f=c[d];Object.prototype.hasOwnProperty.call(b,f)||(b[f]={});b[f][a]=!0}},this)};d.getTextToIndex=function(a){if(a.textToIndex&&!a.needs_update)return a.textToIndex;a.needs_update=!1;a.textToIndex=this.getTextToIndexFromFields(a,this._indexedFields);return a.textToIndex};d.getTextToIndexFromFields=function(a,b){var c=[];for(var d=0;d<b.length;++d){var e=a[b[d]];e&&c.push(e.join?e.join(" "):e)}return c.join(" ")};d.mergeUids=function(a,b,c,d){this.inform("mergeUids",{local_uids:a,query_uids:b,new_uids:c,value:d});this._checkExtendedMatch(d,a);return this.deduplicateByKey(a.sort(this.bootstrapSort.bind(this)).concat(b,c))};d.bootstrapSort=function(a,b){a=this.getEntry(a);b=this.getEntry(b);if(a.extended_match!==b.extended_match)return a.extended_match?1:-1;if(a.index!==b.index)return a.index-b.index;if(a.text.length!==b.text.length)return a.text.length-b.text.length;return a.text===b.text?a.uid<b.uid?-1:1:a.text<b.text?-1:1};d._checkExtendedMatch=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;for(var e=0;e<c.length;++e){var f=this.getEntry(c[e]);f.extended_match=f.tokens?!d(a,f.text):!1}};d.buildUids=function(a,c,d){c||(c=[]);if(!a)return c;d||(d=[]);var e=this.buildCacheResults(a,this.localCache),f=this.buildQueryResults(a);e=this.mergeUids(e,f,c,a);var g=b("createObjectFrom")(d.concat(this._exclusions));f=e.filter(function(b){if(Object.prototype.hasOwnProperty.call(g,b)||!this.getEntry(b))return!1;for(var c=0;c<this._filters.length;++c)if(!this._filters[c](this.getEntry(b),a))return!1;return g[b]=!0},this);return this.uidsIncludingExact(a,f)};d.uidsIncludingExact=function(a,c){var d=c.length;if(d<=this._maxResults||b("str2rstr")(a).length<this._minExactMatchLength)return c;for(var e=0;e<d;++e){var f=this.getEntry(c[e]);if(f.text==null&&f.text_lower==null)continue;f.text_lower||(f.text_lower=f.text.toLowerCase());if(f.text_lower===this.tokenizeCache(a).flatValue){if(e>=this._maxResults){f=c.splice(e,1)[0];c.splice(this._maxResults-1,0,f)}break}}return c};d.buildData=function(a){var b=[],c=Math.min(a.length,this._maxResults);for(var d=0;d<c;++d)b.push(this.getEntry(a[d]));return b};d.findBestPreviousQuery=function(a,b){var c=0,d=null;if(this._queryExactMatch)return Object.prototype.hasOwnProperty.call(b,a)?a:null;for(var e in b)a.indexOf(e)===0&&e.length>c&&(c=e.length,d=e);return d};d.findQueryCache=function(a){a=this.findBestPreviousQuery(a,this.getQueryCache());return this.getQueryCache()[a]||[]};d.buildQueryResults=function(a){a=this.tokenizeBackend(a).flatValue;var b=this.findQueryCache(a);if(Object.prototype.hasOwnProperty.call(this.getQueryCache(),a))return b;a=this.filterQueryResults(a,b);return a};d.filterQueryResults=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;return c.filter(function(b){return d(a,this.getTextToIndex(this.getEntry(b)))},this)};d.buildCacheResults=function(a,b){var c=this.tokenizeCache(a,this._alwaysPrefixMatch),d=this._alwaysPrefixMatch?c.sortedTokens:c.tokens,e=d.length;c=c.isPrefixQuery?e-1:null;var f={},g={},h={},i=[],j=!1,k={},l=0;for(var m=0;m<e;++m){var n=d[m];if(!Object.prototype.hasOwnProperty.call(k,n))l++,k[n]=!0;else continue;for(var o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&o===n||(this._alwaysPrefixMatch||c===m)&&this.cacheUnicodeMatch.prefixMatch(o,n)){o===n?(Object.prototype.hasOwnProperty.call(g,o)&&(j=!0),f[o]=!0):((Object.prototype.hasOwnProperty.call(f,o)||Object.prototype.hasOwnProperty.call(g,o))&&(j=!0),g[o]=!0);for(var p in b[o])(m===0||Object.prototype.hasOwnProperty.call(h,p)&&h[p]==l-1)&&(h[p]=l)}}n=a.toLowerCase();for(o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&this.cacheUnicodeMatch.prefixMatch(o,n))for(p in b[o])h[p]=l;for(var q in h)h[q]==l&&i.push(q);(j||l<e)&&(i=this.filterQueryResults(a,i));this._titleFields&&this._titleFields.length>0&&(i=this.filterNonTitleMatchQueryResults(a,i));return i};d.filterNonTitleMatchQueryResults=function(a,c){return c.filter(function(c){var d=this.tokenizeCache(a),e=d.tokens.length;if(e===0)return!0;c=this.getTitleTerms(this.getEntry(c));d=d.tokens[0];return e===1||this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch(d,c)||this.cacheUnicodeMatch.prefixMatch(c,d):b("TokenizeUtil").isQueryMatch(d,c)},this)};d.getTitleTerms=function(a){a.titleToIndex||(a.titleToIndex=this.getTextToIndexFromFields(a,this._titleFields));return a.titleToIndex};d.deduplicateByKey=function(a){if(!this._deduplicationKey)return a;var c=b("createObjectFrom")(a.map(this._getDeduplicationKey.bind(this)),a);return a.filter(function(a){return c[this._getDeduplicationKey(a)]==a}.bind(this))};d._getDeduplicationKey=function(a){var b=this.getEntry(a);if(b[this._deduplicationKey])return b[this._deduplicationKey]+"";else return"__"+a+"__"};d.getQueryCache=function(){return this.queryCache};d.getQueryIDs=function(){return this.queryIDs};d.setMaxResults=function(a){this._maxResults=a,this.value&&this.respond(this.value,this.buildUids(this.value))};d.getMaxResults=function(){return this._maxResults};d.updateToken=function(a){this.token=a;this.dirty();return this};d.getResponseHeaderValue=function(a){var b="";this.transport&&(b=this.transport.getResponseHeader(a),b||(b=""));return b};d._guid=function(){var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=Math.floor((a+Math.random()*16)%16);a=Math.floor(a/16);b=(b=="x"?c:c&7|8).toString(16);return b});return b};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{events:["bootstrap","query","respond"],asyncErrorHandler:b("emptyFunction")});e.exports=a}),null);
__d("MultiBootstrapDataSource",["DataSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c._bootstrapEndpoints=b.bootstrapEndpoints;return c}var c=b.prototype;c.bootstrapWithoutToken=function(){for(var a=0;a<this._bootstrapEndpoints.length;a++)this.fetch(this._bootstrapEndpoints[a].endpoint,this._bootstrapEndpoints[a].data||{},{bootstrap:!0})};return b}(b("DataSource"));e.exports=a}),null);
__d("createMentionEntityForContentState",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=b.getType().toLowerCase();if(c==="hashtag")return a.createEntity("HASHTAG","IMMUTABLE");var d=c==="user"||c==="fb4c"?"SEGMENTED":"IMMUTABLE",e=b.getAuxiliaryData();return a.createEntity("MENTION",d,{id:b.getUniqueID(),uri:b.getURI(),isWeak:e&&e.renderType==="non_member",type:c})}}),null);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){e=e(c.getCurrentContent(),a);var g=e.getLastCreatedEntityKey();f=f?f(a):a.getTitle();a=b("DraftModifier").replaceText(e,d,f,c.getCurrentInlineStyle(),g);return b("EditorState").push(c,a,"insert-fragment")}}),null);
__d("replaceMentionedTextInEditorState",["replaceSelectionWithMention"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){var h=c.getSelection(),i=c.getCurrentContent(),j=h.getAnchorKey(),k=h.getAnchorOffset();i=i.getBlockMap().get(j);j=h.getStartOffset();j=i.getText().substr(j-d,d);var l=f?f(a,j):a.getTitle();f=k-g(i.getText().substr(0,k),l,d);return b("replaceSelectionWithMention")(a,c,h.set("anchorOffset",f),e,function(){return l})}function g(a,b,c){(b.startsWith("#")||b.startsWith("\\uFF03"))&&(a=a.toLowerCase(),b=b.toLowerCase());for(var d=c;d<=b.length;d++)a.substr(-d)==b.substr(0,d)&&(c=d);return c}}),null);
__d("addMentionableEntityToComposerState",["FBLogger","createMentionEntityForContentState","replaceMentionedTextInEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){var e=a.inputState;switch(e.__type){case"editor-state-based":c=b("replaceMentionedTextInEditorState")(c,e.editorState,d,b("createMentionEntityForContentState"));return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},e,{editorState:c})});case"plain-text":default:b("FBLogger")("ufi2").warn("Unimplemented: tried to commit a searchable entity as a mention to a `UFI2ComposerState` with an `inputState` of type `%s`. Only the `editor-state-based` type is supported at the moment.",e.__type);return a}}}),null);
__d("getPlainTextFromUFI2InputState",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.editorState.getCurrentContent().getPlainText();default:return a}}}),null);
__d("installUFI2ComposerInputDecorators",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return babelHelpers["extends"]({},a,{inputDecorators:[].concat(a.inputDecorators,c)})}}),null);
__d("removeEmojiFromEditorState",["keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(a){case"backspace":return b("keyCommandBackspaceEmoji")(c)||c;case"delete":return b("keyCommandDeleteEmoji")(c)||c;default:return c}}}),null);
__d("getUpgradedUFI2EmojiComposerPlugin",["EmojiRenderer","EmojiSpan.react","installUFI2ComposerInputDecorators","removeEmojiFromEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c={component:b("EmojiSpan.react"),props:a,strategy:function(a,c){b("EmojiRenderer").parse(a.getText()).forEach(function(a){var b=a.length;a=a.offset;c(a,a+b)})}};return{handleKeyCommand:function(a,c,d){var e=a.composerState.inputState;if(e.__type==="editor-state-based"){var f;switch(c){case"backspace":f="backspace";break;case"delete":f="delete";break}if(f){var g=b("removeEmojiFromEditorState")(f,d);if(e.editorState!==g){a.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},e,{editorState:g})})});return"handled"}}}return a.handleKeyCommand?a.handleKeyCommand(c,d):"not-handled"},installEmojiInputDecorator:function(a){return b("installUFI2ComposerInputDecorators")(a,c)}}}}),null);
__d("EmoticonSpan.react",["cx","EmoticonsList","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=16;function a(a){var c=a.children,d=a.contentState,e=a.entityKey;a=(a=a.size)!=null?a:i;if(e==null)return null;d=d.getEntity(e).getData();e=b("EmoticonsList").emoji[d.type];d=new(b("FBEmojiResource"))(e);e=d.getImageURL(a);return e==null?null:h.jsx("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+e+")",backgroundSize:a+"px "+a+"px",height:a+"px",width:a+"px"},children:h.jsx("span",{className:"_ncl",children:c})})}}),null);
__d("replaceEmoticonsWithEntitiesInEditorState",["invariant","CharacterMetadata","EditorState","EmoticonsList","immutable"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("immutable").List;function a(a){var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorKey(),e=a.getCurrentContent(),f=e.getBlockMap().reduce(function(a,e){var f=e.getText(),i=f.split(b("EmoticonsList").regexp);if(i.length===1)return a;var j=i.splice(0,1).join(""),k=[];while(i.length){var l=i.splice(0,2);if(i.length<2&&l[0].length+(l[1]?l[1].length:0)===0)continue;l.length===2||g(0,5882,l.join(", "));k.push(l)}var m=e.getKey()===d,n=j.length,o=e.getCharacterList(),p=f;k.forEach(function(d,f){var g=d[0],i=d[1];if(!b("EmoticonsList").emotes[i]||e===a.getLastBlock()&&f===k.length-1||m&&c.anchorOffset>=n+g.length&&c.anchorOffset<=n+g.length+i.length||function(){for(var a=0;a<i.length;a++)if(e.getEntityAt(n+g.length+a)!=null)return!0;return!1}())n+=d[0].length+d[1].length;else{f=a.createEntity("EMOTICON","IMMUTABLE",{originalEmoticon:i,type:b("EmoticonsList").emotes[i]});d=f.getLastCreatedEntityKey();f=n+g.length;p=p.slice(0,f)+"\u3000"+p.slice(f+i.length);o=o.slice(0,f).concat(h.of(b("CharacterMetadata").applyEntity(o.get(f),d)),o.slice(f+i.length));n=f+1}});if(f!==p){l=e.merge({characterList:o,text:p});var q;if(m){i=c.getAnchorOffset()-(e.getLength()-l.getLength());q={selectionAfter:c.merge({anchorOffset:i,focusOffset:i}),selectionBefore:c}}return a.merge(babelHelpers["extends"]({blockMap:a.getBlockMap().set(e.getKey(),l)},q))}return a},e);if(f===e)return a;else return b("EditorState").push(a,f,"insert-characters")}}),null);
__d("getUpgradedUFI2EmoticonsComposerPlugin",["EmoticonSpan.react","React","getEntityMatcher","installUFI2ComposerInputDecorators","replaceEmoticonsWithEntitiesInEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,c){a.inputProps.onComposerStateChange(function(a){a=babelHelpers["extends"]({},a,c(a));var d=a.inputState;switch(d.__type){case"editor-state-based":var e=b("replaceEmoticonsWithEntitiesInEditorState")(d.editorState);if(e!==d.editorState)return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:e})});else return a;default:return a}})}function a(a){var c={component:b("EmoticonSpan.react"),props:a,strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"})};return{installPlugin:function(a){a.onInstallContentBlockToTextWithEntitiesInputMessageMappers(function(a,b,c,d){d=a.getEntityAt(c);if(d==null)return null;a=b.getEntity(d);if(a.getType()==="EMOTICON"){c=a.getData();b=c.originalEmoticon;return{message:{text:b}}}return null})},render:function(a,d){a.subscriptionsHandler;var e=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);return g.jsx(d,babelHelpers["extends"]({},e,{inputProps:babelHelpers["extends"]({},e.inputProps,{composerState:b("installUFI2ComposerInputDecorators")(e.inputProps.composerState,c),onComposerStateChange:function(b){return h(a,b)}})}))}}}}),null);
__d("HashtagSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){return h.jsx("span",{"data-offset-key":a.offsetKey,dir:a.dir,className:"_5zk7",spellCheck:!1,children:a.children})}}),null);
__d("getUpgradedUFI2HashtagComposerPlugin",["HashtagSpan.react","getHashtagMatches","installUFI2ComposerInputDecorators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a={component:b("HashtagSpan.react"),props:{},strategy:b("getHashtagMatches")};return{installHashtagInputDecorator:function(c){return b("installUFI2ComposerInputDecorators")(c,a)}}}}),null);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadView",["cr:1904265"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1904265");e.exports=a}),null);
__d("createUpgradedUFI2MentionsComposerPlugin",["XUITypeaheadView.react","upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadView"],(function(a,b,c,d,e,f){"use strict";a=b("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadView")(b("XUITypeaheadView.react"));e.exports=a}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function(a,b,c,d,e,f){a=function(){function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};c._attachScrollListener=function(){var a=this,c=this._layer.getContextScrollParent(),d=this._layer.getInsertScrollParent();if(this._listener!=null||c===d)return;this._listener=b("Event").listen(c,"scroll",function(){a._layer.updatePosition()})};c._removeScrollListener=function(){this._listener&&this._listener.remove(),this._listener=null};return a}();e.exports=a;Object.assign(a.prototype,{_subscriptions:[]})}),null);
__d("MentionSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.children,c=a.offsetKey;a.blockKey;a.contentState;a.decoratedText;a.end;a.entityKey;a.start;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","offsetKey","blockKey","contentState","decoratedText","end","entityKey","start"]);return h.jsx("span",babelHelpers["extends"]({},a,{"data-offset-key":c,className:"_247o",spellCheck:!1,children:b}))};return b}(h.Component);e.exports=a}),null);
__d("QueriesHistory",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.reset()}var b=a.prototype;b.getQueries=function(){return this.$2};b.getCurrentLength=function(){return this.$3};b.add=function(a){this.$2.push(a);this.$3+=a.length;while(this.$2.length!==0&&this.$3>this.$1){a=this.$2.shift();this.$3-=a.length}};b.reset=function(){this.$3=0,this.$2=[]};return a}();e.exports=a}),null);
__d("TypeaheadMetricCounter",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.reset()}var b=a.prototype;b.reset=function(){this.stats={},this.avgStats={}};b.recordStat=function(a,b){this.stats[a]=b};b.recordCountStat=function(a){var b=this.stats[a];this.stats[a]=b?b+1:1};b.recordAvgStat=function(a,b){this.avgStats[a]?(this.avgStats[a][0]+=b,this.avgStats[a][1]+=1):this.avgStats[a]=[b,1]};b.hasStats=function(){return!!Object.keys(this.stats).length};b.getStats=function(){var a=babelHelpers["extends"]({},this.stats);for(var b in this.avgStats){var c=this.avgStats[b];a[b]=c[0]/c[1]}return a};return a}();e.exports=a}),null);
__d("TypeaheadMetricReporter",["AsyncRequest","QueriesHistory","Random","TypeaheadMetricCounter","mixInEventEmitter"],(function(a,b,c,d,e,f){var g="/ajax/typeahead/record_basic_metrics.php",h=1e3;a=function(){function a(a){this.counter=new(b("TypeaheadMetricCounter"))(),this.extraData=Object.assign({},a),this.bootstrapped=!1,this.bootstrapBegin=Date.now(),this.queriesHistory=new(b("QueriesHistory"))(h),this.lastQuery=null,this.sessionActive=!1,this.$1()}var c=a.prototype;c.getSID=function(){return this.sid};c.sessionStart=function(){this.sessionActive=!0,this.sessionStartTime=Date.now()};c.sessionEnd=function(){this.sessionActive&&(this.$2(),this.$1(),this.sessionActive=!1)};c.setAdditionalStats=function(a){var b=this;a&&Object.entries(a).forEach(function(a){var c=a[0];a=a[1];b.counter.recordStat(c,a)})};c.sessionPause=function(a){this.sessionActive&&(this.setAdditionalStats(a),this.$2(),this.sessionActive=!1)};c.sessionDeactivate=function(){this.sessionActive=!1};c.reportSelect=function(a,b,c,d,e,f){e=e==null?this.lastQuery:e;this.counter.recordStat("selected_id",a||"SELECT_NULL");this.counter.recordStat("selected_type",b);this.counter.recordStat("selected_position",c);this.counter.recordStat("selected_with_mouse",d?1:0);this.counter.recordStat("selected_query",e);for(var g in f)this.counter.recordStat(g,f[g])};c.reportStrategyName=function(a){this.counter.recordStat("strategy_name",a)};c.reportBootstrapBegin=function(){this.bootstrapBegin=Date.now()};c.reportBootstrapDirty=function(){this.bootstrapped=!1};c.reportBootstrapComplete=function(a){this.counter.recordAvgStat("bootstrap_latency",Date.now()-this.bootstrapBegin);var b={};a.forEach(function(a){b[a]=(b[a]||0)+1});this.counter.recordStat("bootstrap_response_types",b);this.bootstrapped=!0};c.reportQueryBegin=function(a){this.counter.recordStat("query",a),this.counter.recordCountStat("num_queries"),this.queriesHistory.add(a),this.lastNotBackspacedQuery.indexOf(a)!==0&&(this.lastNotBackspacedQuery=a),this.lastQuery=a,this.lastQueryTime=Date.now()};c.reportRequestID=function(a){this.lastRequestID=a,this.requestIDHistory.push(a)};c.reportQueryComplete=function(a,b){this.counter.recordAvgStat("avg_query_latency",a),b!==void 0&&this.counter.recordStat("filtered_count",b)};c.reportResults=function(a,b){this.results=a,b===this.lastQuery&&this.counter.recordStat("last_query_latency",Date.now()-this.lastQueryTime)};c.reportResultsAds=function(a){this.resultsAds=a};c.$1=function(){this.sid=Math.floor(Date.now()*b("Random").random()),this.lastNotBackspacedQuery="",this.queriesHistory.reset(),this.results=null,this.resultsAds=null,this.lastRequestID=null,this.requestIDHistory=[],this.counter.reset(),this.emit&&this.emit("reset",{sid:this.sid})};c.$3=function(){var a={};for(var b in this.extraData){var c=this.extraData[b];a[b]=typeof c==="function"?c():c}return a};c.$2=function(){if(this.counter.hasStats()){this.counter.recordStat("session_time",Date.now()-this.sessionStartTime);this.results&&this.counter.recordStat("candidate_results",JSON.stringify(this.results));this.resultsAds&&this.counter.recordStat("candidate_results_ads",JSON.stringify(this.resultsAds));this.sid&&this.counter.recordStat("sid",this.sid);this.lastNotBackspacedQuery&&this.counter.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.counter.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));this.bootstrapped&&this.counter.recordStat("bootstrapped",1);this.lastRequestID&&this.counter.recordStat("request_id",this.lastRequestID);this.requestIDHistory.length&&this.counter.recordStat("request_ids",this.requestIDHistory);var a=babelHelpers["extends"]({},this.counter.getStats(),this.$3());new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData({stats:a}).send();this.emit&&this.emit("submitted",a)}};return a}();e.exports=a;b("mixInEventEmitter")(a,{reset:!0,submitted:!0})}),null);
__d("TypeaheadNavigation",[],(function(a,b,c,d,e,f){f.moveUp=a;f.moveDown=b;function a(a,b,c){if(b==null)c(a[0]);else{b=a.indexOf(b);b=b==0?a.length-1:b-1;c(a[b])}}function b(a,b,c){b=b!=null?(a.indexOf(b)+1)%a.length:0;c(a[b])}}),null);
__d("WeakMentionSpan.react",["cx","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:!1,children:this.props.children})};return b}(h.Component);e.exports=a}),null);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadView.stable",["fbt","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DataSource","FBLogger","Keys","MentionSpan.react","MultiBootstrapDataSource","React","SubscriptionsHandler","TypeaheadMetricReporter","TypeaheadNavigation","UnicodeUtils","WeakMentionSpan.react","addMentionableEntityToComposerState","getEntityMatcher","getMentionableRect","getMentionsSearchSource","installUFI2ComposerInputDecorators","shallowEqual","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=(c=b("Keys")).DOWN,j=c.ESC,k=c.RETURN,l=c.TAB,m=c.UP,n=b("React"),o={component:b("MentionSpan.react"),strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"})},p={component:b("WeakMentionSpan.react"),strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"?!!((a=a.getData())==null?void 0:a.isWeak):!1})};function q(a,c,d,e,f,g){switch(f){case"MentionsAutocomplete/cancel":s(a);d(function(a){return{mentionableEntities:[],selectedMentionableEntity:void 0}});return"handled";case"MentionsAutocomplete/next-mention":d(function(a){var c=null;b("TypeaheadNavigation").moveDown(a.mentionableEntities,a.selectedMentionableEntity,function(a){c=a});return{selectedMentionableEntity:c}});return"handled";case"MentionsAutocomplete/previous-mention":d(function(a){var c=null;b("TypeaheadNavigation").moveUp(a.mentionableEntities,a.selectedMentionableEntity,function(a){c=a});return{selectedMentionableEntity:c}});return"handled";case"MentionsAutocomplete/select-mention":if(c.selectedMentionableEntity!=null){r(a,c,c.selectedMentionableEntity,"return-key",e);s(a);return"handled"}break}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(f,g):"not-handled"}function r(a,c,d,e,f){f.reportSelect(d.getUniqueID(),d.getType(),c.mentionableEntities.indexOf(d),e==="click"),f.sessionEnd(),f.sessionStart(),a.inputProps.onComposerStateChange(function(a){return b("addMentionableEntityToComposerState")(a,d,c.characterOffset)})}function s(a,b){a.inputProps.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{ariaInputs:b})})}function t(a,b,c,d){if(b.mentionableEntities.length&&c&&c.layer&&c.layer.isShown())switch(d.keyCode){case i:d.preventDefault();return"MentionsAutocomplete/next-mention";case j:d.preventDefault();return"MentionsAutocomplete/cancel";case k:if(b.selectedMentionableEntity){d.preventDefault();return"MentionsAutocomplete/select-mention"}break;case l:if(b.selectedMentionableEntity){d.preventDefault();return"MentionsAutocomplete/select-mention"}break;case m:d.preventDefault();return"MentionsAutocomplete/previous-mention"}return a.inputProps.keyBindingFn?a.inputProps.keyBindingFn(d):null}function u(a,c,d,e,f,g){d=d.inputProps.composerState.inputState;switch(d.__type){case"editor-state-based":var h=d.editorState.getCurrentContent();d=d.editorState.getSelection();if(d.getHasFocus()===!1){(e.characterOffset!==0||e.mentionableEntities.length!==0)&&f(function(a){return{characterOffset:0,mentionableEntities:[]}});return}g().addSubscriptions(c.search(h,d,function(c,d){var g=a.typeaheadViewProps,h=d||0,i=c||[];g!=null&&g.sortFn!=null&&i.sort(g.sortFn);i=i.slice(0,a.maxResults);d=!b("shallowEqual")(e.mentionableEntities,i);if(i.length===0&&d===!1)return;var j=i.includes(e.selectedMentionableEntity)?e.selectedMentionableEntity:i[0];if(e.characterOffset===h&&e.selectedMentionableEntity===j&&d===!1)return;f(function(a){return{characterOffset:h,mentionableEntities:i,selectedMentionableEntity:j}})}));break;default:return}}function a(a){return function(c,d){var e,f,i=new(b("TypeaheadMetricReporter"))({event_name:"tinder_mentions"}),j=b("uniqueID")(),k=function(){if(c.mentions_datasource_js_constructor_args_json!=null){var a;try{a=JSON.parse(c.mentions_datasource_js_constructor_args_json),c.maxResults!=null&&(a[0]=babelHelpers["extends"]({},a[0],{maxResults:c.maxResults,queryData:a[0].queryData=babelHelpers["extends"]({},a[0].queryData,{max_result:c.maxResults})}))}catch(a){b("FBLogger")("ufi2").warn("Failed to parse `mentions_datasource_js_constructor_args_json` The mentions autocomplete is disabled for this user. (JSON string was: `%s`. Config was: `%s`.)",c.mentions_datasource_js_constructor_args_json,JSON.stringify(c))}if(a){var d=a[0];d=(d==null?void 0:(d=d.bootstrapEndpoints)==null?void 0:d.length)>0?babelHelpers.construct(b("MultiBootstrapDataSource"),a):babelHelpers.construct(b("DataSource"),a);return b("getMentionsSearchSource")(d,i)}}else b("FBLogger")("ufi2").warn("Failed to fetch `mentions_datasource_js_constructor_args_json` for use in the UFI composer mentions plugin. The mentions autocomplete is disabled for this user.");return b("getMentionsSearchSource")(new(b("DataSource"))({}),i)}();d&&k.bootstrap();function l(a){i.sessionEnd()}function m(a){k.bootstrap(),i.sessionStart()}var v;function w(){v==null&&(v=new(b("SubscriptionsHandler"))());return v}return{componentDidUpdate:function(a,b,d,e,f){var g=d.inputProps.composerState.inputState;a=a.inputProps.composerState.inputState;g.__type==="editor-state-based"&&(a.__type!=="editor-state-based"||a.__type==="editor-state-based"&&a.editorState!==g.editorState)&&u(c,k,d,e,f,w);a=b.selectedMentionableEntity?b.selectedMentionableEntity.getUniqueID():null;g=e.selectedMentionableEntity?e.selectedMentionableEntity.getUniqueID():null;g!=null&&g!==a&&s(d,{"aria-activedescendant":g,"aria-controls":j})},componentWillUnmount:function(){var a;(a=v)==null?void 0:a.release();v=void 0;i.sessionDeactivate()},installPlugin:function(a,d,e){a.onInstallContentBlockToTextWithEntitiesInputMessageMappers(function(a,c,d,e){var f=a.getEntityAt(d);if(f==null)return null;c=c.getEntity(f);if(c.getType()==="MENTION"){f=a.getText().slice(d,e);a=c.getData();e=a.id;if(/^\d+$/.test(e)){return{entitiesByID:(a={},a[e]=c,a),message:{ranges:[{entity:{id:e},entity_is_weak_reference:c.isWeak,length:(h||(h=b("UnicodeUtils"))).strlen(f),offset:d}],text:f}}}}return null}),u(c,k,a,d,e,w)},render:function(d,h,k,u){return n.jsxs(n.Fragment,{children:[n.jsx(u,babelHelpers["extends"]({},d,{inputProps:babelHelpers["extends"]({},d.inputProps,{composerState:b("installUFI2ComposerInputDecorators")(d.inputProps.composerState,p,o),handleKeyCommand:function(a,b){return q(d,h,k,i,a,b)},keyBindingFn:function(a){return t(d,h,f,a)},onBlur:function(a){d.inputProps.onBlur&&d.inputProps.onBlur(a);s(d);k(function(a){return{mentionableEntities:[],selectedMentionableEntity:void 0}});if(a.isDefaultPrevented())return;l(a)},onFocus:function(a){d.inputProps.onFocus&&d.inputProps.onFocus(a);if(a.isDefaultPrevented())return;m(a)},onInputRefUpdated:function(a){e=a,d.inputProps.onInputRefUpdated&&d.inputProps.onInputRefUpdated(a)}})})),h.mentionableEntities.length?n.jsx(b("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextBounds:b("getMentionableRect")(h.characterOffset,!1),contextRef:function(){return e},"data-testid":void 0,offsetX:0,offsetY:5,position:"below",ref:function(a){f=a},shown:!0,children:n.jsx(a,babelHelpers["extends"]({},c.typeaheadViewProps,{controlleeID:j,entries:h.mentionableEntities,highlightedEntry:h.selectedMentionableEntity,label:g._("G\u1ee3i \u00fd nh\u1eafc \u0111\u1ebfn"),onHighlight:function(a){k({selectedMentionableEntity:a})},onSelect:function(a,b){b.preventDefault(),r(d,h,a,"click",i)}}))}):null]})}}}}}),null);
__d("getUpgradedUFI2PrefillMentionComposerPlugin",["DraftModifier","EditorState","FBLogger","SelectionState","createMentionEntityForContentState","getPlainTextFromUFI2InputState","replaceSelectionWithMention"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,c){var d=a.inputState,e,f,g;switch(d.__type){case"editor-state-based":e=b("getPlainTextFromUFI2InputState")(d);f=d.editorState;g=!1;if(e.length>0&&f.getCurrentContent().getBlocksAsArray().length===1){g=!0;var h=null,i=f.getCurrentContent().getFirstBlock(),j=i.getText().trim();for(var k=0;k<j.length;k++){var l=i.getEntityAt(k);l=l!=null?f.getCurrentContent().getEntity(l):null;if(l==null||l.getType()!=="MENTION"||k>0&&l.getData().id!==h){g=!1;break}h=l.getData().id}}if(e.trim()===""||g){l=b("replaceSelectionWithMention")(c,f,new(b("SelectionState"))({anchorKey:f.getCurrentContent().getFirstBlock().getKey(),anchorOffset:0,focusKey:f.getCurrentContent().getLastBlock().getKey(),focusOffset:f.getCurrentContent().getLastBlock().getLength()}),b("createMentionEntityForContentState")).getCurrentContent();i=c.getTitle().length;f=b("EditorState").push(f,b("DraftModifier").insertText(l,b("SelectionState").createEmpty(f.getCurrentContent().getLastBlock().getKey()).merge({anchorOffset:i,focusOffset:i})," "),"insert-fragment");return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:b("EditorState").moveFocusToEnd(f)})})}else return null;case"plain-text":d.text.trim()===""&&b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention but the composer state was of the `plain-text` type. Adding mentions to a plain-text composer is not yet implemented (T29402486).");return null;default:return d.__type}}function a(){return{handleCommand:function(a,b){a.__type==="PrefillMention"&&b.onComposerStateChange(function(b){return g(b,a.mentionableEntity)}),b.handleCommand&&b.handleCommand(a)}}}}),null);
__d("useOzImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useOzImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useProgressiveImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProgressiveImplementationData_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useShakaImplementationData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useShakaImplementationData_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaLiveP2PInit",kind:"LinkedField",name:"video_player_shaka_live_p2p_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"json_encoded_video_data",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoImplementationsImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsImpl_video",selections:[{args:null,kind:"FragmentSpread",name:"useOzImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useShakaImplementationData_video"},{args:null,kind:"FragmentSpread",name:"useProgressiveImplementationData_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("gkx")("1779508")}}),null);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.maybeRetryForVariant=g;f.evaluateOneSemanticsResponse=a;f.isOneSemanticsEnabledForWave=h;f.getOneSemanticRequestWave=i;f.shouldRespondWithOneSemantics=c;f.getOneSemanticResponseWave=j;function g(a,b){b!=null&&(b.indexOf("+RE")>=0&&a.retry())}function a(a){var c=a.error;c=c.getExtra();var d=c.code;c=c.headers;var e=null;d==null&&b("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");c==null&&b("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(c!=null){c=c.get("x-fb-one-variant");e=(c=c)!=null?c:null}switch(d){case"410":a.endStream();break;case"404":g(a,e);break;default:}}function h(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function i(a){if(a!=null){a=b("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function c(a){var c=j(a);if(c!=null){a=a.getExtra();var d=a.code;a=a.url;if(d==null){b("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=i(a);a=d!=null;return(a||!!b("qex")._("1959789"))&&h(c,d)}return!1}function j(a){a=a.getExtra();a=a.headers;if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}}),null);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");var g=b.error.getExtra().code;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry(d);else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"502":case"503":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry(d);break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}}),null);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code,d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){b.retry(d*1e3);return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){b.retry(e);return}}}),null);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent","qex"],(function(a,b,c,d,e,f){"use strict";f.handleManifestFetchErrorEvent=a;f.handleStreamErrorEvent=c;function a(a,c){var d=c.error;!!b("qex")._("1959788")&&b("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(d)?b("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(c):b("handleOzManifestFetchErrorEvent")(a,c)}function c(a,c){var d=c.error;!!b("qex")._("1959788")&&b("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(d)?b("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(c):b("handleOzStreamErrorEvent")(a,c)}}),null);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var c=a.prototype;c.schedule=function(a,c,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:c},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<c});d?this.$3(f):(this.$1.push(f),b("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};c.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};c.$3=function(a){var c=this;this.$2.push(a);a.load().then(function(){return c.$6(a)})["catch"](function(b){c.$6(a);throw b});b("setTimeout")(function(){return c.$6(a)},a.maximumBlockTimeMs)};c.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};c.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};c.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();c=new a();d=c;e.exports=d}),null);
__d("VideoPlayerOzImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeOzImplementationData=a;function a(a){var b=a.canUseOz,c=a.dashManifest,d=a.dashUrl,e=a.experimentationConfig,f=a.minQualityPreference,g=a.ozQuickStarterData;a=a.videoFBID;if(b!==!0||a==null)return null;b=c==null||c===""?null:c;a=d==null||d===""?null:d;if(b==null&&a==null)return null;return e==null?null:{experimentationConfig:e,manifest:b,manifestUrl:a,minQualityPreference:(c=f)!=null?c:null,ozQuickStarterData:(d=g)!=null?d:null}}}),null);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}}),null);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerOzImplementationEngineExtrasAPI=a;c=b("emptyFunction");function g(a){return a.getSelectedVideoQuality()}function h(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getQualityLabel()}function i(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function j(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function k(a,b){var c=i(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function a(a){var c=a.getConfig,d=a.getOzPlayer,e=a.getOzQuickStarter,f=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getAudioRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingVideoQuality:function(){var a=d();return a?h(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?g(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getStreamType:function(){return"dash"},getUserSelectedVideoQuality:function(){var a=d();return a?i(a):""},getVideoProjectionType:function(){var a=d();return a!=null?j(a):null},getVideoRepresentationIDAtTime:function(a){var b,c;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);c=(c=e())==null?void 0:c.getVideoRepresentationIDAtTime(a);return(b=(a=b)!=null?a:c)!=null?b:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){b("handleVideoPlayerLatencyLevelChange")(c(),f(),d(),a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&k(b,a)}};return a}}),null);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();e.exports=a}),null);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){f.createOzCustomParser=a;function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}]])}}),null);
__d("oz-player/shims/www/OzURIWWW",["URI"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){this.$1=new(g||(g=b("URI")))(a)}var c=a.prototype;c.addQueryData=function(a,b){this.$1.addQueryData(a,b)};c.getQueryData=function(){return this.$1.getQueryData()};c.getDomain=function(){return this.$1.getDomain()};c.toString=function(){return this.$1.toString()};c.getPath=function(){return this.$1.getPath()};return a}();e.exports=a}),null);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzURIWWW");e.exports=a}),null);
__d("OzCustomRepresentationParsers",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){f.createOzCustomRepresentationParsers=a;function a(a){var c=a.ozConfig,d=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};c.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(d!=null&&d>0)return null;try{var c=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),e={startByte:c[0],endByte:c[1]},f=new(b("oz-player/shims/OzURI"))(a.BaseURL[0]._);return{getURI:function(){return f},getByteRange:function(){return e},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null}}}catch(a){return null}});return a}}),null);
__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.hasCacheValue=function(a){return b("VideoDashPrefetchCache").hasCacheValue(a)};c.getCacheValue=function(a){return b("VideoDashPrefetchCache").getCacheValue(a)};c.getCachedRepresentations=function(a){return null};return a}();e.exports=a}),null);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g){a=g;e.exports=a}),null);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f){a=b("oz-player/shims/www/ozvariantWWW");e.exports=a}),null);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b;var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}}),null);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f){"use strict";var g=.01;function h(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a.rangeStart-b)>g&&a.rangeStart>b}function i(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a===null||a===void 0)return!0;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function j(a,b,c){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a-b)>((c=c)!=null?c:g)&&a>b}function k(a,b){return a>b-g}a=function(){function a(){}var c=a.prototype;c.mergeSortedRanges=function(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!i(e,c))continue;else h(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b};c.diffSortedRanges=function(a,b){return a.reduceRight(function(a,c){j(c.rangeStart,b)||j(b.rangeStart,c)?a.push(c):(b.rangeEnd!=null&&(c.rangeEnd==null||j(c.rangeEnd,b))&&a.push({rangeStart:b.rangeEnd,rangeEnd:c.rangeEnd}),k(b.rangeStart,c.rangeStart)&&a.push({rangeStart:c.rangeStart,rangeEnd:b.rangeStart}));return a},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()};c.findCurrentRangeIndex=function(a,b,c){c===void 0&&(c=g);for(var d=0;d<b.length;d++){var e=b[d],f=e.rangeStart;if(k(a,f)&&!j(a,e,c))return d}return-1};c.findNextRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!k(a,d))return c}return-1};c.findDiffCoveredByRanges=function(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)};c.firstAddedInSortedRanges=function(a,c){var d=null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<c.length;g++){var h=c[g];if(b("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&b("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!b("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){d={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&b("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!b("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){d={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(d!==null)break}return d};c.convertFromTimeRanges=function(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b};return a}();e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";var g=1e-4;a=function(){function a(a,c,d,e,f,g){g===void 0&&(g=!1),this.$7=new(b("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=c,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var c=a.prototype;c.getSegmentByTime=function(a){a=this.$8.getBool("live_query_time_in_range")?this.$12(a):a;a=a*this.$3;var c=null;for(var d=this.$4.length-1;d>=0;d--){var e=this.$4[d];if(b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;c=e}if(c===null)return null;if(this.$8.getBool("live_no_segment_when_playhead_is_before_first_segment")&&b("oz-player/utils/OzNumericalHelper").greaterThan(c.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-c.t+this.$9)/c.d));return this.$13(c,e)};c.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};c.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};c.getPredictedSegmentAfter=function(a){return null};c.canPredict=function(){return!1};c.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<g};c.updateWith=function(c){c instanceof a||b("oz-player/shims/ozvariant")(0,646),this.$6=c.$6,this.$14(c.$4),this.$15(c.$4),this.$7.emit("segment_updated")};c.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};c.blockTimeRange=function(a){this.$10=a};c.$16=function(a,c){return new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:c.startTime,rangeEnd:c.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};c.$12=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};c.$17=function(a,c){if(a.d!==c.d)return!1;var d=a.t+a.d*a.r,e=c.t+c.d*c.r;return b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual(a.t,e,this.$9)||b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual(c.t,d,this.$9)?!1:Number.isInteger((a.t-c.t)/a.d)};c.$14=function(a){if(this.$8.getBool("copy_new_manifest")){var c;(c=this.$4).splice.apply(c,[0,this.$4.length].concat(a));return}if(this.$8.getBool("use_loose_manifest_updates")){(c=this.$4).splice.apply(c,[this.$4.length,0].concat(a));this.$4.sort(function(a,b){if(a.t<b.t)return-1;else if(a.t>b.t)return 1;return a.d===b.d?a.r-b.r:0});c=[];for(var d=0,e=d+1;e<this.$4.length;){var f=this.$4[d],g=this.$4[e];if(f.t===g.t){if(f.d>g.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new.",extra:{code:"OZ_RP-1"}});f.d=g.d;f.r=Math.max(f.r,g.r);f.id=g.id;e++;continue}else c.push(this.$4[d]),d=e,e++}this.$4.length>0&&c.push(this.$4[this.$4.length-1]);(f=this.$4).splice.apply(f,[0,this.$4.length].concat(c));return}g=this.$4.length-1;d=a.length-1;e=g;f=d;c=JSON.stringify(this.$4);while(g>=0&&d>=0){var h=this.$4[g],i=a[d];if(b("oz-player/utils/OzNumericalHelper").equalTo(h.t,i.t,this.$9)){var j=g===e||d===f,k=j&&(g!==e&&i.r>h.r||d!==f&&h.r>i.r);j=!j&&h.r!==i.r||k;if(j)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+c+"\n            , new groups: "+JSON.stringify(a),extra:{code:"OZ_RP-2"}});if(this.$8.getBool("throw_on_non_zero_r_d_mismatch")&&h.r>0&&h.d!==i.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Duration mismatch between non-zero repeat tag and new.",extra:{code:"OZ_RP-3"}});h.r=Math.max(h.r,i.r);h.id!=null&&i.id!=null&&(h.id=Math.max(h.id,i.id));if(this.$8.getBool("fix_template_duration_artifact_in_manifest")){if(h.d>i.d)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Previous segment group duration greater than new.",extra:{code:"OZ_RP-4"}});h.d=i.d}g--;d--}else if(b("oz-player/utils/OzNumericalHelper").greaterThan(i.t,h.t,this.$9))this.$4.splice(g+1,0,i),d--;else{if(this.$17(h,i))throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged",extra:{code:"OZ_RP-5"}});g--}}if(d>=0){(k=this.$4).unshift.apply(k,a.slice(0,d+1))}};c.$15=function(a){a=this.$11(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};c.$11=function(a){var c=this;a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$4.map(function(a){var b=c.$13(a,0).getTimeRange().startTime;a=c.$13(a,a.r).getTimeRange().endTime;return{rangeStart:b,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};c.$13=function(a,c){var d=this;c===void 0&&(c=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*c,i=this.$8.getBool("use_sc_timebased_segments"),j=this.$8.getBool("use_scf_timebased_segments"),k=this.$8.getBool("touch_cb_key"),l=a!=null?a-(g-c):null;return{getURI:function(){var a=d.$8.getBool("use_templated_pdash_segments")&&d.$1!=null&&l!=null?d.$1.replace("$Number$",l.toString()):d.$2.replace("$Time$",h.toString());a=new(b("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_sc",1);j&&a.addQueryData("_nc_scf",1);var c=a.getQueryData().cb;k&&c!=null&&a.addQueryData("cb",c+"_oz");return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null}}};c.getSegmentGroups=function(){return this.$4};c.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};c.forceParseIfNotParsed=function(){};c.getMaxGopSec=function(){return null};return a}();e.exports=a}),null);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/ozvariant");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j){j===void 0&&(j=!1);c=a.call(this,b,c,d,e,null,j)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer10=null;c.$PredictedSegmentTemplateSegmentsContainer8=j;c.$PredictedSegmentTemplateSegmentsContainer11=e;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=d;c.$PredictedSegmentTemplateSegmentsContainer1=f;c.$PredictedSegmentTemplateSegmentsContainer3=h;c.$PredictedSegmentTemplateSegmentsContainer2=g;c.$PredictedSegmentTemplateSegmentsContainer4=i;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(var j=0;j<c.$PredictedSegmentTemplateSegmentsContainer11.length;j++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer11[j].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var d=c.prototype;d.$PredictedSegmentTemplateSegmentsContainer12=function(a,c,d){var e=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",d.toString()),f=this.$PredictedSegmentTemplateSegmentsContainer7.getBool("touch_cb_key");return{getByteRange:function(){return null},getSequenceNumber:function(){return d},getTimeRange:function(){return{endTime:c,startTime:a}},getURI:function(){var a=new(b("oz-player/shims/OzURI"))(e),c=a.getQueryData().cb;f&&c!=null&&a.addQueryData("cb",c+"_oz");return a}}};d.updateWith=function(b){b instanceof c||g(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=b.$PredictedSegmentTemplateSegmentsContainer3;a.prototype.updateWith.call(this,b);this.$PredictedSegmentTemplateSegmentsContainer11=b.$PredictedSegmentTemplateSegmentsContainer11;this.$PredictedSegmentTemplateSegmentsContainer8=b.$PredictedSegmentTemplateSegmentsContainer8;for(var b=0;b<this.$PredictedSegmentTemplateSegmentsContainer11.length;b++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer11[b].d,this.$PredictedSegmentTemplateSegmentsContainer9)};d.getSegmentByTime=function(a){return this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getBool("pdash_seq_based_approx",!1)&&this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null?this.$PredictedSegmentTemplateSegmentsContainer13(a):this.$PredictedSegmentTemplateSegmentsContainer14(a)};d.getPredictedSegmentAfter=function(a){return a!=null&&a.getSequenceNumber()!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer12(0,0,a.getSequenceNumber()+1):null};d.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer10=b,a.prototype.blockTimeRange.call(this,b)};d.getTimeRanges=function(){if(this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getBool("pdash_seq_based_approx",!1)&&this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null){var c=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer11[this.$PredictedSegmentTemplateSegmentsContainer11.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer11[this.$PredictedSegmentTemplateSegmentsContainer11.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer11[0].t-this.$PredictedSegmentTemplateSegmentsContainer4-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer11.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(this.$PredictedSegmentTemplateSegmentsContainer4))/this.$PredictedSegmentTemplateSegmentsContainer5}],d=this.$PredictedSegmentTemplateSegmentsContainer10;return!this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getBool("pdash_seq_based_approx_use_blockedrange",!1)||d==null?c:new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(c.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:d.endTime,rangeStart:d.startTime}).map(function(a){return{endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};d.canPredict=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("num_predictive_segments",0);return a>0};d.$PredictedSegmentTemplateSegmentsContainer14=function(a){var c=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var d=0;for(var e=0;this.$PredictedSegmentTemplateSegmentsContainer11.length-1-e>=0;e++){var f=this.$PredictedSegmentTemplateSegmentsContainer11[this.$PredictedSegmentTemplateSegmentsContainer11.length-1-e];f.r===0||g(0,18769);if(b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(f.t+f.d*(f.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;c=f;d=e}if(c===null)return null;else return this.$PredictedSegmentTemplateSegmentsContainer12(c.t/this.$PredictedSegmentTemplateSegmentsContainer5,(c.t+c.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-d)};d.$PredictedSegmentTemplateSegmentsContainer13=function(a){var c=a*this.$PredictedSegmentTemplateSegmentsContainer5,d=this.getTimeRanges();if(b("oz-player/utils/OzNumericalHelper").greaterThan(d[0].startTime,a))return null;else if(b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer11[0].t,c))return this.$PredictedSegmentTemplateSegmentsContainer14(a);else{d=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer11[0].t-c)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));c=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer11.length+1-d);return this.$PredictedSegmentTemplateSegmentsContainer12(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,c)}};d.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};d.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer11.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer11[this.$PredictedSegmentTemplateSegmentsContainer11.length-1];return this.$PredictedSegmentTemplateSegmentsContainer12(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};d.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return c}(b("oz-player/manifests/SegmentTemplateSegmentsContainer"));e.exports=a}),null);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";f.joinRelativeUrlPaths=j;f.joinUrlPaths=a;function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function a(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}}),null);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var c=a.prototype;c.parseSegmentsContainer=function(c,d,e){return new(b("oz-player/manifests/SegmentTemplateSegmentsContainer"))(c,b("oz-player/utils/OzUrlHelper").joinUrlPaths(d.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),a.parseSegments(c,e),null,d.isStaticMpd)};return a}();e.exports=a}),null);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.parseSegmentsContainer=function(a,c,d){var e;if(d.SegmentTimeline[0].$.FBPredictedMedia){e=b("oz-player/utils/OzUrlHelper").joinUrlPaths(c.baseUrl,d.SegmentTimeline[0].$.FBPredictedMedia);var f=new(b("oz-player/shims/OzURI"))(e);f.addQueryData("_nc_sc",1);e=f.toString()}var g;d.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(g=Number.parseInt(d.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var h;d.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(h=Number.parseInt(d.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var i;d.SegmentTimeline[0].$.FBAverageDuration&&(i=Number.parseInt(d.SegmentTimeline[0].$.FBAverageDuration,0));f=b("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,d);return(c.isTemplatedMpd&&g!=null&&i!=null||!c.isTemplatedMpd)&&e!=null&&h!=null?new(b("PredictedSegmentTemplateSegmentsContainer"))(a,b("oz-player/utils/OzUrlHelper").joinUrlPaths(c.baseUrl,d.$.media),Number.parseInt(d.$.timescale,10),f,e,g,h,i,c.isStaticMpd):new(b("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,b("oz-player/utils/OzUrlHelper").joinUrlPaths(c.baseUrl,d.$.media),Number.parseInt(d.$.timescale,10),f,e,c.isStaticMpd)};return a}();e.exports=a}),null);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var c=a.prototype;c.onResponse=function(a,c){var d=this,e=a.headers,f=null;if(!this.$1)return null;a=new(b("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(c);g&&(a.lat=Math.round(g.responseStart-g.requestStart).toString());d.$1&&e&&d.$1(e,f,a)});this.$2&&a.addListener("writableWrite",function(a){f===null?f=[a]:f.push(a)});return a};c.onError=function(a,b){return null};return a}();e.exports=a}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||g(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||g(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};f.base64ToUint8Array=a;b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.arrayBufferToBase64=b}),null);
__d("OzWidevineDrmProvider",["URI","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a,c,d,e,f){this.$2=[];this.$4=!0;this.$5=!1;f!==void 0&&f!==null&&f!==""&&(this.$1=b("oz-player/drm/OzDrmUtils").base64ToUint8Array(f));if(c!==null&&c!==void 0&&e!==null&&e!==void 0){f=new(g||(g=b("URI")))(c);f.addQueryData("access_token",e);this.$3=f.toString();this.$5=!0;this.$4=!1}else{c=d["0"];if(c===void 0||c===null){c="/video/drm/getlicense";e=new(g||(g=b("URI")))(c);e.addQueryData("video_id",a);this.$3=e.toString()}else this.$3=c}}var c=a.prototype;c.getKeySystem=function(){return"com.widevine.alpha"};c.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};c.getInitDatas=function(){return this.$2};c.setInitDatas=function(a){this.$2=a};c.getRequireDistinctiveIdentifier=function(){return"optional"};c.getRequirePersistentState=function(){return"optional"};c.getInitDataTypes=function(){return};c.getDrmSessionTypes=function(){return["temporary"]};c.getAudioRobustness=function(){return""};c.getVideoRobustness=function(){return""};c.getServerCertificate=function(){return this.$1};c.getLicenseRequestInfo=function(a){var c={url:this.$3,method:"POST",body:"",headers:{}};this.$4&&(c.credentials="include");a=b("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var d={request:a};c.body=JSON.stringify(d);c.headers["Content-Type"]="application/json"}else c.body=a,c.headers["Content-Type"]="application/text";return c};c.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var c;try{c=JSON.parse(a)}catch(a){c=void 0}var d;if(c!==void 0&&c.data!==void 0&&c.data.length===1){c=c.data[0];c.error!==null&&c.error!==void 0||(d=c.license)}else d=a;return d!==void 0&&d!==null&&d!==""?b("oz-player/drm/OzDrmUtils").base64ToUint8Array(d):null};return a}();e.exports=a}),null);
__d("OzDOMEventListenerImpl",["cr:1351686"],(function(a,b,c,d,e,f){"use strict";a={listenDOMEvent:b("cr:1351686").listen,captureDOMEvent:b("cr:1351686").capture,suppressDOMEvent:b("cr:1351686").suppress};c=a;e.exports=c}),null);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");e.exports=a}),null);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzDOMEventListenerWWW");e.exports=a}),null);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=b("SubscriptionsHandler");e.exports=a}),null);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzSubscriptionsHandlerWWW");e.exports=a}),null);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f){"use strict";a=b("throttle");e.exports=a}),null);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/ozThrottleWWW");e.exports=a}),null);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";f.hasEnoughBuffer=a;f.hasBufferedToOrReachedEnd=h;f.getBufferAheadFromPlaybackStates=b;f.getBufferAheadFromCurrentTime=i;f.getNumericalRangesFromSourceBuffer=c;f.hasEnoughPartialBuffer=d;e=.1;f.BUFFER_UNDERFLOW_THRESHOLD=e;a=1;f.BUFFER_OVERFLOW_THRESHOLD=a;var g=.2;f.BUFFER_FUDGE_FACTOR=g;function a(a,b,c){if(h(a,c))return!0;c=a.currentTime;var d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function h(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),h=a.buffered.end(e);if(f<=c&&h>=c){d=h;break}}return Math.abs(d-b)<=g||Math.abs(c-b)<=g}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return i(b,a.getBufferedRanges())}function i(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];e.startTime<=a&&e.endTime>a&&(c=e)}return!c?0:c.endTime-a}function c(a){var b=[];for(var c=0;c<a.buffered.length;c++)b.push({rangeStart:a.buffered.start(c),rangeEnd:a.buffered.end(c)});return b}function d(a,b,c,d){if(c.length===0||b.size===0)return!1;var e=null;for(var f=0;f<c.length;f++){var g=c[f],h=b.get(g);if(h!=null){h=h.getBufferedRanges();for(var i=0;i<h.length;i++)if(h[i].startTime<=a&&h[i].endTime>=a){e=g;break}}if(e!=null)break}if(e==null)return!1;var k=!0;b.forEach(function(c,b){if(e===b)return;b=c.getBufferedRanges();b.forEach(function(b){k=j(a,b.endTime,d,k)})});return!k}function j(a,b,c,d){return a-b<c?!1:d}}),null);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var c=a.prototype;c.handleEvent=function(a,c,d){if(a.type==="pause"||c.paused)return new h(this.$1,this.$2);a=this.$3 instanceof i?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(c,a,d)?new i(this.$1,this.$2):this};return a}();f.OzVideoBufferingState=g;var h=function(){function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.handleEvent=function(a,c,d){return a.type==="play"||a.type==="playing"||!c.paused?b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(c,this.$1.getStartBufferUnderflowTarget(),d)?new i(this.$1,this.$2):new g(this.$1,this.$2,this):this};return a}();f.OzVideoPausedState=h;var i=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var c=a.prototype;c.handleEvent=function(a,c,d,e){e===void 0&&(e=new Map());if(a.type==="pause"||c.paused)return new h(this.$1,this.$2);return this.$2.getBool("buffer_when_waiting",!1)&&a.type==="waiting"||!b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(c,this.$1.getInPlayBufferUnderflowTarget(),d)&&!this.$4(a,c.currentTime,e)?new g(this.$1,this.$2,this):this};c.$4=function(a,c,d){return this.$2.getBool("buffer_when_waiting_in_partial_buffer",!1)&&a.type==="waiting"?!1:b("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(c,d,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();f.OzVideoPlayingState=i}),null);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var c=a.prototype;c.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};c.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return b("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",b("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};c.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};c.notifyBufferingEnd=function(){this.$4=b("oz-player/shims/OzPerformance").now()};c.notifyStreamInterrupted=function(){this.$2=!0};c.notifyStreamResumed=function(){this.$2=!1,this.$3=b("oz-player/shims/OzPerformance").now()};c.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||b("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();e.exports=a}),null);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzDOMEventListener"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").captureDOMEvent,h=b("oz-player/shims/OzDOMEventListener").suppressDOMEvent;a=function(){function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.capture=function(a,b){var c=this,d=this.$1.parentNode;return!d?{remove:function(){}}:g(d,a,function(a){if(a.target!==c.$1)return;var d=b(a);d&&c.$3(a)})};b.dispatchIfSuppressed=function(a){var b=this.$2.get(a);b&&this.$1.dispatchEvent(b);this.$2["delete"](a)};b.$3=function(a){h(a),this.$2.set(a.type,a)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=150;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.$OzBufferingDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))();f.$OzBufferingDetector7=new Map();f.$OzBufferingDetector9=function(a){f.$OzBufferingDetector11(a)};f.$OzBufferingDetector10=function(a){a=f.$OzBufferingDetector11(a)instanceof b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;return f.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1};f.$OzBufferingDetector2=c;f.$OzBufferingDetector5=d;f.$OzBufferingDetector6=e;f.$OzBufferingDetector8=new(b("oz-player/strategies/OzBufferingStateThresholdManager"))(d);f.$OzBufferingDetector2.paused?f.$OzBufferingDetector1=new(b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(f.$OzBufferingDetector8,f.$OzBufferingDetector5):f.$OzBufferingDetector1=b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(f.$OzBufferingDetector2,f.$OzBufferingDetector8.getInPlayBufferUnderflowTarget(),f.$OzBufferingDetector6())?new(b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(f.$OzBufferingDetector8,f.$OzBufferingDetector5):new(b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(f.$OzBufferingDetector8,f.$OzBufferingDetector5,null);f.$OzBufferingDetector4=new(b("oz-player/utils/OzDomEventCapturer"))(f.$OzBufferingDetector2);f.$OzBufferingDetector3.addSubscriptions(g(f.$OzBufferingDetector2,"pause",f.$OzBufferingDetector9),g(f.$OzBufferingDetector2,"play",f.$OzBufferingDetector9),f.$OzBufferingDetector4.capture("playing",f.$OzBufferingDetector10),g(f.$OzBufferingDetector2,"progress",b("oz-player/shims/ozThrottle")(f.$OzBufferingDetector9,h)),g(f.$OzBufferingDetector2,"timeupdate",b("oz-player/shims/ozThrottle")(f.$OzBufferingDetector9,h)),g(f.$OzBufferingDetector2,"seeked",f.$OzBufferingDetector9),g(f.$OzBufferingDetector2,"seeking",f.$OzBufferingDetector9),g(f.$OzBufferingDetector2,"waiting",f.$OzBufferingDetector9));f.$OzBufferingDetector5.getBool("listen_for_canplay_in_buffering_detector",!1)&&f.$OzBufferingDetector3.addSubscriptions(g(f.$OzBufferingDetector2,"canplay",f.$OzBufferingDetector9),g(f.$OzBufferingDetector2,"canplaythrough",f.$OzBufferingDetector9));return f}var d=c.prototype;d.setSourceBufferState=function(a,b){this.$OzBufferingDetector7.set(a,b)};d.$OzBufferingDetector11=function(a){a=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector6(),this.$OzBufferingDetector7);var c=this.$OzBufferingDetector1;this.$OzBufferingDetector1=a;var d=a instanceof b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,e=c instanceof b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(a===c)return a;if(d){d=c instanceof b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.emit("enterBuffering",d)}else e&&(this.$OzBufferingDetector8.notifyBufferingEnd(),this.emit("leaveBuffering"));a instanceof b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState&&this.$OzBufferingDetector4.dispatchIfSuppressed("playing");return a};d.notifyStreamInterrupted=function(){this.$OzBufferingDetector8.notifyStreamInterrupted()};d.notifyStreamResumed=function(){this.$OzBufferingDetector8.notifyStreamResumed()};d.destroy=function(){this.$OzBufferingDetector3.release()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzWidevineDrmProvider","cr:1905637","gkx","oz-player/strategies/OzBufferingDetector","qex"],(function(a,b,c,d,e,f){"use strict";f.checkShouldIncludeOsParam=a;f.checkShouldIncludeCredentials=c;f.createOzBufferingDetector=d;f.createOzDrmProviders=e;f.createOzPerfLoggerProviders=i;f.calculateInitialPlaybackPositionForDynamicMpd=j;f.calculateLiveheadFallBehindBlockThreshold=k;f.calculateLiveheadFallBehindBlockMargin=l;f.getVideoAbrManagerFactory=m;var g=/(livestream-)?lookaside\.(facebook|workplace)\.com$/,h=b("qex")._("1959790");function a(a){return h!==null&&h!==void 0&&h!==""?{os_param:h}:null}function c(a){return g.test(a.getDomain())}function d(a,c,d,e,f){if(f.current!=null)return;var g=!0,h=function(){if(g)return!1;var a=f.current!==i;return a&&b("gkx")("1508440")?!0:!1},i=new(b("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?c.getDuration():Infinity});f.current=i;g=!1;a=function(a){if(h())return;if(b("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})};d=function(){if(h())return;e.dispatch({type:"buffering_end_requested"})};i.addListener("enterBuffering",a);i.addListener("leaveBuffering",d)}function e(a){var c=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];d&&a!=null&&e.push(new(b("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,c,null));return e}function i(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.getApproximateFBLSToPlayerDisplayLatency,e=a.getBandwidthEstimate,f=a.playbackIsLiveStreaming,g=a.playerInstanceCount,h=a.playerInstanceKey,i=a.playerSuborigin,j=a.playerVersion,k=a.videoElement;a=a.videoFBID;if(!b||!b.shouldInitialize())return[];d={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:d,getBandwidthEstimate:e,isLive:f,isServableViaFbms:!1,playerInstanceCount:g,playerOrigin:null,playerSuborigin:i,playerVersion:j,representationId:null,uniqueID:h,video:k,videoID:(c=a)!=null?c:""};return[new b(d)]}function j(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function k(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function l(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function m(){return function(a,c,d,e,f,g,h,i){return b("cr:1905637")!=null?new(b("cr:1905637"))(a,c,d,e,f,g,h,i):null}}}),null);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";f.getQualityLabel=g;f.getMosValue=h;f.parsePlaybackMos=a;f.filterTracksWithExpensiveMos=b;function g(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b}function h(a,b){var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0}function a(a){a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b}function b(a,b,c,d,e,f){if(a.length<2)return a;var i=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?h(a.playbackResolutionMos,g(b,c)):-1}}),j=[],k=e;for(var l=i.length-1;l>0;l--){if(i[l].mosValue===-1||i[l-1].mosValue===-1)return a;var m=i[l].track.bandwidth||-1,n=i[l-1].track.bandwidth||-1;if(m===-1||n===-1)return a;if(i[l].mosValue<i[l-1].mosValue&&m>=n)continue;m=i[l-1].track.bandwidth!==null?i[l].mosValue-i[l-1].mosValue:Infinity;if(m<=k&&i[l].track.bandwidth&&d/i[l].track.bandwidth<=f){k-=m;continue}else k=e;j.push(i[l].track)}j.push(i[0].track);j.reverse();return j}}),null);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var c=a.prototype;c.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};c.$6=function(a,c){var d=null;if(this.$3.get(a))d=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(d=b("MosUtils").parsePlaybackMos(String(e)),d&&this.$3.set(a,d))}return d!=null?b("MosUtils").getMosValue(d,b("MosUtils").getQualityLabel(c.width,c.height)):null};c.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};c.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};c.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();e.exports=a}),null);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=720,h=2160;function a(a,c){var d=[];switch(a){case"HD":d.push(new(b("OzMinimumSmallestDimensionRestriction"))(g));break;case"UHD":b("gkx")("1488288")&&d.push(new(b("OzMinimumSmallestDimensionRestriction"))(h));break;default:break}a=c.getNumber("mos_upper_threshold",0);var e=c.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(b("OzMosThresholdRestriction"))(c));return d}}),null);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={abr_use_download_time:!1,accept_external_buffering_detector:!1,allow_queueing_end_of_stream_when_update:!1,append_last_segment_if_beyond_end:!0,back_off_pdash_504_retry:!0,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_chunk_response_size:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,buffer_when_waiting_in_partial_buffer:!1,call_end_of_stream_in_quick_starter:!0,cancel_tracker_on_append_error:!0,check_buffer_range_once_for_playhead_update:!1,cleanup_video_node_on_destroy:!0,clear_buffer_when_switch_representation_initiator_is_user:!0,convert_dom_exception_to_oz_error:!0,copy_new_manifest:!0,delay_stream_end_for_sourceended:!0,detach_media_source_manager:!0,disable_audio_scheduler:!1,emit_stream_error_event:!0,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_network_manager_error:!1,estimate_video_bandwidth_only:!0,exclude_prefetch_bandwidth_samples:!0,exclude_unsupported_video_mime_codecs:!1,fallback_on_append_error:!1,fix_buffer_ahead_priority_strategy:!0,fix_prepended_segments_tagging:!0,fix_quick_starter_overhead:!0,fix_reload_manifest_retry:!0,fix_seek_performance:!1,fix_segment_updated_subscription_leak:!1,fix_setup_video_duration_on_representation_switch:!0,fix_source_buffer_error_logging:!0,fix_stream_deferred_cancel:!0,fix_template_duration_artifact_in_manifest:!0,generate_mos_segment_buffer_diff:!1,get_fetch_body_text_when_response_not_ok:!1,handle_mpd_retries_outside_oz_mpd_updater:!0,ignore_time_to_response_start:!1,lazy_parse_sidx:!1,listen_for_canplay_in_buffering_detector:!0,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!0,live_gracefully_handle_410:!0,live_gracefully_handle_mpd_errors:!0,live_gracefully_handle_no_network:!0,live_no_segment_when_playhead_is_before_first_segment:!0,live_playhead_catch_up:!1,live_query_time_in_range:!0,load_video_node_on_unload:!0,log_appended_secs:!1,maybe_end_stream_if_prepended_segments:!0,media_source_is_available_in_ended_state:!0,mpd_update_cancel_current_request_tracker:!0,no_new_loop_body_promise_when_stream_ongoing:!0,pausable_stream_throws_error_when_aborted:!0,pdash_download_cursor_catchup_skip_totalbufer:!0,pdash_download_cursor_pause_duration_of_gop:!1,pdash_use_pdash_segmentlocator:!1,pdash_wait_on_mpd_refresh_when_error:!0,playhead_manager_handle_buffered_timerange_update_on_timeupdate:!1,playhead_manager_handle_timerange_update_on_timeupdate:!0,prevent_multiple_successive_representation_switch:!1,prevent_unnecessary_seek_stream_anchor_reset:!1,queue_data_with_error_handling:!1,remove_src_attr_on_unload:!0,reset_catchup_timeout_after_play_sec_on_overwrite:!0,respect_initial_representation_on_setup:!1,retry_fetch_on_prefetch_error:!1,sbm_abort_on_append_new_readable_stream:!1,sbm_abort_on_readable_stream_error:!0,sbm_check_source_buffer_ready_state_on_cancel:!0,sbm_recursively_waits_for_update_end:!1,sbm_skip_abort_on_media_error:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!0,seek_to_start_quick_starter:!0,set_source_buffer_append_window_end:!1,set_stream_anchor_only_on_done_status:!0,sidx_parser_memory_optimization:!1,skip_videobuffer_gaps:!1,skip_videobuffer_gaps_on_buffer_updated:!1,stable_buffered_timeranges_in_observedsourcebufferstate:!0,stop_manifest_update_when_static:!0,stream_interrupted_fuzzy_equals:!1,suppress_playing_event_while_buffering:!1,throw_cancel_operation_abort_failed:!1,throw_network_error_during_stream:!1,throw_on_non_zero_r_d_mismatch:!0,touch_cb_key:!1,treat_inline_mpd_xml_empty_string_as_null:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!0,update_live_video_config_on_representation_switch:!0,update_media_source_duration:!0,use_abr_for_missing_default_representation:!0,use_deferred_streaming_task:!0,use_ending_duration_for_gop_multiplier:!1,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_sc_timebased_segments:!1,use_segment_request_cache:!1,use_stream_end_time_in_segment_locator:!1,use_templated_pdash_segments:!0,xmlparser_use_domparser:!1};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:0,buffer_ahead_target:22,byte_count_per_sample:2e5,catchup_min_interval_sec:0,catchup_timeout_after_play_sec:0,default_bandwidth_estimate:1e6,download_time_buffer_delta_penalty_factor:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:2,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:2e6,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:30,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,min_switch_interval:100,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:0,paused_stream_segments_count:2,pdash_download_cursor_bufferahead_gop_multiplier:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,pdash_download_cursor_tolerance_gop_multiplier:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,playhead_nudge_slack:.1,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:1,recent_buffer_timeout_ms:0,resolution_constraint_factor:2,sbm_read_timeout_ms:0,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,skip_videobuffer_gaps_max_gap_size_sec:0,start_buffer_underflow_target:.1,stream_interrupt_buffer_target_timeout_ms:0,stream_interrupt_check_mpd_stale_count_threshold:3,stream_interrupt_in_play_buffer_overflow_target:1,tagged_time_range_per_append_throttle:0,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={network_end_broadcasts_json:'["410"]',network_reload_mpd_json:"[]",network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000, "429": 2000, "20": 1000}',network_skip_json:"[]",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.getBool=function(a){return b("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};c.getNumber=function(a){return b("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};c.getString=function(a){return b("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};c.getLegacyConfig=function(){return{getBool:function(a,c){return(a=b("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a])!=null?a:c},getNumber:function(a,c){return(a=b("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a])!=null?a:c},getString:function(a,c){return(a=b("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a])!=null?a:c}}};return a}();e.exports=a}),null);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f){"use strict";var g=new(b("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,g.getBool(b))},getNumber:function(b){return a.getNumber(b,g.getNumber(b))},getString:function(b){return a.getString(b,g.getString(b))},getLegacyConfig:function(){return a}}};f.provideConfigWithDefaults=a}),null);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","OzActiveActiveFailoverNetworkRequestStreamHandler","OzCustomParsers","OzCustomRepresentationParsers","OzDashPrefetchCache","OzOneSemanticHandler","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerOzImplementationEnginePartsImplUtils","cr:1836099","cr:1836349","cr:1871597","cr:1947728","getOzPlaybackRestrictions","gkx","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.proceedWithOzPlayerCreation=a;var g=null,h=null;b("cr:1836099")&&(g=b("cr:1836099").HiveConfig,h=b("cr:1836099").HiveOz);function a(a){var c=a.OzPlayerClass,d=a.callChain,e=a.destroyOzPlayerPartsRef,f=a.engineDebugAPI,i=a.engineExtrasAPI,j=a.getCaptionsInfo,k=a.getLatencyLevelManager,l=a.getOzQuickStarter,m=a.getVideoLiveTrace,n=a.handleCaptionsInfoChange,o=a.handleFatalImplementationError,p=a.hivePluginRef,q=a.initialProps,r=a.logger,s=a.machine,t=a.overrideOzRequestImplementationRef,u=a.ozBufferingDetectorRef,v=a.ozPlayerRef,w=a.p2pSessionLoggerRef,x=a.playerVersion,y=a.resolvedVideoInfo,z=a.videoElement;a=a.videoElementAPI;var A={current:!1},B={current:null},C={current:null};e.current=function(a){var c=u.current;c&&(u.current=null,c.destroy());c=v.current;c&&(f&&f.handleOzPlayerChanged(null),v.current=null,c.destroy(b("gkx")("1435909")?[].concat(a,["destroyOzPlayerParts"]).join(":"):null));c=B.current;c&&(B.current=null,c());a=C.current;a&&(C.current=null);Z();p.current&&(p.current=null);w.current&&(w.current=null);t.current&&(t.current=null)};e=y.VideoPlayerShakaPerformanceLoggerClass;var D=y.accessToken,E=y.experimentationConfig,F=y.graphQLVideoDRMInfo,G=y.graphQLVideoP2PSettings,H=y.manifestUrl,I=y.manifestXmlStringResolved,J=y.minQualityPreference;y=y.videoFBID;l=l();var K=Boolean(q.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),L=function(a){return i.getEstimatedBandwidth()},M=function(){return i.getApproximateFBLSToPlayerDisplayLatency()},N=function(){E.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(function(){return L(K)}))},O=function(){var a=E.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var c=b("CometThrottle")(N,a),d=b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",c);return function(){d.remove(),c.cancel()}};B.current=O();O=b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:D,graphQLVideoDRMInfo:F,videoFBID:y});F=b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:e,accessToken:D,getApproximateFBLSToPlayerDisplayLatency:M,getBandwidthEstimate:L,playbackIsLiveStreaming:K,playerInstanceCount:q.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:q.loggingMetaData.instanceKey,playerSuborigin:q.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:x,videoElement:z,videoFBID:y});b("cr:1836349")!=null&&C.current==null&&(C.current=new(b("cr:1836349"))());if(G&&y!=null){D=G.config;M=G.hive_initialization_options;x=w.current=(x=w.current)!=null?x:b("cr:1871597")?new(b("cr:1871597"))(y):null;try{if(!p.current){x&&x.logEnableP2P();y=function(a){w.current&&w.current.logHiveError(a)};var P=function(b){var a=v.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);w.current&&w.current.logSessionActive(b.tech)},Q=function(b){var a=v.current;a&&a.injectExternalDebugEvent("P2PStats",b);w.current&&w.current.setCurrentHiveStats(b)},R=function(a){a=a.state;var b=s.getCurrentState();b=b.controlledState;b=b.playbackState;p.current&&a==="CLOSED"&&(Z(),T&&b!=="ended"&&(A.current&&H!=null?T.updatePlayerRunTimeConfig({manifestUrl:H}):T.load(H)))};Q={HiveJS:{renderStatsCallback:Q},HiveJava:{},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:P,onError:y,onSessionStateChange:R,telemetryId:x?x.getSessionID():0};if(M){P=M.HiveJava;y=M.debugLevel;R=M.hiveTechOrder;Q.hiveTechOrder=R.slice();Q.HiveJava=P?{minVersion:P.minVersion}:{};Q.debugLevel=(M=y)!=null?M:Q.debugLevel}if(D.disable_hivejava_for_livevc===!0&&H!=null&&H.startsWith("https://livestream-lookaside")){R=Q.hiveTechOrder.indexOf("HiveJava");R>=0&&Q.hiveTechOrder.splice(R,1)}if(g)g.SensitiveInfo.restrictedConnectivityInfo=!0;else throw b("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(h)p.current=new h(Q);else throw b("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(p.current){if(!b("cr:1947728"))throw b("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");t.current=b("cr:1947728")(p.current.getRequestImplementation())}}}catch(a){x&&x.logError(a),Z()}}P=[new(b("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=m();d!=null&&d.handleHeadersAndBody(a,b,c)},E.getBool("live_trace_parse_emsg",!1))];b("OzActiveActiveFailoverNetworkRequestStreamHandler")&&P.push(new(b("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(a,c){if(b("gkx")("1664503")){var d=v.current,e=a.headers;if(d&&e){e=parseInt(e.get("x-fb-video-replica"),10);r.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:a.status.toString(),error_user_info:JSON.stringify({failover_response_code:a.status.toString(),replica:e,url:c})},state:s.getCurrentState()});a=d.getMpdUrl();if(a!=null){c=b("ConstUriUtils").getUri(a);if(c){a=c.addQueryParam("replica",e);a&&(Z(),d.updatePlayerRunTimeConfig({manifestUrl:a.toString()}))}}}}}));var S=q.loggingMetaData.instanceKey;d={bufferingDetector:u.current,config:b("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(E),customParsers:b("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:b("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:E}),customSegmentTimelineParser:E.getBool("enable_predictive_dash",!1)?new(b("OzPredictedSegmentTimelineParser"))():void 0,debugCreateInitiator:b("gkx")("1435909")?[].concat(d,["proceedWithOzPlayerCreation"]).join(":"):null,drmProviders:O,getCustomRequestParametersForURI:function(a){var c=a.getQueryData(),d;K&&(d=babelHelpers["extends"]({},b("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeOsParam(a)),b("gkx")("1920620")&&(d=babelHelpers["extends"]({},d,{_nc_psid:S})));if(b("gkx")("1836350")){c.uss!=null&&c.odm!=null&&(d=babelHelpers["extends"]({},d,{manual_redirect:"1"}));c=C.current;if(c!=null){a=a.getDomain()+a.getPath();c=c.get(a);if(c!=null)for(var e in c){d=babelHelpers["extends"]({},d,(a={},a[e]=c[e],a))}}}return d},getOverrideOzRequestImplementation:function(){return t.current},getShouldIncludeCredentials:E.getBool("use_oz_credentials_provider",!1)?b("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getVideoDimensions:function(){return s.getCurrentState().controlledState.dimensions},initialPlaybackPositionForDynamicMpd:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(E,(y=q.initialDesiredLatencyMs)!=null?y:0),initialRepresentationIDs:(M=q.initialRepresentationIds)!=null?M:[],liveheadFallBehindBlockMargin:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(E,(D=q.initialDesiredLatencyMs)!=null?D:0),liveheadFallBehindBlockThreshold:b("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(E,(R=q.initialDesiredLatencyMs)!=null?R:0,(Q=q.initialLatencyToleranceMs)!=null?Q:0),loggerConfig:{isOzDevConsoleEnabled:b("gkx")("722076"),observedOperationLoggers:l&&e&&e.shouldInitialize()?l.getObservedOperationLoggers():[],perfLoggerProviders:F},mpdUrl:H,networkRequestStreamHandlers:P,networkRequestStreamRetryHandler:b("gkx")("1836350")?function(a,c,d){var e=a.headers,f=e==null?void 0:e.get("x-fb-url-refresh");e=C.current;if(e!=null&&a.status===403&&f!=null){r.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{resource_url:d},state:s.getCurrentState()});return e.refresh(f).then(function(a){r.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{resource_url:a},state:s.getCurrentState()});return c()})["catch"](function(a){r.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,resource_url:f},state:s.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:E.getBool("use_prefetch_cache",!1)?new(b("OzDashPrefetchCache"))():null,rawMpdXml:p.current?void 0:I,seekHandler:b("gkx")("1482680")?function(a){var b=z.currentTime;s.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});z.currentTime=a}:null,startTimeStamp:E.getBool("fix_start_timestamp",!1)?q.startTimestamp:0,videoAbrManagerFactory:b("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNodeOrQuickStarter:(x=l)!=null?x:z,videoPlaybackRestrictions:b("getOzPlaybackRestrictions")(J,E)};var T=new c(d);v.current=T;O=q.loggingMetaData.playerImplementationInstanceCountRef;O.current++;T.onError(function(a){o(a,"oz_player_error")});T.addListener("switchVideoRepresentation",function(){s.dispatch({payload:{targetVideoQuality:i.getCurrentTargetVideoQuality()},type:"representation_changed"})});T.addListener("manifestFetchError",function(a){b("OzOneSemanticHandler").handleManifestFetchErrorEvent(E,a)});T.addListener("streamError",function(a){return b("OzOneSemanticHandler").handleStreamErrorEvent(E,a)});T.addListener("streamInterruptAt",function(){s.dispatch({type:"stream_interrupted"})});T.addListener("streamResumedAt",function(){s.dispatch({type:"stream_resumed"})});T.addListener("streamEnd",function(){Z(),s.dispatch({type:"stream_ended"})});l==null?(T.addListener("enterBuffering",function(a){if(b("gkx")("1235655"))return;s.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})}),T.addListener("leaveBuffering",function(){s.dispatch({type:"buffering_end_requested"})})):b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(z,a,E,s,u);f&&f.handleOzPlayerChanged(T);var U=function(){var a=j();a={inbandCaptionsAutogeneratedFromManifest:i.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:i.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=s.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&n(a)},V=function(a,b){a=a.getCustomField("timescale")||0;s.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},W=function(){var a=i.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var c=a[0].startTime;a=Math.max(a[a.length-1].endTime-E.getNumber("live_rewind_seek_to_live_delta",8),c);s.dispatch({payload:{seekableRanges:new(b("TimeRanges"))([{endTime:a,startTime:c}])},type:"seekable_ranges_changed"})}}},X=function(){var a=T.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=m();typeof a==="number"&&b!=null&&b.setStreamType(a)},Y=function(a){var c=function(){W(),U(),X()};a.addListener("updated",c);b("gkx")("1656434")&&c();T.updatePlayerRunTimeConfig({videoStreamDataHandler:V});if(i.isPredictiveDash()){E.setContext("streaming_implementation","pdash");a=k();a&&a.maybeUpdateLatencyLevel()}c=j();n({inbandCaptionsAutogeneratedFromManifest:i.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:i.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:c==null?void 0:c.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:c==null?void 0:c.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:c==null?void 0:c.sideLoadCaptionsUrlFromProps})};T.addListener("mpdReady",function(a){A.current=!0;Y(a);s.dispatch({payload:{availableQualities:i.getAvailableVideoQualities(),selectedVideoQuality:i.getUserSelectedVideoQuality(),targetVideoQuality:i.getCurrentTargetVideoQuality(),videoProjection:(a=i.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});function Z(){var a=p.current,b=w.current;if(a!=null){p.current=null;w.current=null;t.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}y=p.current;M=G==null?void 0:G.ticket;if(H!=null&&G&&y&&M!=null){D=H.substring(H.indexOf("?"));R=y.initSession(M+D,T,z);R.then(function(a){var b=a.manifest;a=a.tech;var c=w.current;b!==H&&c&&c.logManifestMismatch(b,H);c&&c.logSessionInit(a,b);r.setAdditionalLogData("is_p2p_playback",!0);T.load(b)})["catch"](function(a){var b=w.current;b&&b.logError(a);Z();T.load(H)})}else r.setAdditionalLogData("is_p2p_playback",!1),T.load(H)}}),null);
__d("VideoPlayerOzImplementationLatencyLevelManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2="normal",this.$4=null,this.$1=a,this.$3=b}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$5();a!==this.$2&&(this.$2=a,this.$3.dispatch({payload:{latencyLevel:a},type:"implementation_set_latency_level_requested"}))};b.$5=function(){var a=[];try{a=JSON.parse(this.$1.getString("player_formats_for_low_latency","[]"))}catch(a){}return a.includes(this.$4)?"low":"normal"};return a}();e.exports=a}),null);
__d("VideoPlayerOzQuickStarterUtils",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";f.createPrefetchDataForTrack=a;function g(a,c,d){c=b("VideoDashPrefetchCache").createQueryStringURL(c);c=b("VideoDashPrefetchCache").getCacheValue(c);if(!c){a.push(d);return null}return c}function h(a,b){return a.find(function(a){return a.segmentType===b})}function a(a,b,c){var d=h(b,"init");b=h(b,"data");if(d){var e=g(a,d,c+" init");if(!e)return null;var f;b&&(f=g(a,b,c+" data"));return{initializationPromise:e,mimeCodec:d.mimeCodec,representationID:d.representationID,segmentPromise:f}}return null}}),null);
__d("VideoPlayerOzImplementationEngine",["VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzQuickStarterUtils","cr:1473549","cr:1494458","cr:1494460","cr:1534629","emptyFunction","gkx","oz-player/utils/OzError","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerOzImplementationEngine=a;c=!1;var g=b("emptyFunction");function h(a,c){if(a instanceof b("oz-player/utils/OzError")){var d=a,e=d.getExtra();d={createdTimestamp:Date.now(),errorCode:e.code,errorDescription:d.getDescription(),errorLocation:c,errorName:d.getType(),stack:d.stack,url:e.url};return d}else return b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("OZ_JAVASCRIPT_NATIVE",a,c)}function a(a){var c=a.debugLogId,d=a.handleFatalError,e=a.initialProps;a=a.setExposedStateInReact;var f={current:null},i={current:null},j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null};function v(){var a;return(a=o.current)!=null?a:null}function w(){var a;return(a=n.current)!=null?a:null}function x(){return m.current}function y(){var a;return(a=(a=i.current)==null?void 0:a.experimentationConfig)!=null?a:null}function z(){var a;return(a=X.current)!=null?a:null}function A(){var a;return(a=u.current)!=null?a:null}var B;b("cr:1473549")&&(B=new(b("cr:1473549"))());var C="comet_oz",D=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},E=function(a,b){return a.videoFBID!==b.videoFBID},F=function(a){return a.getBool("use_full_player_if_cached",!1)&&b("cr:1534629")?b("cr:1534629")().getModuleIfRequireable():null},G=function(a,b,c){b!=null?i.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):i.current=a,W.dispatch({type:"implementation_engine_oz_manifest_downloading"}),l.current=F(a.experimentationConfig),K(l.current,[].concat(c,["proceedWithOzManifestDownloading"]))},H=function(a){var c;c={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,manifestUrl:(c=a.manifestUrl)!=null?c:null,manifestXmlStringInitial:(c=a.manifest)!=null?c:null,minQualityPreference:a.minQualityPreference,ozQuickStarterData:a.ozQuickStarterData,videoFBID:a.videoFBID};var d=f.current;u.current==null&&(u.current=new(b("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,W));u.current.updatePlayerFormat((a=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?a:null);a=!1;if(d==null)a=!0;else if(d!=null&&!E(c,d)&&D(c,d)){var e=14;b("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",e);a=!1}else if(d!=null&&E(c,d))throw b("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!a)return!1;e=c.manifestUrl;d=c.manifestXmlStringInitial;if(d==null&&e==null)throw b("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");f.current=c;G(c,d,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},I=function(a,c,d,e,f){var g=function(b){if(k.current!==a)return;l.current=b;K(b,[].concat(f,["handleOzPlayerModuleLoadSuccess"]))},h=function(b){if(k.current!==a)return;U(b,"oz_player_module_load_failed")};k.current=a;var i=e.experimentationConfig,j=e.ozQuickStarterData;if(m.current==null&&c!=null&&e!=null&&(!i.getBool("prevent_unnecessary_quickstarter_instance",!1)||j!=null)){i=new c(d,e.experimentationConfig);b("gkx")("1494163")&&(m.current=i);if(j!=null){c=[];d=b("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(c,j.video,"video");if(d){i.addPrefetchTrack(d);e=b("VideoPlayerOzQuickStarterUtils").createPrefetchDataForTrack(c,j.audio,"audio");e&&i.addPrefetchTrack(e)}}i.addListener("streamEnd",function(){W.dispatch({type:"stream_ended"})});b("gkx")("1494163")||(m.current=i)}b("promiseDone")(a,g,h)},J=function(a){a=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);X.current=a;return a},K=function(a,c){var d=R(),e=i.current;if(d==null||e==null)return;var f=J(d),g=e.experimentationConfig;a?L(a,d,f,e,[].concat(c,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):b("cr:1494460")?L(b("cr:1494460")(),d,f,e,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderSync"])):b("cr:1534629")?(g.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&b("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(d,f,e.experimentationConfig,W,o),I(b("cr:1534629")().load(),b("cr:1494458"),d,e,[].concat(c,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):U(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},L=function(a,c,d,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:t,engineDebugAPI:B,engineExtrasAPI:P,getCaptionsInfo:Q,getLatencyLevelManager:A,getOzQuickStarter:x,getVideoLiveTrace:S,handleCaptionsInfoChange:T,handleFatalImplementationError:U,initialProps:e,logger:V,machine:W,ozBufferingDetectorRef:o,playerVersion:C,resolvedVideoInfo:f,videoElement:c,videoElementAPI:d};a=y();g=e.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?s.current=b("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){b("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));return d.getCanPlayPromise()}):b("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:p,overrideOzRequestImplementationRef:r,ozPlayerRef:n,p2pSessionLoggerRef:q}));j.current=f}catch(a){U(a,"oz_player_create_exception")}};function M(a){b("gkx")("1494163")&&(j.current=null);var c=t.current;c!=null&&(t.current=null,c(a));s.current!=null&&(s.current(),s.current=null);c=m.current;c&&(m.current=null);b("gkx")("1494163")&&(m.current=null)}function N(){if(b("gkx")("1494163"))f.current=null,i.current=null,j.current=null;else{if(b("gkx")("1431367"))return;f.current=null;i.current=null;j.current=null}}function O(){k.current=null,l.current=null}var P=b("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:y,getOzPlayer:w,getOzQuickStarter:x,getVideoElementAPI:z});z=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return B?B.createDebugAPI({engineExtrasAPI:P,getConfig:function(){var a;return(a=(a=j.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=j.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=j.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:v,getOzPlayer:w,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:h,debugLog:g,debugLogId:c,destroyEngineParts:function(a){M([].concat(a,["destroyEngineParts"])),N(),O()},engineExtrasAPI:P,engineMetadata:{isAbrEnabled:!0,playerImplementationName:"oz_v2",playerVersion:C,streamingFormat:"dash"},handleFatalError:d,handleVideoElementMounted:function(a){var b=R();K(l.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){(b("gkx")("1494163")||b("gkx")("1380112"))&&M([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:H,initialProps:e,setExposedStateInReact:a});c=z.engine;var Q=z.getCaptionsInfo,R=z.getVideoElement,S=z.getVideoLiveTrace,T=z.handleCaptionsInfoChange,U=z.handleFatalImplementationError,V=z.logger,W=z.machine,X=z.videoElementAPIRef;return c}}),null);
__d("VideoPlayerOzImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerOzImplementationEngine","useSEOLoggedOutWebCrawler"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,b("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine),d=c[0];c=c[1];var e=b("useSEOLoggedOutWebCrawler")(),f={src:null,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback};e&&(f={src:a.manifestUrl,videoElementCallbacks:null,videoElementRefCallback:null});return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,src:f.src,videoElementCallbacks:f.videoElementCallbacks,videoElementRefCallback:f.videoElementRefCallback})}}),null);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("requireDeferredForDisplay")("oz-player");function a(){return{getModuleIfRequireable:function(){return g.getModuleIfRequireable()||null},load:function(){return g.load()}}}}),null);
__d("VideoPlayerShakaImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeShakaImplementationData=a;function a(a){var b=a.videoData;a=a.videoPlayerShakaConfig;return b==null?null:{videoData:b,videoPlayerShakaConfig:a}}}),null);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();e.exports=a}),null);
__d("useOzImplementationData",["CometRelay","React","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","useOzImplementationData_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){var d=c.manifestURL_DO_NOT_USE,e=c.ozQuickStarterData,f=c.videoPlayerShakaConfig,i=h.useMemo(function(){return f==null?null:new(b("VideoPlayerOzWWWConfig"))(f)},[f]),j=b("CometRelay").useFragment(g!==void 0?g:g=b("useOzImplementationData_video.graphql"),a);return h.useMemo(function(){return b("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:j.can_use_oz,dashManifest:d!=null?null:j.dash_manifest,dashUrl:d!=null?d:j.playable_url_dash,experimentationConfig:i,minQualityPreference:j.min_quality_preference,ozQuickStarterData:d!=null?null:e,videoFBID:j.id})},[j,d,i,e])}}),null);
__d("useProgressiveImplementationData",["CometRelay","VideoPlayerProgressiveImplementationData","useProgressiveImplementationData_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c){var d,e;c=c.initialForceHD;c=c===void 0?!1:c;a=b("CometRelay").useFragment(g!==void 0?g:g=b("useProgressiveImplementationData_video.graphql"),a);d=a.is_spherical===!0?(d=(d=a.spherical_video_fallback_urls)==null?void 0:d.hd)!=null?d:a.playable_url_quality_hd:a.playable_url_quality_hd;e=a.is_spherical===!0?(e=(e=a.spherical_video_fallback_urls)==null?void 0:e.sd)!=null?e:a.playable_url:a.playable_url;return b("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:d,hdSrcPreferred:c===!0||a.min_quality_preference==="HD"||a.min_quality_preference==="UHD",sdSrc:e})}}),null);
__d("useShakaImplementationData",["CometRelay","React","VideoPlayerShakaImplementationData","cr:1604324","recoverableViolation","useShakaImplementationData_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){var d=c.videoPlayerShakaConfig,e=b("CometRelay").useFragment(g!==void 0?g:g=b("useShakaImplementationData_video.graphql"),a);return h.useMemo(function(){var a;a=(a=e.video_player_shaka_live_p2p_init)==null?void 0:a.json_encoded_video_data;if(a==null)return null;if(b("cr:1604324")==null)return b("recoverableViolation")("VideoData is not supported","comet_video_player");var c=null;try{c=new(b("cr:1604324"))(JSON.parse(a))}catch(a){b("recoverableViolation")("VideoData JSON is broken","comet_video_player")}return b("VideoPlayerShakaImplementationData").makeShakaImplementationData({videoData:c,videoPlayerShakaConfig:d})},[e,d])}}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;g!==void 0?g:g=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){a=b("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);a=a.video_player_shaka_performance_logger_init?b("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null;a!=null&&a.forceShouldInitialize();return a}}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f){"use strict";a=b("useVideoPlayerShakaPerformanceLoggerRelayImpl");e.exports=a}),null);
__d("manifestHasUnsupportedCodecs",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(!b("gkx")("1917833")||window.MediaSource==null||a==null||typeof a!=="string")return!1;var c=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=c.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(!window.MediaSource.isTypeSupported(d))return!0}return!1}}),null);
__d("useVideoImplementationsImpl",["CometRelay","ErrorMetadata","VideoPlayerOzImplementationV2.react","VideoPlayerProgressiveImplementationV2.react","cr:1604325","err","gkx","manifestHasUnsupportedCodecs","recoverableViolation","useOzImplementationData","useProgressiveImplementationData","useShakaImplementationData","useVideoImplementationsImpl_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c){var d=[],e=c.forceProgressiveImpl;e=e===void 0?!1:e;var f=c.initialForceHD;f=f===void 0?!1:f;var h=c.manifestURL_DO_NOT_USE,i=c.ozQuickStarterData,j=c.videoFBID;c=c.videoPlayerShakaConfig;a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoImplementationsImpl_video.graphql"),a);var k=b("useShakaImplementationData")(a,{videoPlayerShakaConfig:c});k!=null&&(b("cr:1604325")==null?b("recoverableViolation")("VideoPlayerShakaImplementation is not supported","comet_video_player"):d.push({Component:b("cr:1604325"),data:k,typename:"VideoPlayerShakaImplementation"}));k=b("useOzImplementationData")(a,{manifestURL_DO_NOT_USE:h,ozQuickStarterData:i,videoPlayerShakaConfig:c});h=k!=null&&b("manifestHasUnsupportedCodecs")(k.manifest);!e&&k!=null&&(k.manifest!=null&&!h||k.manifestUrl!=null)&&d.push({Component:b("VideoPlayerOzImplementationV2.react"),data:k,typename:"VideoPlayerOzImplementation"});i=b("useProgressiveImplementationData")(a,{initialForceHD:f});b("VideoPlayerProgressiveImplementationV2.react")!=null&&i!=null&&d.push({Component:b("VideoPlayerProgressiveImplementationV2.react"),data:i,typename:"VideoPlayerProgressiveImplementation"});if(d.length===0&&b("gkx")("1611172")){c=b("err")("Cannot play video: No matching video player implementations");a={forced_progressive:e,has_oz_data:k!=null,has_oz_manifest:(k==null?void 0:k.manifest)!=null,has_oz_manifest_url:(k==null?void 0:k.manifestUrl)!=null,has_oz_unsupported_codecs:h,has_progressive_data:i!=null};c.metadata=new(b("ErrorMetadata"))();c.metadata.addEntries(["COMET_VIDEO","VIDEO_ID",String(j)],["COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify(a)]);b("recoverableViolation")("useVideoImplementations: No matching video player implementations","comet_video_player",{error:c})}return d}}),null);
__d("useVideoImplementations",["useVideoImplementationsImpl"],(function(a,b,c,d,e,f){"use strict";a=b("useVideoImplementationsImpl");e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","requireWeak"],(function(a,b,c,d,e,f){var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1,j=30,k=2e6,l=25e4,m=123034;a=function(){function a(){var a=this,c=new(b("CacheStorage"))("localstorage","_video_"),d=c.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return d},getFastMovingBandwidth:function(){return d}};g&&(this.$1=new g(j,k,function(){},d),this.$1.isMockObject=!1);b("Run").onUnload(function(){c.set("bandwidthEstimate",a.$1.getBandwidth())})}var c=a.prototype;c.getEstimator=function(){return this.$1};a.getInstance=function(){(h===null||h.getEstimator().isMockObject&&g)&&(h=new a());return h};a.getEstimator=function(){return a.getInstance().getEstimator()};a.getBandwidth=function(b){var c=a.getEstimator();return c.getBandwidth(b)};a.getBandwidthByVideoType=function(b){return a.getBandwidth(a.getBandwidthModel(b))};a.getBandwidthModel=function(a){return a?"aggressive":"conservative"};a.isAutoplayBandwidthRestrained=function(b){var c=a.getEstimator(),d;i?d=c.getFastMovingBandwidth():d=c.getBandwidth();c=b?l:m;d===null||d>=c?i=!1:i=!0;return i};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f){var g={};a=function(){function a(a,c,d){this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=new(b("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){g=a};var c=a.prototype;c.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};c.setOverrideConfig=function(a){this.$2=a};c.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};c.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};c.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};c.getAllContexts=function(){return this.$1.getAllContexts()};c.$4=function(a,b){if(!!g&&typeof g[a]===typeof b)return g[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","React","VideoPlayerConnectionQuality","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){c=c.adClientToken;var d=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerShakaConfig_video.graphql"),a),e=c!=null,f=d.is_spherical===!0,i=d.is_gaming_video===!0;a=b("useSelectedLatencySetting")(d.id,d.selected_latency_setting);var j=a[0];c=h.useState(function(){var a;return new(b("VideoPlayerShakaConfig"))({connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),content_category:i?"gaming":"general",fbls_tier:((a=d.fbls_tier)==null?void 0:a.startsWith("user"))?"user":"general",is_ad:e,is_live:d.is_live_streaming===!0,is_spherical:f,latency_level:d.is_latency_menu_enabled===!0?j:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})});var k=c[0];h.useEffect(function(){k.setContext("is_ad",e)},[k,e]);h.useEffect(function(){k.setContext("is_spherical",f)},[k,f]);return k}}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";f.executeOperationAndLog=a;f.monitorPromiseAndLogOperation=b;function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){e(f);f.setError(a);f.log();throw a})}}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};b.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};b.setError=function(a){this.$2=a;return this};b.setResult=function(a){this.$3=a;return this};b.setType=function(a){this.$4=a;return this};b.setClientTimeBegin=function(a){this.$5=a;return this};b.setClientTimeEnd=function(a){this.$6=a;return this};b.setSegmentCount=function(a){this.$13=a;return this};b.setTimeToFirstByte=function(a){this.$7=a;return this};b.setTimeToLastByte=function(a){this.$8=a;return this};b.setTimeToRequestStart=function(a){this.$9=a;return this};b.setTimeToRequestSent=function(a){this.$10=a;return this};b.setReason=function(a){this.$11=a;return this};b.setResource=function(a){this.$12=a;return this};b.setSegmentStartTime=function(a){this.$14=a;return this};b.setSegmentEndTime=function(a){this.$15=a;return this};b.setLength=function(a){this.$16=a;return this};b.setLiveheadPosition=function(a){this.$17=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$18=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$19=a;return this};b.setManifestType=function(a){this.$20=a;return this};b.setPriorityFloat=function(a){this.$21=a;return this};b.setAppendedBufferMs=function(a){this.$22=a;return this};b.setInitiator=function(a){this.$23=a;return this};b.setPreloadTime=function(a){this.$24=a;return this};b.setConcluder=function(a){this.$25=a;return this};b.setPreviousRepresentationID=function(a){this.$26=a;return this};b.setRepresentationID=function(a){this.$27=a;return this};b.setStreamSwitchReason=function(a){this.$28=a;return this};b.setState=function(a){this.$29=a;return this};b.setContentLengthHeader=function(a){this.$30=a;return this};b.setOriginHitHeader=function(a){this.$32=a;return this};b.setEdgeHitHeader=function(a){this.$33=a;return this};b.setCode=function(a){this.$31=a;return this};b.setResponseTimeMsHeader=function(a){this.$34=a;return this};b.setIsTemplatedManifest=function(a){this.$35=a;return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$3};b.getType=function(){return this.$4};b.getClientTimeBegin=function(){return this.$5};b.getClientTimeEnd=function(){return this.$6};b.getTimeToRequestStart=function(){return this.$9};b.getTimeToRequestSent=function(){return this.$10};b.getReason=function(){return this.$11};b.getResource=function(){return this.$12};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$14};b.getSegmentEndTime=function(){return this.$15};b.getLength=function(){return this.$16};b.getLiveheadPosition=function(){return this.$17};b.getManifestType=function(){return this.$20};b.getPriorityFloat=function(){return this.$21};b.getAppendedBufferMs=function(){return this.$22};b.getInitiator=function(){return this.$23};b.getPreloadTime=function(){return this.$24};b.getConcluder=function(){return this.$25};b.getContentLengthHeader=function(){return this.$30};b.getOriginHitHeader=function(){return this.$32};b.getEdgeHitHeader=function(){return this.$33};b.getCode=function(){return this.$31};b.getResponseTimeMsHeader=function(){return this.$34};b.getIsTemplatedManifest=function(){return this.$35};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new g(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(b("oz-player/loggings/OzPerfLoggerProviderBase"));f.OzMultiDestinationPerfLoggerProvider=a;var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNumHeader=function(a){b.prototype.setLiveheadSeqNumHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumHeader(a)});return this};c.setLiveheadSeqNumMpd=function(a){b.prototype.setLiveheadSeqNumMpd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadSeqNumMpd(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setCode(a)});return this};c.setResponseTimeMsHeader=function(a){b.prototype.setResponseTimeMsHeader.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResponseTimeMsHeader(a)});return this};c.setIsTemplatedManifest=function(a){b.prototype.setIsTemplatedManifest.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setIsTemplatedManifest(a)});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(b("oz-player/loggings/OzOperationLoggerBase"))}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzPreInitOperationLogger1=c;return a}var c=a.prototype;c.log=function(){b.prototype.log.call(this),this.$OzPreInitOperationLogger1(this)};return a}(b("oz-player/loggings/OzOperationLoggerBase"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$OzPreInitLoggerProvider1=!1,d.$OzPreInitLoggerProvider2=[],d.$OzPreInitLoggerProvider3=new(b("oz-player/shims/OzEventEmitter"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.deactivate=function(){this.$OzPreInitLoggerProvider1=!1};d.activate=function(){var a=this;this.$OzPreInitLoggerProvider1=!0;this.$OzPreInitLoggerProvider2.forEach(function(b){a.$OzPreInitLoggerProvider3.emit("operation_logged",b)});this.$OzPreInitLoggerProvider2=[]};d.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};d.createOperationLogger=function(a){var b=this;a=new g(a,function(a){b.$OzPreInitLoggerProvider1?b.$OzPreInitLoggerProvider3.emit("operation_logged",a):b.$OzPreInitLoggerProvider2.push(a)});return a};d.createLoggerProvider=function(){return new c()};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));f.OzPreInitLoggerProvider=a}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){a=a.split(":")[0];return a||""};return a}();e.exports=a}),null);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f){"use strict";a=b("clearTimeout");e.exports=a}),null);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/ozClearTimeoutWWW");e.exports=a}),null);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c){var d=this;this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$3=[];this.$5=function(){if(d.$4.getBool("stable_buffered_timeranges_in_observedsourcebufferstate")){var a=d.$1.buffered,b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});d.$3=b}else{a=[];for(var c=0;c<d.$1.buffered.length;c++)a.push({startTime:d.$1.buffered.start(c),endTime:d.$1.buffered.end(c)});d.$3=a}};this.$1=a;this.$4=c;this.$2.addSubscriptions(g(this.$1,"updateend",this.$5),g(this.$1,"error",this.$5))}var c=a.prototype;c.getBufferedRanges=function(){return this.$3};c.addEventListener=function(a,b){return g(this.$1,"updateend",b)};c.destroy=function(){this.$2.release(),this.$2.engage()};return a}();e.exports=a}),null);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={SOURCE_BUFFER_UNKNOWN_ERROR:"21539",SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",SOURCE_BUFFER_ERROR_ATTRIBUTE_NOT_NULL:"21541",SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542"};b=a;e.exports=b}),null);
__d("oz-player/utils/OzSourceBufferUtil",[],(function(a,b,c,d,e,f){"use strict";f.getTotalBufferedTime=a;f.getEndBufferedTime=b;function a(a){var b=0;for(var c=0;c<a.buffered.length;c++)b+=a.buffered.end(c)-a.buffered.start(c);return b}function b(a){return a.buffered.length==0?0:a.buffered.end(a.buffered.length-1)}}),null);
__d("oz-player/utils/ozConcatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer}}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzReadableStream","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent,h=b("oz-player/shims/ozSetTimeoutAcrossTransitions");a=function(){function a(a,c,d,e){var f=this;this.$2=null;this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$6=!1;this.$7=[];this.$12=!1;this.$13=!1;this.$24=function(){if(f.$9.hasError()){f.$13=!1;f.$12=!1;var a=f.$9.getMediaErrorName();a=a!==null&&a!==void 0?a:"An unknown source buffer error occurred.";var c=f.$9.getErrorCode();c=c!==null&&c!==void 0?c:b("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_UNKNOWN_ERROR;a=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:c.toString()}});f.$2&&f.$2.reject(a);f.$2=null;f.cancelOperationAndCleanQueue()}else f.$13||(f.$13=!0,f.$3.addSubscriptions(g(f.$9.getVideoNode(),"error",f.$24)))};this.$15=function(){var a=f.$2;a&&(f.$12?f.$24():(a.resolve(),f.$2&&(f.$2=null)))};this.$16=function(){f.$10.getBool("fix_source_buffer_error_logging")?f.$12=!0:f.$25()};this.$1=a;this.$10=c;this.$3.addSubscriptions(g(this.$1,"updateend",this.$15),g(this.$1,"error",this.$16));this.$8=new(b("oz-player/states/OzObservedSourceBufferState"))(this.$1,this.$10);this.$9=d;this.$14=e}var c=a.prototype;c.queueData=function(a,c,d,e){c===void 0&&(c=null);d===void 0&&(d=0);e===void 0&&(e=null);var f=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$7.push({data:a,deferred:f,loggerProvider:c,appendTarget:d,onDataAppend:e});a=f.getPromise();this.$6||(this.$10.getBool("queue_data_with_error_handling")?this.$17():this.$18());return a};c.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);var c=this.$19();this.$7.forEach(function(a){a=a.deferred;a.reject(c)});this.$7=[];try{this.$10.getBool("sbm_check_source_buffer_ready_state_on_cancel")?this.$1&&this.$14()&&(this.$10.getBool("sbm_skip_abort_on_media_error")?this.$9.hasError()||this.$1.abort():this.$1.abort()):this.$1.abort()}catch(b){a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(b).log();if(this.$10.getBool("throw_cancel_operation_abort_failed"))throw b}a=b("oz-player/shims/OzMaybeNativePromise").resolve();var d=this.$2;d&&(d.reject(c),a=d.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(c),this.$4=null);return a};c.getSourceBufferState=function(){return this.$8};c.clearRange=function(a,b){this.$1.remove(a,b)};c.$20=function(a){var c=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=c.getPromise();a&&b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(c,a,"wait_for_source_buffer");return c};c.$21=function(a,c,d){var e=this;if(this.$2!==null)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$22("cannot have concurrent appends"));var f=function f(){if(e.$10.getBool("sbm_recursively_waits_for_update_end")&&e.$1.updating)return e.$20(c).then(f)["catch"](function(a){if(e.$10.getBool("enable_appends_on_wait_update_end_failure"))return f();throw a});var g=e.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),h=!1;try{h=e.$1.updating,e.$1.appendBuffer(a)}catch(a){var i=b("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_HAS_BEEN_REMOVED;e.$9.hasError()?i=b("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_ERROR_ATTRIBUTE_NOT_NULL:h&&(i=b("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE);h=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:i.toString()}});e.$2=null;g.reject(h)}i=g.getPromise();c&&b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,c,"append",function(b){b.setLength(a.byteLength)});var j=e.$10.getBool("log_appended_secs")?b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime(e.$1):0;return i.then(function(){d&&d();return e.$10.getBool("log_appended_secs")?b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime(e.$1)-j:0})};if(!this.$10.getBool("sbm_waits_for_update_end"))return f();return!this.$10.getBool("sbm_recursively_waits_for_update_end")&&this.$1.updating?this.$20(c).then(f)["catch"](function(a){if(e.$10.getBool("enable_appends_on_wait_update_end_failure"))return f();throw a}):f()};c.$18=function(){var a=this;if(this.$6)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$22("Another unit of queued data is being appended."));var c=this.$7.shift();if(!c){this.$6=!1;return b("oz-player/shims/OzMaybeNativePromise").resolve()}var d=c.data,e=c.deferred,f=c.loggerProvider,g=c.appendTarget;c=c.onDataAppend;this.$6=!0;g=d instanceof b("oz-player/shims/OzReadableStream")?this.$23(d,f,g,c):this.$21(d,f,c);var h=NaN,i;this.$10.getBool("generate_mos_segment_buffer_diff")?i=new(b("oz-player/utils/OzNumericalRangeUtil"))().convertFromTimeRanges(this.$8.getBufferedRanges()):h=b("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(this.$1);return g["catch"](function(a){e.reject(a);return 0}).then(function(c){if(a.$10.getBool("generate_mos_segment_buffer_diff")){c=new(b("oz-player/utils/OzNumericalRangeUtil"))().firstAddedInSortedRanges(i,new(b("oz-player/utils/OzNumericalRangeUtil"))().convertFromTimeRanges(a.$8.getBufferedRanges()));h=(c==null?void 0:c.rangeStart)||0;c=(c==null?void 0:c.rangeEnd)||0}else c=b("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(a.$1);e.resolve({startTime_UNSAFE:h,endTime_UNSAFE:c,appendedSec:c-h});a.$6=!1;a.$18()})};c.$17=function(){var a=this;try{if(this.$6)throw this.$22("Another unit of queued data is being appended.");var c=this.$7.shift();if(!c){this.$6=!1;return}var d=c.data,e=c.deferred,f=c.loggerProvider;c=c.appendTarget;this.$6=!0;c=d instanceof b("oz-player/shims/OzReadableStream")?this.$23(d,f,c):this.$21(d,f);var g=b("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(this.$1);c.then(function(c){c=b("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(a.$1);e.resolve({startTime_UNSAFE:g,endTime_UNSAFE:c,appendedSec:c-g})},function(a){e.reject(a)})["finally"](function(){a.$6=!1,a.$17()})}catch(a){new(b("oz-player/utils/OzError"))({type:"OZ_JAVASCRIPT_NATIVE",description:a.message,extra:{originalError:a,code:"0"}})}};c.$23=function(a,c,d,e){var f=this;this.$10.getBool("sbm_abort_on_append_new_readable_stream")&&this.$1.abort();var g=new ArrayBuffer(0),i=a.getReader();a=function a(){var j=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));f.$4=j;var k=null;f.$10.getNumber("sbm_read_timeout_ms")>0&&(k=h(function(){var a=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"ReadableStreamReader.read() timed out.",extra:{}});j.reject(a);f.$4=null;f.$5=k=null},f.$10.getNumber("sbm_read_timeout_ms")));i.read().then(function(a){j.resolve(a),f.$4=null,k&&(b("oz-player/shims/ozClearTimeout")(k),f.$5=k=null)})["catch"](function(a){j.reject(a),f.$4=null,k&&(b("oz-player/shims/ozClearTimeout")(k),f.$5=k=null)});return j.getPromise().then(function(h){var i=h.done;h=h.value;if(i)return g.byteLength>0?f.$21(g,c,e):b("oz-player/shims/OzMaybeNativePromise").resolve(0);i=h;d>0&&(h instanceof Uint8Array&&(h=h.buffer),g=b("oz-player/utils/ozConcatArrayBuffer")(g,h),i=g);if(i&&i.byteLength>=d){g=new ArrayBuffer(0);return f.$21(i,c,e).then(function(b){return a().then(function(a){return a+b})})}return a()},function(a){f.$10.getBool("sbm_abort_on_readable_stream_error")&&f.$1.abort();return b("oz-player/shims/OzMaybeNativePromise").reject(a)})};return a()};c.$25=function(){var a=this,c=this.$2;c&&(b("oz-player/shims/ozClearTimeout")(this.$11),this.$11=h(function(){a.$11=null;var d=a.$9.getErrorCode(),e=a.$9.getMediaErrorName(),f={};f.code=d!==null&&d!==void 0?d.toString():e!=null?e:"OZ_SB-1";d=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:e!==null&&e!==void 0?e:"Unknown SourceBuffer Append Error",extra:f});c.reject(d);a.$2=null},0))};c.$22=function(a){a=new Error(a);a.name="invariant_violation";return a};c.$19=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};c.destroy=function(){var a=this;this.$5&&b("oz-player/shims/ozClearTimeout")(this.$5);this.$5=null;b("oz-player/shims/ozClearTimeout")(this.$11);this.$11=null;var c=this.$2;c&&(!this.$13?(c.reject(this.$19()),this.$2=null,this.$3.release(),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))()):c.getPromise()["catch"](function(){a.$2=null,a.$3.release(),a.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))()}));this.$8.destroy()};c.getDebug=function(){return{SourceBuffer:this.$1}};return a}();e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzDOMEventListener").listenDOMEvent;a=function(){function a(a,c,d){var e=this;d===void 0&&(d=new(b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$5=[];this.$6=[];this.$8=!1;this.$10=!1;this.$12=function(){e.$13()||(e.$8=!1);if(!e.$14())return;var a=e.$6.shift();a&&(a(e.$2),e.$8=!0)};this.$4=d;this.$9=c;this.$1=a;this.$2=new MediaSource();this.$1.src=window.URL.createObjectURL(this.$2);this.$7=new(b("oz-player/media_source/OzMediaErrorProvider"))(this.$1);b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(this.$11(),this.$4,"media_source_open")}var c=a.prototype;c.$11=function(){var a=this;if(this.$2.readyState==="open")return b("oz-player/shims/OzMaybeNativePromise").resolve();var c=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(g(this.$2,"sourceopen",function(){c.resolve(),a.$12()}));return c.getPromise()};c.createSourceBufferManager=function(a,c){var d=this;c===void 0&&(c=!1);return this.$11().then(function(){var e=d.$2.addSourceBuffer(a);c&&!isNaN(d.$2.duration)&&(e.appendWindowEnd=d.$2.duration);d.$5.push(e);d.$3.addSubscriptions(g(e,"updateend",d.$12));return new(b("oz-player/media_source/SourceBufferManager"))(e,d.$9,d.$7,function(){var a=d.$2;if(a){a=d.$9.getBool("media_source_is_available_in_ended_state")?a.readyState!=="closed":a.readyState==="open";return a}return!1})})};c.getMediaSource=function(){return this.$2};c.notifyEndOfStream=function(){var a=this,c=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(g(this.$2,"sourceended",function(){c.resolve()}));this.$6.push(function(b){a.$4.getOperationLogger("end_of_stream").log(),b.endOfStream()});this.$12();return c.getPromise()};c.updateDuration=function(a){this.$6.push(function(b){b.duration=a}),this.$12()};c.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$6=[];this.$8=!1;this.$10=!0};c.$14=function(){return!this.$13()&&this.$2.readyState==="open"&&!this.$8&&!this.$10};c.$13=function(){return this.$5.some(function(a){return a.updating})};return a}();e.exports=a}),null);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;c===void 0&&(c=!1);d=a.call(this)||this;d.$OzErrorEmitter1=!1;d.$OzErrorEmitter2=!1;d.$OzErrorEmitter3=[];d.emitError=function(a){!d.$OzErrorEmitter1?d.$OzErrorEmitter2?d.$OzErrorEmitter3.push(a):d.$OzErrorEmitter1||b("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter2=c;return d}var d=c.prototype;d.onError=function(a){this.$OzErrorEmitter1=!0;a=this.addListener("error",a);this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError);return a};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["oz-player/shims/OzReadableStream","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(!b("oz-player/shims/OzReadableStream").isPolyfilled)return a;var c=a.getReader();return new(b("oz-player/shims/OzReadableStream"))({start:function(a){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=3;return b("regeneratorRuntime").awrap(c.read());case 3:d=g.sent;e=d.done;f=d.value;if(!e){g.next=8;break}return g.abrupt("break",11);case 8:a.enqueue(f);g.next=0;break;case 11:a.close();case 12:case"end":return g.stop()}},null,this)}})}}),null);
__d("oz-player/utils/convertPrefetchCacheEntryToReadableStream",["oz-player/shims/OzReadableStream","oz-player/utils/OzError","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=new(b("oz-player/shims/OzReadableStream"))({start:function(c){a.then(function(a){switch(a.initiator){case"XHR_REQUEST":var d=new Uint8Array(a.response);c.enqueue(d);c.close();break;case"FETCH":d=a.response.body;if(d!=null){var e=function a(){f.read().then(function(b){var d=b.done;b=b.value;if(d){c.close();return}c.enqueue(b);a()})["catch"](function(a){c.err(a)})},f=b("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(d).getReader();e()}else a.response.arrayBuffer().then(function(a){a=new Uint8Array(a);c.enqueue(a);c.close()})["catch"](function(a){c.err(a)});break;default:a.initiator,c.error(new(b("oz-player/utils/OzError"))({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+a.initiator}))}})["catch"](function(a){c.error(a)})}});return c}}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/configs/OzConfigUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzPreInitLogger","oz-player/media_source/MediaSourceManager","oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/convertPrefetchCacheEntryToReadableStream"],(function(a,b,c,d,e,f){"use strict";var g=.1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;e===void 0&&(e=[]);f=a.call(this)||this;f.$OzQuickStarter5=new Map();f.$OzQuickStarter6=[];f.$OzQuickStarter8=new Map();f.$OzQuickStarter9=new Map();f.$OzQuickStarter10=new(b("oz-player/utils/OzErrorEmitter"))(!0);f.$OzQuickStarter13=function(a){a=a;a instanceof b("oz-player/utils/OzError")||(a=new(b("oz-player/utils/OzError"))({type:"OZ_QUICKSTARTER",description:a.message,extra:{originalError:a}}));f.$OzQuickStarter10.emitError(a)};f.$OzQuickStarter3=c;f.$OzQuickStarter1=b("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(d);f.$OzQuickStarter7=new(b("oz-player/loggings/OzPreInitLogger").OzPreInitLoggerProvider)();f.$OzQuickStarter7.setInitiator("quick_starter");f.$OzQuickStarter6.push(f.$OzQuickStarter7);f.$OzQuickStarter2=new(b("oz-player/media_source/MediaSourceManager"))(f.$OzQuickStarter3,f.$OzQuickStarter1,f.$OzQuickStarter7);f.$OzQuickStarter4=new Map();e.forEach(function(a){return f.addPrefetchTrack(a)});return f}var d=c.prototype;d.addPrefetchTrack=function(a){var c=this,d=a.mimeCodec,e=this.$OzQuickStarter11(d);if(!e)return;var f=this.$OzQuickStarter11(d),g=this.$OzQuickStarter12(this.$OzQuickStarter7).setType(f),h=this.$OzQuickStarter12(this.$OzQuickStarter7).setType(f+";init");this.$OzQuickStarter5.set(e,a.segmentPromise?1:0);f=this.$OzQuickStarter2.createSourceBufferManager(d).then(function(d){var f=b("oz-player/utils/convertPrefetchCacheEntryToReadableStream")(a.initializationPromise);b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a.initializationPromise,h,"fetch_stream");d.queueData(f,h)["catch"](c.$OzQuickStarter13);f=a.segmentPromise;if(f){var i=b("oz-player/utils/convertPrefetchCacheEntryToReadableStream")(f);b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(f,g,"fetch_stream");d.queueData(i,g).then(function(a){c.$OzQuickStarter8.set(e,a.appendedSec),c.$OzQuickStarter1.getBool("call_end_of_stream_in_quick_starter")&&c.$OzQuickStarter8.size===c.$OzQuickStarter4.size&&c.$OzQuickStarter14()&&(c.$OzQuickStarter2.notifyEndOfStream(),c.emit("streamEnd")),c.$OzQuickStarter1.getBool("seek_to_start_quick_starter")&&c.$OzQuickStarter8.size===c.$OzQuickStarter4.size&&c.$OzQuickStarter15()})["catch"](c.$OzQuickStarter13)}return d});this.$OzQuickStarter4.set(e,f);a.representationID&&this.$OzQuickStarter9.set(e,a.representationID)};d.onError=function(a){return this.$OzQuickStarter10.onError(a)};d.$OzQuickStarter15=function(){var a=this.$OzQuickStarter3.buffered.length>0?this.$OzQuickStarter3.buffered.start(0):null;a!==null&&this.$OzQuickStarter3.currentTime<a&&(this.$OzQuickStarter3.currentTime=a+g)};d.$OzQuickStarter14=function(){var a=this;if(Number.isNaN(this.$OzQuickStarter3.duration))return!1;var b=!0;this.$OzQuickStarter8.forEach(function(c){Math.abs(c-a.$OzQuickStarter3.duration)>g&&(b=!1)});return b};d.getSourceBufferManagerPromise=function(a){a=this.$OzQuickStarter11(a);return this.$OzQuickStarter4.get(a)};d.getPrependedSegmentsCount=function(a){var b=this.$OzQuickStarter11(a);if(!b)return 0;b=this.$OzQuickStarter5.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};d.getRepresentationId=function(a){a=this.$OzQuickStarter11(a);return!a?null:this.$OzQuickStarter9.get(a)||null};d.getAudioRepresentationIDAtTime=function(a){return this.$OzQuickStarter16("audio",a)};d.getVideoRepresentationIDAtTime=function(a){return this.$OzQuickStarter16("video",a)};d.getVideoNode=function(){return this.$OzQuickStarter3};d.getMediaSourceManager=function(){return this.$OzQuickStarter2};d.getObservedOperationLoggers=function(){return this.$OzQuickStarter6};d.$OzQuickStarter16=function(a,b){var c=this.$OzQuickStarter8.get(a);return c!=null&&b<=c?this.$OzQuickStarter9.get(a):null};d.$OzQuickStarter12=function(a){a=a.cloneContext();a instanceof b("oz-player/loggings/OzPreInitLogger").OzPreInitLoggerProvider||b("oz-player/shims/ozvariant")(0,5677);this.$OzQuickStarter6.push(a);return a};d.$OzQuickStarter11=function(a){return(a.split("/")[0]||"").trim()};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;a=b.filter(function(a){return a.getWidth()<=c.width*d*e||a.getHeight()<=c.height*d*e});return!a.length?[b[0]]:a};f.excludeLargeRepresentations=a;b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};f.getReasonToPreventEvaluation=b}),null);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getBandwidth()-b.getBandwidth()};a=function(a,b,c,d){if(c.length===0)return[];c.sort(g);a=a.reduce(function(a,c){return c.applyRestriction(a,b)},c);if(d!=null&&d.length>0){c=c.filter(function(a){return d.indexOf(a.getID())>-1});a=a.concat(c).sort(g)}return a};f.applyVideoPlaybackRestrictions=a}),null);
__d("XCometGamingNotificationsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/gaming/notifications/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("csx",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){throw new Error("csx: Unexpected class selector transformation.")}}),null);
__d("BlueBar",["csx","CSS","DOMQuery","Style","ge"],(function(a,b,c,d,e,f,g){f.hasFixedBlueBar=c;f.getBar=l;f.getNavRoot=d;f.getMaybeFixedRoot=e;f.getLoggedOutRoot=g;f.getNewLoggedOutRoot=m;var h=document,i={};function j(a){return b("DOMQuery").scry(h,a)[0]}function k(a,b){return i[a]?i[a]:i[a]=j(b)}function a(){h=b("ge")("blueBarDOMInspector")||document,i={}}function c(){var a=this.getMaybeFixedRoot();return!a?!1:b("CSS").matchesSelector(a,"._5rmj")||b("Style").isFixed(a)}function l(){return k("bar","div._1s4v")}function d(){return k("navRoot","div._cx4")||l()}function e(){return k("maybeFixedRoot","div._26aw")}function g(){return k("maybeFixedRootLoggedOut","div._1pmx")}function m(){return k("maybeFixedRootLogin","div._53jh")}a()}),null);
__d("ReactFbPropTypes",["FbtResultBase","warning"],(function(a,b,c,d,e,f){function a(a){var c=function(c,d,e,f,g,h,i){var j=d[e];if(j instanceof b("FbtResultBase"))return null;if(c)return a.isRequired(d,e,f,g,h,i);else return a(d,e,f,g,h,i)},d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}f.wrapStringTypeChecker=a}),null);
__d("fbjs/lib/emptyFunction",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";e.exports=b("emptyFunction")}),null);
__d("fbjs/lib/invariant",["invariant"],(function(a,b,c,d,e,f){"use strict";e.exports=b("invariant")}),null);
__d("fbjs/lib/warning",["warning"],(function(a,b,c,d,e,f){"use strict";e.exports=b("warning")}),null);
__d("prop-types/lib/ReactPropTypesSecret",[],(function(a,b,c,d,e,f){"use strict";a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=a}),null);
__d("prop-types/checkPropTypes",["fbjs/lib/invariant","fbjs/lib/warning","prop-types/lib/ReactPropTypesSecret"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,b,c,d,e){}e.exports=a}),null);
__d("prop-types/prop-types",["fbjs/lib/emptyFunction","fbjs/lib/invariant","fbjs/lib/warning","prop-types/checkPropTypes","prop-types/lib/ReactPropTypesSecret"],(function(a,b,c,d,e,f){var g,h=function(){b("fbjs/lib/invariant")(0,1492)};a=function(){return h};h.isRequired=h;c={array:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:a,element:h,instanceOf:a,node:h,objectOf:a,oneOf:a,oneOfType:a,shape:a};c.checkPropTypes=b("fbjs/lib/emptyFunction");c.PropTypes=c;e.exports=c}),null);
__d("prop-types",["ReactFbPropTypes","prop-types/prop-types"],(function(a,b,c,d,e,f){e.exports=b("prop-types/prop-types")}),null);
__d("ContextualLayerAlignmentEnum",["keyMirror","objectValues","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({left:null,center:null,right:null});c=b("objectValues")(a);d=b("prop-types").oneOf(c);f=babelHelpers["extends"]({},a,{values:c,propType:d});e.exports=f}),null);
__d("ContextualLayerPositionEnum",["keyMirror","objectValues","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({above:null,below:null,left:null,right:null});c=b("objectValues")(a);d=b("prop-types").oneOf(c);f=babelHelpers["extends"]({},a,{values:c,propType:d});e.exports=f}),null);
__d("UserAgent_DEPRECATED",[],(function(a,b,c,d,e,f){f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I;var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);s=/\b(iPhone|iP[ao]d)/.exec(a);t=/\b(iP[ao]d)/.exec(a);q=/Android/i.exec(a);u=/FBAN\/\w+;/i.exec(a);v=/FBAN\/mLite;/i.exec(a);w=/Mobile/i.exec(a);r=!!/Win64/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=d?parseFloat(d[1].replace("_",".")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}}),null);
__d("isScalar",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){return/string|number|boolean/.test(typeof a)}}),null);
__d("DOM",["$","DOMQuery","Event","FBLogger","FbtResultBase","HTML","TAAL","UserAgent_DEPRECATED","createArrayFromMixed","isNode","isScalar","isTextNode"],(function(a,b,c,d,e,f){a=function(a,b,c){a=document.createElement(a);b&&g.setAttributes(a,b);c!=null&&g.setContent(a,c);return a};var g={find:(c=b("DOMQuery")).find,findPushSafe:c.findPushSafe,scry:c.scry,getSelection:c.getSelection,contains:c.contains,getRootElement:c.getRootElement,isNodeOfType:c.isNodeOfType,isInputNode:c.isInputNode,create:a,setAttributes:function(a,c){c.type&&(a.type=c.type);for(var d in c){var e=c[d],f=/^on/i.test(d);f&&typeof e!=="function"&&b("FBLogger")("dom").warn("Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s",d,typeof e);if(d=="type")continue;else d=="style"?typeof e==="string"?a.style.cssText=e:Object.assign(a.style,e):f?b("Event").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,c){if(!a)throw b("TAAL").blameToPreviousFile(new Error("reference element is not a node"));return i(c,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,c){if(!a||!a.parentNode)throw b("TAAL").blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return i(c,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,c){if(!a||!a.parentNode)throw b("TAAL").blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return i(c,d,function(b){d.insertBefore(b,a)})},setContent:function(a,c){if(!a)throw b("TAAL").blameToPreviousFile(new Error("reference element is not a node"));while(a.firstChild)h(a.firstChild);return g.appendContent(a,c)},appendContent:function(a,c){if(!a)throw b("TAAL").blameToPreviousFile(new Error("reference element is not a node"));return i(c,a,function(b){a.appendChild(b)})},replace:function(a,c){if(!a||!a.parentNode)throw b("TAAL").blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return i(c,d,function(b){d.replaceChild(b,a)})},remove:function(a){h(typeof a==="string"?b("$")(a):a)},empty:function(a){a=typeof a==="string"?b("$")(a):a;while(a.firstChild)h(a.firstChild)}};function h(a){a.parentNode&&a.parentNode.removeChild(a)}function i(a,c,d){a=b("HTML").replaceJSONWrapper(a);if(a instanceof b("HTML")&&c.firstChild===null&&-1===a.toString().indexOf("<script")){var e=b("UserAgent_DEPRECATED").ie();if(!e||e>7&&!b("DOMQuery").isNodeOfType(c,["table","tbody","thead","tfoot","tr","select","fieldset"])){var f=e?'<em style="display:none;">&nbsp;</em>':"";c.innerHTML=f+a;e&&c.removeChild(c.firstChild);return Array.from(c.childNodes)}}else if(b("isTextNode")(c)){c.data=a;return[a]}f=document.createDocumentFragment();var g;e=[];c=[];a=b("createArrayFromMixed")(a);a.length===1&&a[0]instanceof b("FbtResultBase")&&(a=a[0].getContents());for(var h=0;h<a.length;h++){g=b("HTML").replaceJSONWrapper(a[h]);if(g instanceof b("HTML")){c.push(g.getAction());var i=g.getNodes();for(var j=0;j<i.length;j++)e.push(i[j]),f.appendChild(i[j])}else if(b("isScalar")(g)||g instanceof b("FbtResultBase")){j=document.createTextNode(g);e.push(j);f.appendChild(j)}else b("isNode")(g)?(e.push(g),f.appendChild(g)):(Array.isArray(g)&&b("FBLogger")("dom").warn("Nest arrays not supported"),g!==null&&b("FBLogger")("dom").warn("No way to set content %s",g))}d(f);c.forEach(function(a){a()});return e}d=g;e.exports=d}),null);
__d("getOrCreateDOMID",["uniqueID"],(function(a,b,c,d,e,f){e.exports=a;function a(a){a.id||(a.id=b("uniqueID")());return a.id}}),null);
__d("ARIA",["DOM","emptyFunction","ge","getOrCreateDOMID","gkx","joinClasses"],(function(a,b,c,d,e,f){f.controls=a;f.describedBy=c;f.owns=d;f.setPopup=e;f.announce=l;f.notify=m;var g=b("gkx")("1955417"),h,i,j=function(){h=b("ge")("ariaAssertiveAlert"),h||(h=b("DOM").create("div",{id:"ariaAssertiveAlert",className:b("joinClasses")("accessible_elem",g?"accessible_elem_offset":null),"aria-live":"assertive"}),b("DOM").appendContent(document.body,h)),i=b("ge")("ariaPoliteAlert"),i||(i=h.cloneNode(!1),i.setAttribute("id","ariaPoliteAlert"),i.setAttribute("aria-live","polite"),b("DOM").appendContent(document.body,i)),j=b("emptyFunction")};function k(a,c){j();c=c?h:i;b("DOM").setContent(c,a)}function a(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-controls",f)}function c(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-describedby",f)}function d(a,c){a.setAttribute("aria-owns",b("getOrCreateDOMID")(c))}function e(a,c){c=b("getOrCreateDOMID")(c);a.setAttribute("aria-controls",c);a.setAttribute("aria-haspopup","true");c=a.getAttribute("role")||"";c&&a.setAttribute("role",c)}function l(a){k(a,!0)}function m(a){k(a,!1)}}),null);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f){var g="arbiter$"+b("guid")(),h=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return h.call(this,g)?this[g]:this[g]=new(b("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};e.exports=a}),null);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);f!="eval"&&!h&&b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"eval":new Function(e).apply(h);break;case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var c=a.prototype;c.getRequest=function(){return this.request};c.getPayload=function(){return this.payload};c.toError=function(){this.error!==0||g(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};c.getError=function(){return this.error};c.getErrorSummary=function(){return this.errorSummary};c.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};c.getErrorDescription=function(){return this.errorDescription};c.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(b("HTML").isHTML(a)){var c=new(b("HTML"))(a);return c.getRootNode().textContent}return a.toString()};c.getErrorIsWarning=function(){return!!this.errorIsWarning};c.isSilent=function(){return!!this.silentError};c.isTransient=function(){return!!this.transientError};c.isBlockedAction=function(){return!!this.blockedAction};c.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(c){try{!c.silentError?a.verboseErrorHandler(c):b("FBLogger")("async_response").catching(c.toError()).warn("default error handler called")}catch(a){alert(c)}};a.verboseErrorHandler=function(a,c){b("Bootloader").loadModules(["ExceptionDialog"],function(b){return b.showAsyncError(a,c)},"AsyncResponse")};return a}();e.exports=a}),null);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({delim:"/*<!-- fetch-stream -->*/"})}),null);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return b("Promise").reject("Sorry, you are somehow using this too early.")};this.$7=new(b("Promise"))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();e.exports=a}),null);
__d("mixin",[],(function(a,b,c,d,e,f){e.exports=a;function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}}),null);
__d("FetchStreamTransport",["ArbiterMixin","FBLogger","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","mixin","nullthrows","regeneratorRuntime"],(function $module_FetchStreamTransport(global,require,requireDynamic,requireLazy,module,exports){var c_URI,instance_count=0,FetchStreamTransport=function(_ref){babelHelpers.inheritsLoose(FetchStreamTransport,_ref);function FetchStreamTransport(uri){var _this;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");_this=_ref.call(this)||this;_this.$FetchStreamTransport6=null;_this.$FetchStreamTransport1=uri;_this.$FetchStreamTransport3=!1;_this.$FetchStreamTransport4=!1;_this.$FetchStreamTransport5=!1;_this.$FetchStreamTransport2=++instance_count;return babelHelpers.assertThisInitialized(_this)||babelHelpers.assertThisInitialized(_this)}var _proto=FetchStreamTransport.prototype;_proto.hasFinished=function hasFinished(){return this.$FetchStreamTransport5};_proto.getRequestURI=function getRequestURI(){return new(c_URI||(c_URI=require("URI")))(this.$FetchStreamTransport1).addQueryData({__a:1,__adt:this.$FetchStreamTransport2,__req:"fetchstream_"+this.$FetchStreamTransport2,ajaxpipe_fetch_stream:1})};_proto.send=function send(){if(this.$FetchStreamTransport3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport3=!0;var req=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport6=require("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");var fetchPromise=self.fetch(req,{redirect:"follow"});this.$FetchStreamTransport7(fetchPromise)};_proto.$FetchStreamTransport7=function $FetchStreamTransport7(fetchPromise){var _this2=this,response,reader,first,_loop,_ret;return require("regeneratorRuntime").async(function $FetchStreamTransport7$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return require("regeneratorRuntime").awrap(fetchPromise);case 3:response=_context2.sent;_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2["catch"](0),this.abort();case 9:if(!(!response||!response.body||!response.ok)){_context2.next=12;break}this.abort();return _context2.abrupt("return");case 12:reader=new(require("StreamBlockReader"))(response.body),first=!0,_loop=function _loop(){var nextData;return require("regeneratorRuntime").async(function _loop$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return require("regeneratorRuntime").awrap(reader.readUntilStringOrEnd(require("FetchStreamConfig").delim));case 2:nextData=_context.sent;if(!_this2.$FetchStreamTransport4){_context.next=5;break}return _context.abrupt("return","break");case 5:require("nullthrows")(_this2.$FetchStreamTransport6)(function(){if(first&&nextData.startsWith("<")){require("FBLogger")("FetchStreamTransport").mustfix("Endpoint: %s is sending a raw HTML response instead of properly formatted payload",_this2.$FetchStreamTransport1.toString());var node=document.createElement("div");node.innerHTML=nextData;var scripts=node.getElementsByTagName("script");for(var i=0;i<scripts.length;i++)eval(scripts[i].innerHTML);_this2.$FetchStreamTransport5=!0;return}first=!1;var parsedResponse=JSON.parse(nextData);reader.isDone()||parsedResponse.finished?_this2.$FetchStreamTransport5=!0:_this2.$FetchStreamTransport6=require("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");_this2.inform("response",parsedResponse.content)});case 6:case"end":return _context.stop()}},null,this)};case 15:if(!(!this.$FetchStreamTransport5&&!this.$FetchStreamTransport4)){_context2.next=23;break}_context2.next=18;return require("regeneratorRuntime").awrap(_loop());case 18:_ret=_context2.sent;if(!(_ret==="break")){_context2.next=21;break}return _context2.abrupt("break",23);case 21:_context2.next=15;break;case 23:case"end":return _context2.stop()}},null,this,[[0,6]])};_proto.abort=function abort(){var _this3=this;if(this.$FetchStreamTransport4||this.$FetchStreamTransport5)return;this.$FetchStreamTransport4=!0;this.$FetchStreamTransport5=!0;if(this.$FetchStreamTransport6){var continuation=this.$FetchStreamTransport6;continuation(function(){_this3.inform("abort")})}else this.inform("abort")};return FetchStreamTransport}(require("mixin")(require("ArbiterMixin")));module.exports=FetchStreamTransport}),null);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}c={get:a,getAll:b("emptyFunction").thatReturns(new Map())};d=c;e.exports=d}),null);
__d("JSCC",[],(function $module_JSCC(global,require,requireDynamic,requireLazy,module,exports){exports.get=get;exports.init=init;exports.parse=parse;var factories={};function createFactory(constructor){var instance,constructed=!1;return function(){constructed||(instance=constructor(),constructed=!0);return instance}}function get(key){if(!factories[key])throw new Error("JSCC entry is missing");return factories[key]()}function init(constructors){for(var key in constructors)factories[key]=createFactory(constructors[key]);return function clearJSCC(){for(var _key in constructors)delete factories[_key]}}function parse(jsccMapString){return eval(jsccMapString)}}),null);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin"],(function(a,b,c,d,e,f){var g,h={},i=2,j="jsonp",k="iframe";function l(a){delete h[a]}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d._type=b;d._uri=c;d._hasResponse=!1;h[d.getID()]=babelHelpers.assertThisInitialized(d);return d}var d=c.prototype;d.getID=function(){return this._id||(this._id=i++)};d.hasFinished=function(){return!(this.getID()in h)};d.getRequestURI=function(){return new(g||(g=b("URI")))(this._uri).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};d.getTransportFrame=function(){if(this._iframe)return this._iframe;var a="transport_frame_"+this.getID();a=b("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this._iframe=b("DOM").appendContent(document.body,a)[0]};d.send=function(){this._type===j?setTimeout(function(){b("DOM").appendContent(document.body,b("DOM").create("script",{src:this.getRequestURI().toString(),type:"text/javascript"}))}.bind(this),0):(this.getTransportFrame().onload=this._checkForErrors.bind(this),this.getTransportFrame().src=this.getRequestURI().toString()),this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.createContinuationForFileForm_DO_NOT_USE=function(){this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.handleResponse=function(a){var c=this;this._continuation(function(){c.inform("response",a),c.hasFinished()?setTimeout(c._cleanup.bind(c),0):c._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};d.abort=function(){if(this._aborted)return;this._aborted=!0;this._cleanup();l(this.getID());this.inform("abort")};d._checkForErrors=function(){this._hasResponse||this.abort()};d._cleanup=function(){this._iframe&&(b("DOM").remove(this._iframe),this._iframe=null)};c.respond=function(a,b,c){var d=h[a];d&&(d._hasResponse=!0,c||l(a),d._type==k&&(typeof b==="string"?b=JSON.parse(b):b=JSON.parse(JSON.stringify(b))),d.handleResponse(b))};return c}(b("mixin")(b("ArbiterMixin")));a.respond=b("TimeSlice").guard(a.respond,"JSONPTransport.respond",{root:!0});e.exports=a}),null);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("goURI",["URI"],(function(a,b,c,d,e,f){"use strict";var g;a=(g||b("URI")).go;e.exports=a}),null);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","ErrorXFBDebug","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","JSCC","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","evalGlobal","executeAfter","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isEmpty","isFacebookURI","isInternalFBURI","isMessengerDotComURI","isWorkplaceDotComURI","killswitch","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions"],(function $module_AsyncRequest(global,require,requireDynamic,requireLazy,module,exports,errorCode,fbt,invariant){"use strict";var c_ErrorGuard,c_performanceAbsoluteNow,c_URI,c_Env,c_isEmpty,c_PHPQuerySerializer,nineteenSecInMs=19e3,INTERNAL_SERVER_ERROR=500,NO_NETWORK_CONNECTION=1006,NETWORK_ERROR=1004,ABORTED_DUE_TO_PAGE_TRANSITION=1010,WARNING_ERROR_CODES=new Set([INTERNAL_SERVER_ERROR,ABORTED_DUE_TO_PAGE_TRANSITION,NETWORK_ERROR,NO_NETWORK_CONNECTION]);function hasUnloaded(){try{return!window.domready}catch(_unused){return!0}}function supportsProgress(transport){return"onprogress"in transport}function supportsUploadProgress(transport){return"upload"in transport&&"onprogress"in transport.upload}function supportsCrossOrigin(transport){return"withCredentials"in transport}function isNetworkError(transport){return transport.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function validateResponseHandler(handler){var valid=!handler||typeof handler==="function";valid||require("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return valid}var last_id=2,id_threshold=last_id,ignore_id_update=!1;require("Arbiter").subscribe("page_transition",function(_,message){!ignore_id_update?id_threshold=message.id:ignore_id_update=!1});var JSON_HIJACKING_SHIELD="for (;;);",JSON_HIJACKING_SHIELD_LEN=JSON_HIJACKING_SHIELD.length,AsyncRequest=function(){function AsyncRequest(uri){var _this=this,emptyFunction;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(asyncResponse,errorHandler){var error=asyncResponse.getError();_this.clearStatusIndicator();if(!_this._isRelevant()||error===ABORTED_DUE_TO_PAGE_TRANSITION){_this.abort();return}if(_this._isServerDialogErrorCode(error)){var is_confirmation=error==1357008||error==1357007;_this.interceptHandler(asyncResponse);error==1357041?_this._solveQuicksandChallenge(asyncResponse):error==1357007?_this._displayServerDialog(asyncResponse,is_confirmation,!0):_this._displayServerDialog(asyncResponse,is_confirmation)}else if(_this.initialHandler(asyncResponse)!==!1){require("clearTimeout")(_this.timer);try{errorHandler(asyncResponse)}catch(e){_this.finallyHandler(asyncResponse);throw e}_this.finallyHandler(asyncResponse)}};this._onStateChange=function(){var transport=_this.transport;if(!transport)return;try{AsyncRequest._inflightCount--;require("ResourceTimingsStore").measureResponseReceived(require("ResourceTypes").XHR,_this.resourceTimingStoreUID);try{transport.getResponseHeader("X-FB-Debug")&&(_this._xFbServer=transport.getResponseHeader("X-FB-Debug"),require("ErrorXFBDebug").add(_this._xFbServer))}catch(_unused2){}if(transport.status>=200&&transport.status<300)AsyncRequest.lastSuccessTime=Date.now(),_this._handleXHRResponse(transport);else if(require("UserAgent_DEPRECATED").webkit()&&typeof transport.status==="undefined")_this._invokeErrorHandler(1002);else if(require("AsyncRequestConfig").retryOnNetworkError&&isNetworkError(transport)&&_this.remainingRetries>0&&!_this._requestTimeout){_this.remainingRetries--;delete _this.transport;_this.send(!0);return}else _this._invokeErrorHandler();_this.getOption("asynchronous_DEPRECATED")!==!1&&delete _this.transport}catch(exception){if(hasUnloaded())return;delete _this.transport;_this.remainingRetries>0?(_this.remainingRetries--,_this.send(!0)):(_this.getOption("suppressErrorAlerts")||require("FBLogger")("AsyncRequest").catching(exception).mustfix("AsyncRequest exception when attempting to handle a state change"),_this._invokeErrorHandler(1007))}};this.continuation=require("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=emptyFunction=require("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=require("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=emptyFunction;this.finallyHandler=emptyFunction;this.abortHandler=emptyFunction;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=require("ResourceTimingsStore").getUID(require("ResourceTypes").XHR,uri!=null?uri.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,jsonp:!1,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=require("bind")(this,"errorHandler");uri!==void 0&&this.setURI(uri);this.setAllowCrossPageTransition(require("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var _proto=AsyncRequest.prototype;_proto._dispatchResponse=function _dispatchResponse(asyncResponse){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(ABORTED_DUE_TO_PAGE_TRANSITION);return}if(this.initialHandler(asyncResponse)===!1)return;require("clearTimeout")(this.timer);if(asyncResponse.jscc_map){var jsccMap=require("JSCC").parse(asyncResponse.jscc_map);require("JSCC").init(jsccMap)}var suppress_js,handler=this.getHandler();if(handler)try{suppress_js=this._shouldSuppressJS(handler(asyncResponse))}catch(e){asyncResponse.is_last&&this.finallyHandler(asyncResponse);throw e}suppress_js||this._handleJSResponse(asyncResponse);asyncResponse.is_last&&this.finallyHandler(asyncResponse)};_proto._shouldSuppressJS=function _shouldSuppressJS(handler_return_value){return handler_return_value===AsyncRequest.suppressOnloadToken};_proto._handlePreDisplayServerJS=function _handlePreDisplayServerJS(serverJS,preDisplayJSMods){var _displayStarted=!1,preDisplayPromises=[],registerToBlockDisplayUntilDone_DONOTUSE=function registerToBlockDisplayUntilDone_DONOTUSE(){if(_displayStarted){require("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var timeoutId,deferrable=new(require("Deferred"))();preDisplayPromises.push(deferrable.getPromise());return require("TimeSlice").guard(function(){timeoutId&&require("clearTimeout")(timeoutId),deferrable.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:require("TimeSlice").PropagationType.EXECUTION})};serverJS.handle(preDisplayJSMods,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:registerToBlockDisplayUntilDone_DONOTUSE}});_displayStarted=!0;return preDisplayPromises};_proto._hasEvalDomOp=function _hasEvalDomOp(domOps){return domOps&&domOps.length?domOps.some(function(op){return op[0]==="eval"}):!1};_proto._handleJSResponse=function _handleJSResponse(asyncResponse){var relativeTo=this.getRelativeTo(),domOps=asyncResponse.domops,dtsgToken=asyncResponse.dtsgToken,dtsgAsyncGetToken=asyncResponse.dtsgAsyncGetToken,jsMods=asyncResponse.jsmods,serverJS,savedServerJSInstance=asyncResponse.savedServerJSInstance;savedServerJSInstance&&savedServerJSInstance instanceof require("ServerJS")?serverJS=savedServerJSInstance:serverJS=new(require("ServerJS"))();serverJS.setRelativeTo(relativeTo);if(jsMods){var preDisplayJSMods={};preDisplayJSMods.define=jsMods.define;preDisplayJSMods.instances=jsMods.instances;preDisplayJSMods.markup=jsMods.markup;delete jsMods.define;delete jsMods.instances;delete jsMods.markup;this._hasEvalDomOp(domOps)&&(preDisplayJSMods.elements=jsMods.elements,delete jsMods.elements);serverJS.handle(preDisplayJSMods)}dtsgToken&&require("DTSG").setToken(dtsgToken);dtsgAsyncGetToken&&require("DTSG_ASYNC").setToken(dtsgAsyncGetToken);domOps&&(c_ErrorGuard||(c_ErrorGuard=require("ErrorGuard"))).applyWithGuard(function(){return require("AsyncDOM").invoke(domOps,relativeTo)},null,[],{errorType:"warn"});jsMods&&serverJS.handle(jsMods);this._handleJSRegisters(asyncResponse,"onload");this._handleJSRegisters(asyncResponse,"onafterload")};_proto._handleJSRegisters=function _handleJSRegisters(asyncResponse,phase){var registers=asyncResponse[phase];if(registers)for(var ii=0;ii<registers.length;ii++)(c_ErrorGuard||(c_ErrorGuard=require("ErrorGuard"))).applyWithGuard(new Function(registers[ii]),this,[])};_proto.invokeResponseHandler=function invokeResponseHandler(interpreted){if(typeof interpreted.redirect!=="undefined"){require("setTimeout")(function(){this.setURI(interpreted.redirect).send()}.bind(this),0);return}if(interpreted.bootloadOnly!==void 0){var toBootload=typeof interpreted.bootloadOnly==="string"?JSON.parse(interpreted.bootloadOnly):interpreted.bootloadOnly,_loop=function _loop(){if(_isArray){if(_i>=_iterator.length)return"break";_ref=_iterator[_i++]}else{_i=_iterator.next();if(_i.done)return"break";_ref=_i.value}var rsrcs=_ref;require("TimeSlice").guard(function(){require("Bootloader").loadPredictedResourceMap(rsrcs)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(var _iterator=toBootload,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref,_ret=_loop();if(_ret==="break")break}return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===require("emptyFunction")&&this.finallyHandler===require("emptyFunction"))return;var response=interpreted.asyncResponse;if(typeof response!=="undefined"){var _response$hsrp,_response$allResource;if(!this._isRelevant()){this._invokeErrorHandler(ABORTED_DUE_TO_PAGE_TRANSITION);return}response.inlinejs&&require("evalGlobal")(response.inlinejs);response.lid&&(this._responseTime=Date.now(),global.CavalryLogger&&(this.cavalry=global.CavalryLogger.getInstance(response.lid)),this.lid=response.lid);require("HasteResponse").handleSRPayload((_response$hsrp=response.hsrp)!=null?_response$hsrp:{});var dispatch,arbiter_event;if(response.getError()&&!response.getErrorIsWarning()){var handler=this.getErrorHandler().bind(this);dispatch=(c_ErrorGuard||(c_ErrorGuard=require("ErrorGuard"))).guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});dispatch=dispatch.bind(this,response,handler);arbiter_event="error"}else{dispatch=(c_ErrorGuard||(c_ErrorGuard=require("ErrorGuard"))).guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});dispatch=dispatch.bind(this,response);arbiter_event="response";var domOps=response.domops;if(!this._delayPreDisplayJS&&response.jsmods&&response.jsmods.pre_display_requires&&!this._hasEvalDomOp(domOps)&&!require("killswitch")("ASYNC_REQUEST_EARLY_RENDERING_OF_PREDISPLAY_PRIORITY_JS")){var jsMods=response.jsmods,preDisplayJSMods={};preDisplayJSMods.define=jsMods.define;preDisplayJSMods.instances=jsMods.instances;preDisplayJSMods.markup=jsMods.markup;delete jsMods.define;delete jsMods.instances;delete jsMods.markup;preDisplayJSMods.pre_display_requires=jsMods.pre_display_requires;delete jsMods.pre_display_requires;var serverJS=new(require("ServerJS"))();serverJS.setRelativeTo(this.getRelativeTo());response.savedServerJSInstance=serverJS;var preDisplayPromises=this._handlePreDisplayServerJS(serverJS,preDisplayJSMods);if(preDisplayPromises&&preDisplayPromises.length){var realDispatch=dispatch;dispatch=function dispatch(){require("promiseDone")(require("Promise").all(preDisplayPromises).then(realDispatch))}}}}var ts=(c_performanceAbsoluteNow||(c_performanceAbsoluteNow=require("performanceAbsoluteNow")))();dispatch=require("executeAfter")(dispatch,function(){require("Arbiter").inform("AsyncRequest/"+arbiter_event,{request:this,response:response,ts:ts})}.bind(this));this.preBootloadHandler&&this.preBootloadHandler(response);require("Bootloader").loadResources((_response$allResource=response.allResources)!=null?_response$allResource:[],{onAll:require("AsyncRequestConfig").immediateDispatch?dispatch:function(){require("setTimeout")(dispatch,0)}},this.getURI())}else typeof interpreted.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};_proto._invokeErrorHandler=function _invokeErrorHandler(explicitError){var transport=this.transport;if(!transport)return;var error;if(this.responseText==="")error=1002;else if(this._requestAborted)error=1011;else{try{error=explicitError||transport.status||NETWORK_ERROR}catch(_unused3){error=1005}!1===navigator.onLine&&(error=NO_NETWORK_CONNECTION)}var desc,summary,silent=!0;if(error===NO_NETWORK_CONNECTION)summary=fbt._("Kh\u00f4ng c\u00f3 K\u1ebft n\u1ed1i M\u1ea1ng"),desc=fbt._("C\u00f3 v\u1ebb nh\u01b0 tr\u00ecnh duy\u1ec7t c\u1ee7a b\u1ea1n \u0111ang offline. Vui l\u00f2ng ki\u1ec3m tra k\u1ebft n\u1ed1i Internet v\u00e0 th\u1eed l\u1ea1i.");else if(error>=300&&error<=399){summary=fbt._("\u0110\u1ecbnh h\u01b0\u1edbng l\u1ea1i");desc=fbt._("Truy c\u1eadp c\u1ee7a b\u1ea1n v\u00e0o Facebook \u0111\u00e3 b\u1ecb m\u1ed9t b\u00ean th\u1ee9 ba \u0111\u1ecbnh h\u01b0\u1edbng l\u1ea1i ho\u1eb7c ch\u1eb7n t\u1ea1i th\u1eddi \u0111i\u1ec3m n\u00e0y, vui l\u00f2ng li\u00ean h\u1ec7 v\u1edbi Nh\u00e0 cung c\u1ea5p D\u1ecbch v\u1ee5 Internet (ISP) c\u1ee7a b\u1ea1n ho\u1eb7c t\u1ea3i l\u1ea1i.");var location=transport.getResponseHeader("Location");location&&require("goURI")(location,!0);silent=!0}else summary=fbt._("R\u1ea5t ti\u1ebfc"),desc=fbt._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i. Ch\u00fang t\u00f4i \u0111ang kh\u1eafc ph\u1ee5c s\u1edbm nh\u1ea5t c\u00f3 th\u1ec3. B\u1ea1n c\u00f3 th\u1ec3 th\u1eed l\u1ea1i.");var async_response=new(require("AsyncResponse"))(this,transport);Object.assign(async_response,{error:error,errorSummary:summary,errorDescription:desc,silentError:silent});require("setTimeout")(function(){require("Arbiter").inform("AsyncRequest/error",{request:this,response:async_response})}.bind(this),0);if(hasUnloaded()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){require("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),error);return}var error_handler=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||WARNING_ERROR_CODES.has(error))?require("FBLogger")("asyncresponse").addToCategoryKey(String(error)).mustfix("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI()):WARNING_ERROR_CODES.has(error)&&require("FBLogger")("asyncresponse").addToCategoryKey(String(error)).warn("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI());(c_ErrorGuard||(c_ErrorGuard=require("ErrorGuard"))).applyWithGuard(this._dispatchErrorResponse,this,[async_response,error_handler])};_proto._isServerDialogErrorCode=function _isServerDialogErrorCode(error){return error==1357008||error==1357007||error==1357041||error==1442002||error==1357001};_proto._solveQuicksandChallenge=function _solveQuicksandChallenge(async_response){var payload=async_response.getPayload();require("Bootloader").loadModules(["QuickSandSolver"],function(QuickSandSolver){QuickSandSolver.solveAndSendRequestBack(this,payload)}.bind(this),"AsyncRequest")};_proto._displayServerDialog=function _displayServerDialog(async_response,is_confirmation,allow_get){allow_get===void 0&&(allow_get=!1);var payload=async_response.getPayload();if(payload.__dialog!==void 0){this._displayServerLegacyDialog(async_response,is_confirmation);return}var json=payload.__dialogx;new(require("ServerJS"))().handle(json);require("Bootloader").loadModules(["ConfirmationDialog"],function(ConfirmationDialog){ConfirmationDialog.setupConfirmation(async_response,this,allow_get)}.bind(this),"AsyncRequest")};_proto._displayServerLegacyDialog=function _displayServerLegacyDialog(async_response,is_confirmation){var model=async_response.getPayload().__dialog;if(require("gkx")("708253")){var _ref2,_async_response$reque;require("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",async_response.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(_ref2=(_async_response$reque=async_response.request)==null?void 0:_async_response$reque.getURI())!=null?_ref2:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}require("Bootloader").loadModules(["Dialog"],function(Dialog){var dialog=new Dialog(model);is_confirmation&&dialog.setHandler(this._displayConfirmationHandler.bind(this,dialog));dialog.setCancelHandler(function(){var handler=this.getServerDialogCancelHandler();try{handler&&handler(async_response)}catch(e){throw e}finally{this.finallyHandler(async_response)}}.bind(this)).setCausalElement(this.relativeTo).show()}.bind(this),"AsyncRequest")};_proto._displayConfirmationHandler=function _displayConfirmationHandler(dialog){this.data.confirmed=1,Object.assign(this.data,dialog.getFormData()),this.send()};_proto.setJSONPTransport=function setJSONPTransport(transport){transport.subscribe("response",this._handleJSONPResponse.bind(this)),transport.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=transport};_proto._handleJSONPResponse=function _handleJSONPResponse(_,data){var transport=this.transport;if(!transport)return;data.bootloadOnly||(this.is_first=this.is_first===void 0);var interpreted=this._interpretResponse(data);interpreted.asyncResponse&&(interpreted.asyncResponse.is_first=this.is_first,interpreted.asyncResponse.is_last=transport.hasFinished());this.invokeResponseHandler(interpreted);transport.hasFinished()&&delete this.transport};_proto._handleJSONPAbort=function _handleJSONPAbort(){this._invokeErrorHandler(),delete this.transport};_proto._handleXHRResponse=function _handleXHRResponse(transport){var interpreted;if(this.getOption("suppressEvaluation"))interpreted={asyncResponse:new(require("AsyncResponse"))(this,transport)};else try{this._handleFlushedResponse();var text=transport.responseText;text=this._filterOutFlushedText(text);var safe_text=this._unshieldResponseText(text),_response;try{_response=JSON.parse(safe_text)}catch(error){_response=eval("("+safe_text+")"),require("FBLogger")("async_request").catching(error).warn("JSON.parse encountered an exception, fallback to eval. Endpoint: "+new(c_URI||(c_URI=require("URI")))(this.uri).getPath())}interpreted=this._interpretResponse(_response)}catch(error){interpreted=error.message,require("FBLogger")("async_request").catching(error).warn("Failed to handle response")}this.invokeResponseHandler(interpreted)};_proto._handleFlushedResponse=function _handleFlushedResponse(){var flushedResponseHandler=this.flushedResponseHandler,transport=this.transport;if(flushedResponseHandler&&transport){var jsonShieldIndex=transport.responseText.indexOf(JSON_HIJACKING_SHIELD),flushedTextEndIndex=jsonShieldIndex===-1?transport.responseText.length:jsonShieldIndex;flushedResponseHandler(transport.responseText.substring(this.flushedResponseTextParseIndex,flushedTextEndIndex));this.flushedResponseTextParseIndex=flushedTextEndIndex}};_proto._unshieldResponseText=function _unshieldResponseText(text){if(text.length<=JSON_HIJACKING_SHIELD_LEN)throw new Error("Response too short on async");var offset=0;while(text.charAt(offset)==" "||text.charAt(offset)=="\n")offset++;offset&&text.substring(offset,offset+JSON_HIJACKING_SHIELD_LEN)==JSON_HIJACKING_SHIELD;return text.substring(offset+JSON_HIJACKING_SHIELD_LEN)};_proto._filterOutFlushedText=function _filterOutFlushedText(text){if(!this.flushedResponseHandler)return text;var index=text.indexOf(JSON_HIJACKING_SHIELD);return index<0?text:text.substr(index)};_proto._interpretResponse=function _interpretResponse(response){if(response.redirect)return{redirect:response.redirect};if(response.bootloadOnly)return{bootloadOnly:response.bootloadOnly};var isServerDialog=response.error&&this._isServerDialogErrorCode(response.error);this._shouldReplaceTransportMarkers&&response.payload&&!isServerDialog&&require("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},response.payload);var r=new(require("AsyncResponse"))(this);if(response.__ar!=1)require("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),r.payload=response;else{Object.assign(r,response);var transport=this.transport;transport&&transport.getAllResponseHeaders!==void 0&&(r.responseHeaders=transport.getAllResponseHeaders())}return{asyncResponse:r}};_proto._isMultiplexable=function _isMultiplexable(){if(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){require("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses jsonp or iframe transport.");return!1}if(!require("isFacebookURI")(new(c_URI||(c_URI=require("URI")))(this.uri))){require("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){require("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};_proto.handleResponse=function handleResponse(response){var interpreted=this._interpretResponse(response);this.invokeResponseHandler(interpreted)};_proto.setMethod=function setMethod(m){this.method=m.toString().toUpperCase();return this};_proto.getMethod=function getMethod(){return this.method};_proto.setData=function setData(obj){this.data=obj;return this};_proto.setRequestHeader=function setRequestHeader(name,value){this.headers[name]=value;return this};_proto.setRawData=function setRawData(raw_data){this.rawData=raw_data;return this};_proto.getData=function getData(){return this.data};_proto.setContextData=function setContextData(key,value,enabled){enabled=enabled===void 0?!0:enabled;enabled&&(this.context["_log_"+key]=value);return this};_proto._setUserActionID=function _setUserActionID(){this.userActionID=(require("SessionName").getName()||"-")+"/-"};_proto.setURI=function setURI(uri){typeof uri==="string"&&uri.match(/^\/?u_\d+_\d+/)&&require("FBLogger")("asyncrequest").warn("Invalid URI %s",uri);var uri_obj=new(c_URI||(c_URI=require("URI")))(uri);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!require("isFacebookURI")(uri_obj))return this;if(!this._allowCrossOrigin&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!uri_obj.isSameOrigin())return this;this._setUserActionID();if(!uri||uri_obj.isEmpty()){require("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=require("ZeroRewrites").rewriteURI(uri_obj);return this};_proto.getURI=function getURI(){return this.uri.toString()};_proto.delayPreDisplayJS=function delayPreDisplayJS(shouldDelayJS){shouldDelayJS===void 0&&(shouldDelayJS=!0);this._delayPreDisplayJS=shouldDelayJS;return this};_proto.setInitialHandler=function setInitialHandler(fn){this.initialHandler=fn;return this};_proto.setPayloadHandler=function setPayloadHandler(fn){this.setHandler(function(response){fn(response.payload)});return this};_proto.setHandler=function setHandler(fn){validateResponseHandler(fn)&&(this.handler=fn);return this};_proto.setFlushedResponseHandler=function setFlushedResponseHandler(fn){validateResponseHandler(fn)&&(this.flushedResponseHandler=fn);return this};_proto.getHandler=function getHandler(){return this.handler||require("emptyFunction")};_proto.setProgressHandler=function setProgressHandler(fn){validateResponseHandler(fn)&&(this.progressHandler=fn);return this};_proto.setUploadProgressHandler=function setUploadProgressHandler(fn){validateResponseHandler(fn)&&(this.uploadProgressHandler=fn);return this};_proto.setErrorHandler=function setErrorHandler(fn){validateResponseHandler(fn)&&(this.errorHandler=fn);return this};_proto.setTransportErrorHandler=function setTransportErrorHandler(fn){this.transportErrorHandler=fn;return this};_proto.getErrorHandler=function getErrorHandler(){return this.errorHandler||require("emptyFunction")};_proto.getTransportErrorHandler=function getTransportErrorHandler(){return this.transportErrorHandler||require("emptyFunction")};_proto.setTimeoutHandler=function setTimeoutHandler(timeout,fn){validateResponseHandler(fn)&&(this.timeout=timeout,this.timeoutHandler=fn);return this};_proto.resetTimeout=function resetTimeout(timeout){if(!(this.timeoutHandler===null))if(timeout===null)this.timeout=null,require("clearTimeout")(this.timer),this.timer=null;else{var clear_on_quickling_event=!this._allowCrossPageTransition;this.timeout=timeout;require("clearTimeout")(this.timer);clear_on_quickling_event?this.timer=require("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=require("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};_proto._handleTimeout=function _handleTimeout(){var _this2=this;this.continuation.last(function(){_this2._requestTimeout=!0;var func=_this2.timeoutHandler;_this2.abandon();func&&func(_this2);require("setTimeout")(function(){require("Arbiter").inform("AsyncRequest/timeout",{request:this})}.bind(_this2),0)})};_proto.setNewSerial=function setNewSerial(){this.id=++last_id;return this};_proto.setInterceptHandler=function setInterceptHandler(fn){this.interceptHandler=fn;return this};_proto.setFinallyHandler=function setFinallyHandler(fn){this.finallyHandler=fn;return this};_proto.setAbortHandler=function setAbortHandler(fn){this.abortHandler=fn;return this};_proto.getServerDialogCancelHandler=function getServerDialogCancelHandler(){return this.serverDialogCancelHandler};_proto.setServerDialogCancelHandler=function setServerDialogCancelHandler(fn){this.serverDialogCancelHandler=fn;return this};_proto.setPreBootloadHandler=function setPreBootloadHandler(fn){this.preBootloadHandler=fn;return this};_proto.setReadOnly=function setReadOnly(readOnly){typeof readOnly!=="boolean"||(this.readOnly=readOnly);return this};_proto.getReadOnly=function getReadOnly(){return this.readOnly};_proto.setRelativeTo=function setRelativeTo(element){this.relativeTo=element;return this};_proto.getRelativeTo=function getRelativeTo(){return this.relativeTo};_proto.setStatusClass=function setStatusClass(c){this.statusClass=c;return this};_proto.setStatusElement=function setStatusElement(element){this.statusElement=element;return this};_proto.getStatusElement=function getStatusElement(){return require("ge")(this.statusElement)};_proto._isRelevant=function _isRelevant(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>id_threshold};_proto.clearStatusIndicator=function clearStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(require("CSS").removeClass(statusElem,"async_saving"),require("CSS").removeClass(statusElem,this.statusClass))};_proto.addStatusIndicator=function addStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(require("CSS").addClass(statusElem,"async_saving"),require("CSS").addClass(statusElem,this.statusClass))};_proto.specifiesWriteRequiredParams=function specifiesWriteRequiredParams(){return this.writeRequiredParams.every(function(param){this.data[param]=this.data[param]||(c_Env||(c_Env=require("Env")))[param]||(require("ge")(param)||{}).value;return this.data[param]!==void 0?!0:!1},this)};_proto.setOption=function setOption(opt,v){typeof this.option[opt]!=="undefined"&&(this.option[opt]=v);return this};_proto.getOption=function getOption(opt){typeof this.option[opt]==="undefined";return this.option[opt]};_proto.abort=function abort(){var _this3=this;this.continuation.last(function(){var transport=_this3.transport;if(transport){var old_handler=_this3.getTransportErrorHandler();_this3.setOption("suppressErrorAlerts",!0);_this3.setTransportErrorHandler(require("emptyFunction"));_this3._requestAborted=!0;transport.abort();_this3.setTransportErrorHandler(old_handler)}_this3.abortHandler();AsyncMultiplex.unschedule(_this3)})};_proto.abandon=function abandon(){var _this4=this;this.continuation.last(function(){var emptyFunction;require("clearTimeout")(_this4.timer);_this4.setOption("suppressErrorAlerts",!0).setHandler(emptyFunction=require("emptyFunction")).setErrorHandler(emptyFunction).setTransportErrorHandler(emptyFunction).setProgressHandler(emptyFunction).setUploadProgressHandler(emptyFunction);var transport=_this4.transport;transport&&(_this4._requestAborted=!0,supportsProgress(transport)&&delete transport.onprogress,supportsUploadProgress(transport)&&delete transport.upload.onprogress,transport.abort());_this4.abortHandler();AsyncMultiplex.unschedule(_this4)})};_proto.setNectarModuleDataSafe=function setNectarModuleDataSafe(elem){var setNectarModuleData=this.setNectarModuleData;setNectarModuleData&&setNectarModuleData.call(this,elem);return this};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._allowCrossPageTransition=!!allow;this.timer&&this.resetTimeout(this.timeout);return this};_proto.getAllowIrrelevantRequests=function getAllowIrrelevantRequests(){return this._allowIrrelevantRequests};_proto.setAllowIrrelevantRequests=function setAllowIrrelevantRequests(allowIrrelevantRequests){this._allowIrrelevantRequests=allowIrrelevantRequests;return this};_proto.setAllowCrossOrigin=function setAllowCrossOrigin(allow){this._allowCrossOrigin=allow;return this};_proto.setAllowCredentials=function setAllowCredentials(allow){this._allowCredentials=allow;return this};_proto.setIsBackgroundRequest=function setIsBackgroundRequest(isBackgroundRequest){this._isBackgroundRequest=isBackgroundRequest;return this};_proto.setReplaceTransportMarkers=function setReplaceTransportMarkers(value){value===void 0&&(value=!0);this._shouldReplaceTransportMarkers=value;return this};_proto.sendAndReturnAbortHandler=function sendAndReturnAbortHandler(){var _this5=this;this.send();return function(){return _this5.abort()}};_proto.send=function send(isRetry){var _this6=this;isRetry=isRetry||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");this.getOption("jsonp")&&this.method!="GET"&&this.setMethod("GET");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,require("getAsyncParams")(this.method));(c_isEmpty||(c_isEmpty=require("isEmpty")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(c_Env||(c_Env=require("Env"))).force_param&&Object.assign(this.data,(c_Env||(c_Env=require("Env"))).force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){AsyncMultiplex.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});require("Arbiter").inform("AsyncRequest/send",{request:this,ts:(c_performanceAbsoluteNow||(c_performanceAbsoluteNow=require("performanceAbsoluteNow")))()});var uri_str,query;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:require("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(uri_str=this.uri.addQueryData(this.data).toString(),query=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),uri_str=this.uri.toString(),query=(c_PHPQuerySerializer||(c_PHPQuerySerializer=require("PHPQuerySerializer"))).serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var _transport2=new(require("FetchStreamTransport"))(this.uri);this.setJSONPTransport(_transport2);this._markRequestSent();_transport2.send();this.setOption("useIframeTransport",!1);return!0}catch(_unused4){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("jsonp")||this.getOption("useIframeTransport")){requireLazy(["JSONPTransport"],function(JSONPTransport){var transport=new JSONPTransport(this.getOption("jsonp")?"jsonp":"iframe",this.uri);this.setJSONPTransport(transport);this._markRequestSent();transport.send()}.bind(this));return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var transport=require("ZeroRewrites").getTransportBuilderForURI(this.uri)();if(!transport)return!1;this.schedule("AsyncRequest.send");transport.onreadystatechange=function(){var _transport=_this6.transport;_transport&&_transport.readyState>=2&&_transport.readyState<=3&&_this6._handleFlushedResponse();transport.readyState===4&&_this6.continuation.last(_this6._onStateChange)};this.progressHandler&&supportsProgress(transport)&&(transport.onprogress=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this6.continuation(function(){_this6.progressHandler&&_this6.progressHandler.apply(_this6,args)})});this.uploadProgressHandler&&supportsUploadProgress(transport)&&(transport.upload.onprogress=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];_this6.continuation(function(){_this6.uploadProgressHandler&&_this6.uploadProgressHandler.apply(_this6,args)})});isRetry||(this.remainingRetries=this.getOption("retries"));this.transport=transport;try{transport.open(this.method,uri_str,require("gkx")("1857581")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(exception){return!1}if(!this.uri.isSameOrigin()&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!supportsCrossOrigin(transport))return!1;this._canSendCredentials()&&(transport.withCredentials=!0)}this.method=="POST"&&!this.rawData&&transport.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&transport.setRequestHeader("X_FB_BACKGROUND_STATE","1");var asyncHeaders=require("getAsyncHeaders")(this.uri);Object.keys(asyncHeaders).forEach(function(name){transport&&transport.setRequestHeader(name,asyncHeaders[name])});require("Arbiter").inform("AsyncRequest/will_send",{request:this});if(transport)for(var headerName in this.headers)Object.prototype.hasOwnProperty.call(this.headers,headerName)&&transport.setRequestHeader(headerName,this.headers[headerName]);this.addStatusIndicator();this._markRequestSent();transport.send(query);this.timeout!==null&&this.resetTimeout(this.timeout);AsyncRequest._inflightCount++;return!0};_proto.schedule=function schedule(name){this.continuation=require("TimeSlice").getReusableContinuation(name)};_proto._canSendCredentials=function _canSendCredentials(){if(this._allowCredentials===!1)return!1;var uri=new(c_URI||(c_URI=require("URI")))(this.uri);return require("isFacebookURI")(uri)||require("isInternalFBURI")(uri)||require("isMessengerDotComURI")(uri)||require("isWorkplaceDotComURI")(uri)};_proto._markRequestSent=function _markRequestSent(){var fullURI=new(c_URI||(c_URI=require("URI")))(this.getURI()).getQualifiedURI().toString();require("ResourceTimingsStore").updateURI(require("ResourceTypes").XHR,this.resourceTimingStoreUID,fullURI);require("ResourceTimingsStore").annotate(require("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",fullURI);require("ResourceTimingsStore").measureRequestSent(require("ResourceTypes").XHR,this.resourceTimingStoreUID)};_proto.promisePayload=function promisePayload(isRetry){return this.exec().then(function(response){return response.payload},function(response){throw response.toError()})};_proto.exec=function exec(isRetry){var _this7=this;if(this.getHandler()!==require("emptyFunction")||this.getErrorHandler()!==require("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(require("Promise"))(function(resolve,reject){_this7.setHandler(resolve).setErrorHandler(reject).send(isRetry)})};AsyncRequest.bootstrap=function bootstrap(href,elem,is_post){var method="GET",readonly=!0,data={};(is_post||elem&&elem.rel=="async-post")&&(method="POST",readonly=!1,href&&(href=new(c_URI||(c_URI=require("URI")))(href),data=href.getQueryData(),href.setQueryData({})));var status_elem=require("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&require("CSS").hasClass(status_elem,"async_saving"))return!1;var async=new AsyncRequest(href).setReadOnly(readonly).setMethod(method).setData(data).setNectarModuleDataSafe(elem).setRelativeTo(elem);elem&&(async.setHandler(function(response){require("Event").fire(elem,"success",{response:response})}),async.setErrorHandler(function(response){require("Event").fire(elem,"error",{response:response})!==!1&&require("AsyncResponse").defaultErrorHandler(response)}));if(status_elem instanceof HTMLElement){async.setStatusElement(status_elem);var status_class=status_elem.getAttribute("data-status-class");status_class&&async.setStatusClass(status_class)}async.send();return!1};AsyncRequest.post=function post(href,data){new AsyncRequest(href).setReadOnly(!1).setMethod("POST").setData(data).send();return!1};AsyncRequest.postStatic=function postStatic(href,data){AsyncRequest.post(href,data)};AsyncRequest.getLastID=function getLastID(){return last_id};AsyncRequest.ignoreUpdate=function ignoreUpdate(){ignore_id_update=!0};AsyncRequest.getInflightCount=function getInflightCount(){return this._inflightCount};return AsyncRequest}();module.exports=AsyncRequest;AsyncRequest._inflightCount=0;var _asyncMultiplex,_pendingAsyncMultiplexes=[],AsyncMultiplex=function(){function AsyncMultiplex(){this._requests=[]}var _proto2=AsyncMultiplex.prototype;_proto2.add=function add(request){this._requests.push(request)};_proto2.remove=function remove(request){var requests=this._requests,requestsSent=this._requestsSent;for(var ii=0,jj=requests.length;ii<jj;ii++)requests[ii]===request&&(requestsSent?requests[ii]=null:requests.splice(ii,1))};_proto2.send=function send(){this._requestsSent&&invariant(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var requests=this._requests;if(!requests.length)return;var request;if(requests.length===1)request=requests[0];else{var data=requests.filter(Boolean).map(function(request){return[request.uri.getPath(),(c_PHPQuerySerializer||(c_PHPQuerySerializer=require("PHPQuerySerializer"))).serialize(request.data)]});request=this._wrapperRequest=new AsyncRequest("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:data}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}request&&request.setOption("bundle",!1).send()};_proto2._handler=function _handler(response){var _this8=this,responses=response.getPayload().responses;if(responses.length!==this._requests.length)return;var _loop2=function _loop2(ii){var request=_this8._requests[ii];if(!request)return"continue";var request_path=request.uri.getPath();_this8._wrapperRequest&&(request.id=_this8._wrapperRequest.id);if(responses[ii][0]!==request_path){request.continuation.last(function(){request.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+request_path})});return"continue"}request.continuation.last(function(){request.handleResponse(responses[ii][1])})};for(var ii=0;ii<this._requests.length;ii++){var _ret2=_loop2(ii);if(_ret2==="continue")continue}_pendingAsyncMultiplexes.splice(_pendingAsyncMultiplexes.indexOf(this,1))};_proto2._transportErrorHandler=function _transportErrorHandler(response){var interpreted={transportError:response.errorDescription},paths=this._requests.filter(Boolean).map(function(request){this._wrapperRequest&&(request.id=this._wrapperRequest.id);request.invokeResponseHandler(interpreted);return request.uri.getPath()},this)};AsyncMultiplex.schedule=function schedule(request){request.schedule("AsyncMultiplex.schedule");_asyncMultiplex||(_asyncMultiplex=new AsyncMultiplex(),_pendingAsyncMultiplexes.push(_asyncMultiplex),require("TimeSlice").guard(function(){require("setTimeoutAcrossTransitions")(function(){_asyncMultiplex&&(_asyncMultiplex.send(),_asyncMultiplex=null)},0)},"AsyncMultiplex.schedule",{propagationType:require("TimeSlice").PropagationType.ORPHAN})());_asyncMultiplex.add(request);return _asyncMultiplex};AsyncMultiplex.unschedule=function unschedule(request){_pendingAsyncMultiplexes.forEach(function(asyncMultiplex){asyncMultiplex.remove(request)})};return AsyncMultiplex}();AsyncRequest.suppressOnloadToken={};global.AsyncRequest=AsyncRequest}),null);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){e.exports=a;var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function(a,b,c,d,e,f){var g=function(a){b("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};a={isValidElement:function(a){return b("isValidReactElement")(a)},render:function(a,b,c){g(function(d){d.render(a,b,function(){c&&c(this)})})},unmountComponentAtNode:function(a,b){g(function(c){c.unmountComponentAtNode(a),b&&b()})}};e.exports=a}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){f.register=a;f.containsIncludingLayers=c;f.getContext=g;f.parentByClass=d;function a(a,c){a.setAttribute("data-ownerid",b("getOrCreateDOMID")(c))}function c(a,c){c=c;while(c){if(b("containsNode")(a,c))return!0;c=g(c)}return!1}function g(a){a=a;var c;while(a){if(a.getAttribute&&(c=a.getAttribute("data-ownerid")))return b("ge")(c);a=a.parentNode}return null}function d(a,c){a=a;var d;while(a&&!b("CSS").hasClass(a,c))a.getAttribute&&(d=a.getAttribute("data-ownerid"))?a=b("ge")(d):a=a.parentNode;return a}}),null);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";f.getElementDimensions=a;f.getDocumentDimensions=c;f.measureElementBox=d;function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function c(a){a=b("getDocumentScrollElement")(a);var c=a.scrollWidth||0;a=a.scrollHeight||0;return{width:c,height:a}}function d(a,c,d,e,f){var g;switch(c){case"left":case"right":case"top":case"bottom":g=[c];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+c)}c=function(c,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(b("Style").get(a,c+"-"+g[f]+d))||0;return e};return(d?c("padding",""):0)+(e?c("border","-width"):0)+(f?c("margin",""):0)}}),null);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f){e.exports=a;var g=null;function a(a){if(b("isTextNode")(a))return a.data;else if(b("isElementNode")(a)){if(g===null){var c=document.createElement("div");g=c.textContent!=null?"textContent":"innerText"}return a[g]}else return""}}),null);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}}),null);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),h=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var c=b("isContentEditable")(a),d=g.has(a.nodeName);a=a instanceof HTMLInputElement&&h.has(a.type);return(c||d)&&!a}}),null);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f){var g,h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);c=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var c=a.prototype;c.mapKey=function(a){if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};c.onkeyevent=function(a,c){c=b("Event").$E(c);var d=this.handlers[c.keyCode]||this.handlers[c.which];if(d)for(var e=0;e<d.length;e++){var f=d[e].callback,g=d[e].filter;try{if(!g||g(c,a)){g=function(){var d=f(c,a),e=c.which||c.keyCode;b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(c.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",c.isTrusted).log()},"KeyEventController");if(d===!1)return{v:b("Event").kill(c)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};c.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(c,d){c=b("Event").$E(c);return a.filterEventTypes(c,d)&&a.filterEventTargets(c,d)&&a.filterEventModifiers(c,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,c){c=a.getTarget();return!b("isElementInteractive")(c)||a.keyCode in j&&(b("DOMQuery").isNodeOfType(c,["input","textarea"])&&c.value.length===0||b("isContentEditable")(c)&&b("getElementText")(c).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(c,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(c,d,e,f,b("emptyFunction").thatReturnsTrue)};a.registerKey=function(c,d,e,f,h){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);h===void 0&&(h=b("emptyFunction").thatReturnsFalse);var i=a.getInstance(),j=c==null?[]:i.mapKey(c);(g||(g=b("isEmpty")))(i.handlers)&&b("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){c=""+j[l];(!i.handlers[c]||f)&&(i.handlers[c]=[]);var m={callback:d,filter:e,preserve:h};k[c]=m;i.handlers[c].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};return a}();e.exports=c}),null);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f){f.isKeyDown=d;f.getKeyDownCode=e;var g=null,h=null;function i(){h||(h=b("Event").listen(window,"blur",function(){g=null,j()}))}function j(){h&&(h.remove(),h=null)}function a(a){g=b("Event").getKeyCode(a),i()}function c(){g=null,j()}if(b("ExecutionEnvironment").canUseDOM){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",c,!0);else if(d.attachEvent){f=d.attachEvent;f("onkeydown",a);f("onkeyup",c)}}function d(){return!!g}function e(){return g}}),null);
__d("BasicVector",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();e.exports=a}),null);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.add=function(b,d){b instanceof c&&b.getDomain()!=="pure"&&(b=b.convertTo(this.domain));return a.prototype.add.call(this,b,d)};d.convertTo=function(a){if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var b=c.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=b.x,e-=b.y):(d+=b.x,e+=b.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};c.from=function(a,b,d){return new c(a,b,d)};c.getScrollPosition=function(a){a=a||"document";var c=b("getUnboundedScrollPosition")(window);return this.from(c.x,c.y,"document").convertTo(a)};c.getElementPosition=function(a,c){c=c||"document";a=b("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(c)};c.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};c.getViewportDimensions=function(){var a=b("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};c.getLayoutViewportDimensions=function(){var a=b("getViewportDimensions").layout();return this.from(a.width,a.height,"viewport")};c.getViewportWithoutScrollbarDimensions=function(){var a=b("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};c.getDocumentDimensions=function(a){a=b("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return c}(b("BasicVector"));e.exports=a}),null);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};d.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};d.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};d.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};d.scrollElementBy=function(a){if(a==document.body)window.scrollBy(this.x,this.y);else{var c;(c=b("Scroll")).setLeft(a,c.getLeft(a)+this.x);c.setTop(a,c.getTop(a)+this.y)}return this};c.from=function(a,b,d){return new c(a,b,d)};c.getEventPosition=function(a,c){c===void 0&&(c="document");a=b("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(c)};c.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};c.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return c}(b("DOMVector"));e.exports=a}),null);
__d("Rect",["invariant","$","Vector"],(function(a,b,c,d,e,f,g){a=function(){function a(c,d,e,f,h){if(arguments.length===1){if(c instanceof a)return c;if(c instanceof b("Vector"))return new a(c.y,c.x,c.y,c.x,c.domain);typeof c==="string"&&(c=b("$")(c));return a.getElementBounds(c)}typeof c==="number"&&typeof d==="number"&&typeof e==="number"&&typeof f==="number"&&(!h||typeof h==="string")||g(0,1087);Object.assign(this,{t:c,r:d,b:e,l:f,domain:h||"pure"});return this}var c=a.prototype;c.w=function(){return this.r-this.l};c.h=function(){return this.b-this.t};c.getWidth=function(){return this.w()};c.getHeight=function(){return this.h()};c.toString=function(){return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};c.contains=function(b){b=new a(b).convertTo(this.domain);var c=this;return c.l<=b.l&&c.r>=b.r&&c.t<=b.t&&c.b>=b.b};c.intersection=function(b){b=b.convertTo(this.domain);var c=Math.min(this.b,b.getBottom()),d=Math.max(this.l,b.getLeft()),e=Math.min(this.r,b.getRight());b=Math.max(this.t,b.getTop());return c>b&&e>d?new a(b,e,c,d):null};c.isEqualTo=function(a){return this.t===a.t&&this.r===a.r&&this.b===a.b&&this.l===a.l&&this.domain===a.domain};c.add=function(c,d){if(arguments.length==1){c instanceof a&&c.domain!="pure"&&(c=c.convertTo(this.domain));return c instanceof b("Vector")?this.add(c.x,c.y):this}var e=parseFloat(c),f=parseFloat(d);return new a(this.t+f,this.r+e,this.b+f,this.l+e,this.domain)};c.sub=function(a,c){if(arguments.length==1&&a instanceof b("Vector"))return this.add(a.mul(-1));else if(typeof a==="number"&&typeof c==="number")return this.add(-a,-c);return this};c.rotateAroundOrigin=function(b){var c=this.getCenter().rotate(b*Math.PI/2),d=0;b%2?(d=this.h(),b=this.w()):(d=this.w(),b=this.h());var e=c.y-b/2;c=c.x-d/2;b=e+b;d=c+d;return new a(e,d,b,c,this.domain)};c.boundWithin=function(a){var b=0,c=0;this.l<a.l?b=a.l-this.l:this.r>a.r&&(b=a.r-this.r);this.t<a.t?c=a.t-this.t:this.b>a.b&&(c=a.b-this.b);return this.add(b,c)};c.getCenter=function(){return new(b("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};c.getTop=function(){return this.t};c.getRight=function(){return this.r};c.getBottom=function(){return this.b};c.getLeft=function(){return this.l};c.getArea=function(){return(this.b-this.t)*(this.r-this.l)};c.getPositionVector=function(){return new(b("Vector"))(this.l,this.t,this.domain)};c.getDimensionVector=function(){return new(b("Vector"))(this.w(),this.h(),"pure")};c.convertTo=function(c){if(this.domain==c)return this;if(c=="pure")return new a(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new a(0,0,0,0);var d=new(b("Vector"))(this.l,this.t,this.domain).convertTo(c);return new a(d.y,d.x+this.w(),d.y+this.h(),d.x,c)};a.deserialize=function(b){b=b.split(":");return new a(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[0]))};a.newFromVectors=function(b,c){return new a(b.y,b.x+c.x,b.y+c.y,b.x,b.domain)};a.getElementBounds=function(c){return a.newFromVectors(b("Vector").getElementPosition(c),b("Vector").getElementDimensions(c))};a.getViewportBounds=function(){return a.newFromVectors(b("Vector").getScrollPosition(),b("Vector").getViewportDimensions())};a.getViewportWithoutScrollbarsBounds=function(){return a.newFromVectors(b("Vector").getScrollPosition(),b("Vector").getViewportWithoutScrollbarDimensions())};a.minimumBoundingBox=function(b){var c=new a(Infinity,-Infinity,-Infinity,Infinity),d;for(var e=0;e<b.length;e++)d=b[e],c.t=Math.min(c.t,d.t),c.r=Math.max(c.r,d.r),c.b=Math.max(c.b,d.b),c.l=Math.min(c.l,d.l);return c};return a}();e.exports=a}),null);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};b=a;e.exports=b}),null);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","BootloadedReact","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g){b("KeyStatus");var h=[],i=function(c){babelHelpers.inheritsLoose(a,c);function a(a,d){var e;e=c.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else b("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var d=a.prototype;d.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};d._configure=function(a,c){var d=this;if(c){var e=b("isNode")(c),f=typeof c==="string"||b("HTML").isHTML(c);this.containsReactComponent=b("BootloadedReact").isValidElement(c);!e&&!f&&!this.containsReactComponent&&b("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(f)c=b("HTML")(c).getRootNode();else if(this.containsReactComponent){e=document.createElement("div");var g=!0;b("BootloadedReact").render(c,e,function(){d.inform("reactshow"),g||d.updatePosition()});g=!1;c=this._reactContainer=e}}this._root=this._buildWrapper(a,c);a.attributes&&b("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(b("CSS").addClass.bind(null,this._root));b("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=b("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);b("DataStore").set(this._root,"layer",this)};d._getDefaultBehaviors=function(){return[]};d.getCausalElement=function(){return this._causalElement};d.setCausalElement=function(a){this._causalElement=a;return this};d.getInsertParent=function(){return this._insertParent||document.body};d.getRoot=function(){this._root||(this._destroyed?b("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):b("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};d.getContentRoot=function(){return this.getRoot()};d._buildWrapper=function(a,b){return b};d.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(b("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};d.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};d.show=function(){var c=this;if(this._shown)return this;var d=this.getRoot();d!=null||g(0,5142);this.inform("beforeshow");b("Style").set(d,"visibility","hidden");b("Style").set(d,"overflow","hidden");b("CSS").show(d);b("DOM").appendContent(this.getInsertParent(),d);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){c._shown&&h.push(c)},0)):b("CSS").hide(d);b("Style").set(d,"visibility","");b("Style").set(d,"overflow","");b("Style").set(d,"opacity","1");this.inform("aftershow");return this};d.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};d._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};d.conditionShow=function(a){return a?this.show():this._hide()};d.finishHide=function(){if(this._shown){this._permanent||b("removeFromArray")(h,this);this._hiding=!1;this._shown=!1;var c=this.getRoot();c!=null||g(0,5143);b("CSS").hide(c);this.inform("hide");a.inform("hide",this)}};d.isShown=function(){return this._shown};d.updatePosition=function(){return!0};d.destroy=function(){this.containsReactComponent&&b("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var c=this.getRoot();b("DOM").remove(c);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);b("DataStore").remove(c,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return h[h.length-1]};a.informBlur=function(a){j=null;k=null;var c=h.length;if(!c)return;while(c--){var d=h[c],e=d.getContentRoot();e!=null||g(0,5144);if(b("ContextualThing").containsIncludingLayers(e,a))return;if(d.inform("blur",{target:a})===!1||d.isShown())return}};return a}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));e.exports=i;Object.assign(i,b("ArbiterMixin"));Object.assign(i.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});b("Event").listen(document.documentElement,"keydown",function(a){if(b("KeyEventController").filterEventTargets(a,"keydown"))for(var c=h.length-1;c>=0;c--)if(h[c].inform("key",a)===!1)return!1;return!0},b("Event").Priority.URGENT);var j;b("Event").listen(document.documentElement,"mousedown",function(a){j=a.getTarget()});var k;b("Event").listen(document.documentElement,"mouseup",function(a){k=a.getTarget(),b("setImmediate")(function(){j=null,k=null})});b("Event").listen(document.documentElement,"click",function(a){var c=j,d=k;j=null;k=null;var e=h.length;if(!e)return;e=a.getTarget();if(e!==d||e!==c)return;if(!b("DOM").contains(document.documentElement,e))return;if(e.offsetWidth!=null&&!e.offsetWidth)return;if(b("Parent").byClass(e,"generic_dialog"))return;i.informBlur(e)})}),null);
__d("SVGChecker",[],(function(a,b,c,d,e,f){e.exports={isSVG:function(a){return!!a.ownerSVGElement||a.tagName.toLowerCase()==="svg"},isDisplayed:function(a){try{a=a.getBBox();if(a&&(a.height===0||a.width===0))return!1}catch(a){return!1}return!0}}}),null);
__d("getOffsetParent",["Style"],(function(a,b,c,d,e,f){function g(a){a=a.parentNode;if(!a||a===document.documentElement)return document.documentElement;return b("Style").get(a,"position")!=="static"?a:a===document.body?document.documentElement:g(a)}e.exports=g}),null);
__d("getOverlayZIndex",["Style"],(function(a,b,c,d,e,f){e.exports=a;function a(a,c){c=c;a=a;c=c||document.body;var d=[];while(a&&a!==c)d.push(a),a=a.parentNode;if(a!==c)return 0;for(var a=d.length-1;a>=0;a--){c=d[a];if(b("Style").get(c,"position")!="static"){c=parseInt(b("Style").get(c,"z-index"),10);if(!isNaN(c))return c}}return 0}}),null);
__d("ContextualLayer",["invariant","ARIA","Arbiter","Bootloader","CSS","ContextualLayerAlignmentEnum","ContextualLayerPositionEnum","ContextualThing","DOM","DataStore","Event","Layer","Locale","Parent","Rect","SVGChecker","Scroll","Style","Vector","containsNode","cr:971473","emptyFunction","getOffsetParent","getOrCreateDOMID","getOverlayZIndex","getOwnObjectValues","gkx","isElementNode","killswitch","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){function h(a){return a.getPosition()==="left"||a.isVertical()&&a.getAlignment()==="right"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(b,c){b.dialogRole!=="dialog"&&(this._dialogRole=b.dialogRole),b.shouldSetARIAProperties===!1&&(this._shouldSetARIAProperties=b.shouldSetARIAProperties),b.label&&(this._label=b.label),b.labelledBy&&(this._labelledBy=b.labelledBy),a.prototype._configure.call(this,b,c),b.context?this.setContext(b.context):b.contextID?this._setContextID(b.contextID):b.contextSelector&&(this._setContextSelector(b.contextSelector),this._setARIAProperties()),this.setPosition(b.position),this.setAlignment(b.alignment),this.setOffsetX(b.offsetX),this.setOffsetY(b.offsetY),this.setArrowDimensions(b.arrowDimensions),this._content=c};d._getDefaultBehaviors=function(){var d=c.getDefaultBehaviorsAsObject();return a.prototype._getDefaultBehaviors.call(this).concat(b("getOwnObjectValues")(d))};d._buildWrapper=function(a,c){this._contentWrapper=b("DOM").create("div",{className:"uiContextualLayer"},c);this._dialogRole&&this._contentWrapper.setAttribute("role",this._dialogRole);this._labelledBy?this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy):this._label&&this._contentWrapper.setAttribute("aria-label",this._label);this._dialogRole==="alert"&&this._contentWrapper.setAttribute("aria-atomic","true");return b("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":a["data-testid"]},this._contentWrapper)};d.getInsertParent=function(){var c=this._insertParent;if(!c){var d=this.getContext();d&&(c=b("Parent").byClass(d,"uiContextualLayerParent"))}return c||a.prototype.getInsertParent.call(this)};d.setContent=function(a){this._content=a;b("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};d.setContext=function(a){return this.setContextWithBounds(a,null)};d.setContextWithBounds=function(a,c){if(this._contextNode===a&&c&&this._contextBounds&&c.isEqualTo(this._contextBounds))return this;this._contextNode=a;var d=c&&this._contextBounds&&c.t===this._contextBounds.t&&c.r===this._contextBounds.r&&c.b===this._contextBounds.b&&c.l===this._contextBounds.l;if(d)return this;this._contextBounds=c||null;this._contextSelector="#"+b("getOrCreateDOMID")(a);this._contextScrollParent=null;this._shown&&(b("ContextualThing").register(this.getRoot(),this._contextNode),this.updatePosition());this._setParentSubscription();this._setARIAProperties();return this};d.shouldSetARIAProperties=function(a){this._shouldSetARIAProperties=a;return this};d._setARIAProperties=function(){if(!this._shouldSetARIAProperties)return this;this._dialogRole==="dialog"?b("ARIA").setPopup(this.getCausalElement(),this.getRoot()):this._dialogRole==="region"&&b("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(a){this.hasBehavior(a)||this.enableBehavior(a)}.bind(this),"ContextualLayer");return this};d._setContextID=function(a){this._contextSelector="#"+a,this._contextNode=null};d._setContextSelector=function(a){this._contextSelector=a,this._contextNode=null};d.getCausalElement=function(){return a.prototype.getCausalElement.call(this)||this.getContext()};d._setParentSubscription=function(){var a=this.getContext(),c=null;while(a!=null){c=b("DataStore").get(a,"layer");if(c&&typeof c==="object")break;a=a.parentNode}if(c===this._parentLayer)return;this._parentLayer&&this._parentSubscription&&(this._parentLayer.unsubscribe(this._parentSubscription),this._parentSubscription=null);c&&(this._parentSubscription=c.subscribe("hide",this.hide.bind(this)));this._parentLayer=c};d.setPosition=function(a){this.getOrientation().setDefaultPosition(a)&&(this._shown&&this.updatePosition());return this};d.setAlignment=function(a){this.getOrientation().setDefaultAlignment(a)&&(this._shown&&this.updatePosition());return this};d.setOffsetX=function(a){this.getOrientation().setDefaultOffsetX(a)&&(this._shown&&this.updatePosition());return this};d.setArrowDimensions=function(a){a&&this.getOrientation().setArrowOffset(a.offset)&&(this._shown&&this.updatePosition());return this};d.setOffsetY=function(a){this.getOrientation().setDefaultOffsetY(a)&&(this._shown&&this.updatePosition());return this};d.getPosition=function(){return this.getOrientation().getPosition()};d.getOrientation=function(){this._orientation||(this._orientation=new l());return this._orientation};d.getContentRoot=function(){return this._contentWrapper};d.getContent=function(){return this._content};d.getContext=function(){this._contextNode||(this._contextSelector!=null||g(0,11711),this._contextNode=b("DOM").find(document,this._contextSelector));return this._contextNode};d.getContextBounds=function(a){if(this._contextBounds)return this._contextBounds.convertTo(a);var c=this.getContext();return b("Rect").newFromVectors(b("Vector").getElementPosition(c,a),b("Vector").getElementDimensions(c))};d.getContextScrollParent=function(){!this._contextScrollParent?this._contextScrollParent=b("Style").getScrollParent(this.getContext()):b("isElementNode")(this._contextScrollParent)&&!b("containsNode")(document.documentElement,this._contextScrollParent)&&(this._contextScrollParent=b("Style").getScrollParent(this.getContext()));return this._contextScrollParent};d.setInsertParent=function(b){this._insertScrollParent=null;return a.prototype.setInsertParent.call(this,b)};d.getInsertScrollParent=function(){this._insertScrollParent||(this._insertScrollParent=b("Style").getScrollParent(this.getInsertParent()));return this._insertScrollParent};d.show=function(){var c=this;if(this._shown)return this;a.prototype.show.call(this);b("Arbiter").inform("contextualLayer/toggle",{show:!0,contentRoot:this.getRoot()});this._shown&&(b("ContextualThing").register(this.getRoot(),this.getContext()),i.push(this),this._resizeListener=this._resizeListener||b("Event").listen(window,"resize",b("throttle")(function(){c._shown&&c.updatePosition()})));return this};d.finishHide=function(){b("removeFromArray")(i,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;b("Arbiter").inform("contextualLayer/toggle",{show:!1,contentRoot:this.getRoot()});return a.prototype.finishHide.call(this)};d.isFixed=function(){return b("Style").isFixed(this.getContext())&&!b("Style").isFixed(this.getInsertParent())};d.updatePosition=function(){var a=this.getContext();if(!a)return!1;var c=this.isFixed();if(!c&&!(a.offsetParent||b("SVGChecker").isSVG(a)&&b("SVGChecker").isDisplayed(a)))return!1;var d=this.getRoot(),e=!b("killswitch")("CONTEXTUAL_POSITIONING_MOBILE_FIX"),f=e?b("Vector").getLayoutViewportDimensions().x:b("Vector").getViewportDimensions().x;b("Style").set(d,"width",f+"px");var g=this.getOrientation();this.inform("adjust",g.reset());if(!g.isValid())return!1;this._updateWrapperPosition(g);this._updateWrapperClass(g);b("CSS").conditionClass(d,"uiContextualLayerPositionerFixed",c);var i=c?"viewport":"document",j=c?document.documentElement:b("getOffsetParent")(d);if(c&&e)c=new(b("Vector"))(0,0),e=f;else if(j===document.documentElement)c=new(b("Vector"))(0,0),e=document.documentElement.clientWidth;else if(!d.offsetParent)return!1;else c=b("Vector").getElementPosition(j,i),e=j.offsetWidth,j!==document.body&&(c=c.sub(new(b("Vector"))(b("Scroll").getLeft(j),b("Scroll").getTop(j))));f=this.getContextBounds(i);j=f.l-c.x;i=f.t-c.y;c=f.h();f=f.w();var k=b("Locale").isRTL();g.getPosition()==="below"&&(i+=c);(g.getPosition()==="right"||g.isVertical()&&g.getAlignment()==="right")!=k&&(j+=f);c=g.getOffsetX();g.isVertical()&&g.getAlignment()==="center"&&(c+=(f-this.getContentRoot().offsetWidth)/2);k&&(c*=-1);f="left";j=Math.floor(j+c);h(g)!==k&&(f="right",j=e-j);b("Style").set(d,f,j+"px");b("Style").set(d,f==="left"?"right":"left","");c=this.getInsertScrollParent();k=0;c!==window?(e=c.clientWidth,k=b("Vector").getElementPosition(c).x):e=document.documentElement.clientWidth;j=b("Vector").getElementPosition(d).x-k;c=0;if(b("gkx")("1804603")){k=window.devicePixelRatio!==Math.round(window.devicePixelRatio);c=k?1:0;b("gkx")("1908135")&&(c=1)}f==="left"&&e-j>0?b("Style").set(d,"width",e-j-c+"px"):f==="right"&&j+d.offsetWidth>0?b("Style").set(d,"width",j+d.offsetWidth-c+"px"):b("Style").set(d,"width","");b("Style").set(d,"top",i+g.getOffsetY()+"px");k=b("getOverlayZIndex")(a,this.getInsertParent());b("Style").set(d,"z-index",k>200?k:"");this.inform("reposition",g);return!0};d._updateWrapperPosition=function(a){var c=a.getPosition()==="above";b("Style").set(this._contentWrapper,"bottom",c?"0":null);c=b("Locale").isRTL()?"left":"right";a=h(a);b("Style").set(this._contentWrapper,c,a?"0":null)};d._updateWrapperClass=function(a){a=a.getClassName();if(a===this._orientationClass)return;this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=a;b("CSS").addClass(this._contentWrapper,a)};d.simulateOrientation=function(a,c){a=a.getClassName();if(a===this._orientationClass)return c();else{this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);b("CSS").addClass(this._contentWrapper,a);c=c();b("CSS").removeClass(this._contentWrapper,a);this._orientationClass&&b("CSS").addClass(this._contentWrapper,this._orientationClass);return c}};d.destroy=function(){a.prototype.destroy.call(this);this._contentWrapper=null;this._content=null;return this};d.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0}};c.getDefaultBehaviorsAsObject=function(){return b("cr:971473")==null?{}:{LayerHideOnTransition:b("cr:971473")}};return c}(b("Layer"));var i=[];b("Arbiter").subscribe("reflow",function(){i.forEach(function(a){a.updatePosition()===!1&&a.hide()})});Object.assign(a.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:!0});var j=b("emptyFunction").thatReturnsArgument,k=b("emptyFunction").thatReturnsArgument,l=function(){"use strict";function a(){this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:!0,_preferMoreContentShownRect:!1},this.reset()}var b=a.prototype;b.setPosition=function(a){this._position=j(a);return this};b.setAlignment=function(a){this._alignment=k(a);return this};b.getOppositePosition=function(){return a.OPPOSITE[this.getPosition()]};b.invalidate=function(){this._valid=!1;return this};b.getPosition=function(){return this._position||"above"};b.getAlignment=function(){return this._alignment||"left"};b.getOffsetX=function(){var a=this._offsetX||0;!this.isVertical()?this._default._position!==this._position&&(a*=-1):this._default._alignment!==this._alignment&&(a*=-1);return a};b.getOffsetY=function(){var a=this._offsetY||0;this.isVertical()&&this._default._position!==this._position&&(a*=-1);return a};b.getClassName=function(){var a=this.getAlignment(),b=this.getPosition();if(b==="below")if(a==="left")return"uiContextualLayerBelowLeft";else if(a==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(b==="above")if(a==="left")return"uiContextualLayerAboveLeft";else if(a==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(b==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};b.isValid=function(){return this._valid};b.isVertical=function(){return this.getPosition()==="above"||this.getPosition()==="below"};b.reset=function(){Object.assign(this,this._default);return this};b.setDefaultPosition=function(a){var b=this._default._position;this._default._position=j(a);return b!==a};b.setDefaultAlignment=function(a){var b=this._default._alignment;this._default._alignment=k(a);return b!==a};b.setDefaultOffsetX=function(a){var b=this._default._offsetX;this._default._offsetX=a;return b!==a};b.setArrowOffset=function(a){var b=this._default._arrowOffset;this._default._arrowOffset=a;return b!==a};b.getArrowOffset=function(){return this._default._arrowOffset||0};b.setDefaultOffsetY=function(a){var b=this._default._offsetY;this._default._offsetY=a;return b!==a};b.setPreferMoreContentShownRect=function(a){var b=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=a;return b!==a};b.getPreferMoreContentShownRect=function(){return this._default._preferMoreContentShownRect};return a}();l.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};e.exports=a}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","ExecutionEnvironment","PageEvents","Vector","emptyFunction","removeFromArray"],(function(a,b,c,d,e,f){var g={top:[],right:[],bottom:[],left:[]};function a(a){return function(){return g[a].reduce(function(a,b){return Math.max(a,b.getSize())},0)}}function c(a,b){return function(c){return new h(a,c,b)}}var h=function(){"use strict";function a(a,c,d){d===void 0&&(d=!1),this.getSide=b("emptyFunction").thatReturns(a),this.getSize=function(){return typeof c==="function"?c():c},this.isPersistent=b("emptyFunction").thatReturns(d),g[a].push(this),i.inform("change")}var c=a.prototype;c.remove=function(){b("removeFromArray")(g[this.getSide()],this),i.inform("change")};return a}();b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(a){a=g[a];for(var b=a.length-1;b>=0;b--){var c=a[b];c.isPersistent()||c.remove()}})});var i=babelHelpers["extends"]({},b("ArbiterMixin"),{getTop:a("top"),getRight:a("right"),getBottom:a("bottom"),getLeft:a("left"),getElementPosition:function(a){a=b("Vector").getElementPosition(a);a.y-=i.getTop();return a},addTop:c("top"),addRight:c("right"),addBottom:c("bottom"),addLeft:c("left"),addPersistentTop:c("top",!0),addPersistentRight:c("right",!0),addPersistentBottom:c("bottom",!0),addPersistentLeft:c("left",!0)});i.addPersistentTop(function(){if(b("ExecutionEnvironment").canUseDOM&&b("BlueBar").hasFixedBlueBar()){var a=b("BlueBar").getMaybeFixedRoot();return a?a.offsetHeight:0}return 0});e.exports=i}),null);
__d("LayerBounds",["Locale","Rect","ViewportBounds","containsNode","ge","getOverlayZIndex"],(function(a,b,c,d,e,f){a={getViewportRectForContext:function(a){var c=b("ge")("globalContainer");c=c&&b("containsNode")(c,a)||b("getOverlayZIndex")(a)<300;a=b("Rect").getViewportWithoutScrollbarsBounds();c&&(a.t+=b("ViewportBounds").getTop(),b("Locale").isRTL()?(a.r-=b("ViewportBounds").getLeft(),a.l+=b("ViewportBounds").getRight()):(a.r-=b("ViewportBounds").getRight(),a.l+=b("ViewportBounds").getLeft()));return a}};e.exports=a}),null);
__d("ContextualLayerDimensions",["LayerBounds","Locale","Rect","Vector"],(function(a,b,c,d,e,f){a={getViewportRect:function(a){return b("LayerBounds").getViewportRectForContext(a.getContext())},getLayerRect:function(a,c){var d=a.getContextBounds("viewport"),e=a.simulateOrientation(c,function(){return b("Vector").getElementDimensions(a.getContentRoot())}),f=d.t+c.getOffsetY();c.getPosition()==="above"?f-=e.y:c.getPosition()==="below"&&(f+=d.b-d.t);var g=d.l+c.getOffsetX();d=d.r-d.l;if(c.isVertical()){var h=c.getAlignment();h==="center"?g+=(d-e.x)/2:h==="right"!==b("Locale").isRTL()?g+=d-e.x+c.getArrowOffset():g-=c.getArrowOffset()}else c.getPosition()==="right"!==b("Locale").isRTL()?g+=d:g-=e.x;return new(b("Rect"))(f,g+e.x,f+e.y,g,"viewport")}};e.exports=a}),null);
__d("ContextualLayerAutoFlip",["ContextualLayerAlignmentEnum","ContextualLayerDimensions","DOMDimensions","Rect","Vector","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";function g(a,c){c=new(b("Rect"))(c).convertTo(a.domain);var d=Math.max(a.l,c.l);a=Math.min(a.r,c.r);return Math.max(a-d,0)}a=function(){function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("adjust",this._adjustOrientation.bind(this)),this._layer.isShown()&&this._layer.updatePosition()};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._layer.isShown()&&this._layer.updatePosition()};c._adjustOrientation=function(a,c){a=this.getValidPositions(c);if(!a.length){c.invalidate();return}var d=b("ContextualLayerDimensions").getViewportRect(this._layer),e=this._getValidAlignments(c),f,h,i;for(f=0;f<e.length;f++){c.setAlignment(e[f]);for(h=0;h<a.length;h++){c.setPosition(a[h]);i=b("ContextualLayerDimensions").getLayerRect(this._layer,c);if(d.contains(i))return}}var j=-1;if(c.getPreferMoreContentShownRect()){var k=b("DOMDimensions").getDocumentDimensions(),l=new(b("Rect"))(d).convertTo("document"),m=99999;for(h=0;h<a.length;h++){c.setPosition(a[h]);i=b("ContextualLayerDimensions").getLayerRect(this._layer,c);var n=new(b("Rect"))(i).convertTo("document");if(n.l>=0&&n.r<=k.width&&n.t>=43&&n.b<=k.height){var o=l.l-n.l,p=n.r-l.r,q=l.t-n.t;n=n.b-l.b;o=(o>0?o:0)+(p>0?p:0)+(q>0?q:0)+(n>0?n:0);o<m&&(j=h,m=o)}}}this.__setBestPosition(j,c,a);p=0;q=0;for(f=0;f<e.length;f++)c.setAlignment(e[f]),i=b("ContextualLayerDimensions").getLayerRect(this._layer,c),n=g(d,i),n>q&&(q=n,p=f);c.setAlignment(e[p])};c.__setBestPosition=function(a,b,c){a>=0?b.setPosition(c[a]):b.setPosition(c.includes("below")?"below":c[0])};c.getValidPositions=function(a){var c=[a.getPosition(),a.getOppositePosition()],d=this._layer.getContextScrollParent();if(d===window||d===b("getDocumentScrollElement")())return c;var e=this._layer.getContext(),f=b("Vector").getElementPosition(d,"viewport").y,g=b("Vector").getElementPosition(e,"viewport").y;if(a.isVertical())return c.filter(function(a){if(a==="above")return g>=f;else{a=f+d.offsetHeight;var b=g+e.offsetHeight;return b<=a}});else{a=f+d.offsetHeight;if(g>=f&&g+e.offsetHeight<=a)return c;else return[]}};c._getValidAlignments=function(a){var c=Array.from(b("ContextualLayerAlignmentEnum").values);a=a.getAlignment();var d=c.indexOf(a);d>0&&(c.splice(d,1),c.unshift(a));return c};return a}();e.exports=a;Object.assign(a.prototype,{_subscription:null})}),null);
__d("tooltipPropsFor",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c){if(!a)return{};a={"data-tooltip-content":a,"data-hover":"tooltip"};b&&(a["data-tooltip-position"]=b);c&&(a["data-tooltip-alignh"]=c);return a}}),null);
__d("TooltipData",["DOM","DataStore","FBLogger","URI","getElementText","ifRequired","isStringNullOrEmpty","isTextNode","killswitch","tooltipPropsFor"],(function(a,b,c,d,e,f){var g;function h(a){var c=a.getAttribute("data-tooltip-delay");c=c?parseInt(c,10)||1e3:0;if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),content:a.getAttribute("data-tooltip-content"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction")},b("DataStore").get(a,"tooltip"));else{var d;d=(d=b("DataStore").get(a,"tooltip"))!=null?d:{};var e=d.content;d=babelHelpers.objectWithoutPropertiesLoose(d,["content"]);var f=a.getAttribute("data-tooltip-content");!b("isStringNullOrEmpty")(e)&&!b("isStringNullOrEmpty")(f)&&b("FBLogger")("tooltip").warn('Getting DataStore tooltip content on an element that has both a "data-tooltip-content" attribute value (set to %s) and a value coming from the DataStore',a.getAttribute("data-tooltip-content"));return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction"),content:(a=(c=f)!=null?c:e)!=null?a:null},d)}}function i(a,c){var d=h(a);if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))b("DataStore").set(a,"tooltip",{content:c.content||d.content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick});else{!b("isStringNullOrEmpty")(c.content)&&!b("isStringNullOrEmpty")(a.getAttribute("data-tooltip-content"))&&b("FBLogger")("tooltip").warn('Setting DataStore tooltip content on an element that already has the "data-tooltip-content" attribute (set to %s) is invalid',a.getAttribute("data-tooltip-content"));b("DataStore").set(a,"tooltip",{content:c.content||((a=b("DataStore").get(a,"tooltip"))!=null?a:{}).content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick})}}function j(a,b){i(a,b),a.setAttribute("data-hover","tooltip")}function k(a,b){}var l={remove:function(a,c){c=c===void 0?{}:c;c=c.onlyCleanupDataStore;c=c===void 0?!1:c;b("DataStore").remove(a,"tooltip");c||(a.removeAttribute("data-hover"),a.removeAttribute("data-tooltip-position"),a.removeAttribute("data-tooltip-alignh"),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.hide()}))},set:function(a,c,d,e){k(a,c);if(c instanceof(g||(g=b("URI"))))a.setAttribute("data-tooltip-uri",c),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.fetchIfNecessary(a)});else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")){var f=l._store({context:a,content:c,position:d,alignH:e});typeof f.content!=="string"?a.setAttribute("data-tooltip-content",b("getElementText")(f.content)):a.setAttribute("data-tooltip-content",f.content);l.refreshIfActive(a)}else a.removeAttribute("data-tooltip-content"),l._store({context:a,content:c,position:d,alignH:e}),l.refreshIfActive(a)},refreshIfActive:function(a){b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.show(a)})},_store:function(a){var c=a.context,d=a.content,e=a.position;a=a.alignH;k(c,d);b("isTextNode")(d)&&(d=b("getElementText")(d));var f=!1;typeof d!=="string"?d=b("DOM").create("div",{},d):f=d==="";a={alignH:a,content:d,position:e,suppress:f};j(c,a);return a},propsFor:b("tooltipPropsFor"),enableDisplayOnOverflow:function(a){a.removeAttribute("data-tooltip-display"),j(a,{overflowDisplay:!0})},enablePersistOnClick:function(a){a.removeAttribute("data-pitloot-persistOnClick"),j(a,{persistOnClick:!0})},suppress:function(a,b){i(a,{suppress:b})},_get:h};e.exports=l}),null);
__d("getInlineBoundingRect",["Rect"],(function(a,b,c,d,e,f){function a(a,c){var d=a.getClientRects();if(!c||d.length===0)return b("Rect").getElementBounds(a);var e,f=!1;for(var g=0;g<d.length;g++){var h=new(b("Rect"))(Math.round(d[g].top),Math.round(d[g].right),Math.round(d[g].bottom),Math.round(d[g].left),"viewport").convertTo("document"),i=h.getPositionVector(),j=i.add(h.getDimensionVector());if(!e||i.x<=e.l&&i.y>e.t){if(f)break;e=new(b("Rect"))(i.y,j.x,j.y,i.x,"document")}else e.t=Math.min(e.t,i.y),e.b=Math.max(e.b,j.y),e.r=j.x;h.contains(c)&&(f=!0)}e||(e=b("Rect").getElementBounds(a));return e}e.exports=a}),null);
__d("nl2br",["DOM"],(function(a,b,c,d,e,f){e.exports=a;var g=/(\r\n|[\r\n])/;function a(a){return a.split(g).map(function(a){return g.test(a)?b("DOM").create("br"):a})}}),null);
__d("Tooltip",["fbt","invariant","Arbiter","AsyncRequest","CSS","ContextualLayer","ContextualLayerAutoFlip","DOM","Event","Style","TooltipData","Vector","emptyFunction","getElementText","getInlineBoundingRect","getOrCreateDOMID","gkx","killswitch","nl2br","setImmediate"],(function(a,b,c,d,e,f,g,h){var i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=!1,q=[],r=[];function s(){if(!m){n=b("DOM").create("div",{className:"tooltipContent","data-testid":"tooltip_testid"});o=b("getOrCreateDOMID")(n);var a=b("DOM").create("i",{className:"arrow"});a=b("DOM").create("div",{className:"uiTooltipX"},[n,a]);m=new(b("ContextualLayer"))({},a);m.shouldSetARIAProperties(!1);m.enableBehavior(b("ContextualLayerAutoFlip"));b("gkx")("764802")&&(m.getRoot().style.pointerEvents="none")}}function t(a,c){v._show(a,g._("\u0110ang t\u1ea3i...")),new(b("AsyncRequest"))(c).setHandler(function(b){v._show(a,b.getPayload()),m&&m.updatePosition()}).setErrorHandler(b("emptyFunction")).send()}var u;b("Event").listen(document.documentElement,"mouseover",function(a){u=a,b("setImmediate")(function(){u=null})});var v=babelHelpers["extends"]({},b("TooltipData"),{isActive:function(a){return a===i},process:function(a,c){if(!b("DOM").contains(a,c))return;if(a!==i){v.fetchIfNecessary(a);c=v._get(a);if(c.suppress)return;c.delay?v._showWithDelay(a,c.delay):v.show(a)}},fetchIfNecessary:function(a){var b=a.getAttribute("data-tooltip-uri");b&&(a.removeAttribute("data-tooltip-uri"),t(a,b))},suspend:function(){p=!0},hide:function(){var a=i,c,d=p;p=!1;try{b("Arbiter").inform("tooltip/requesthide",{context:a}),c=p}finally{p=d}c||v.commitHide(a)},commitHide:function(a){if(!j||a!==j){if(a&&m){m.hide();i=null;while(q.length)q.pop().remove()}b("Arbiter").inform("tooltip/hide",{context:a})}},_show:function(a,b){v._store({context:a,content:b}),v.isActive(a)&&v.show(a)},show:function(a){var c,d=p;p=!1;try{b("Arbiter").inform("tooltip/requestshow",{context:a}),c=p}finally{p=d}c||v.commitShow(a)},commitShow:function(a){var c=function(){a.removeAttribute("aria-describedby");var c=v._get(a);c.className&&m&&b("CSS").removeClass(m.getRoot(),c.className);v.hide()},d=function(a){b("DOM").contains(i,a.getTarget())||c()};j=a;s();a!==i&&(b("killswitch")("TOOLTIP_FIX_HIDE_ACTIVE_TOOLTIP_BEFORE_NEW_ONE")?v.commitHide(a):v.commitHide(i));j=null;a!==i&&b("Arbiter").inform("tooltip/beforeshow",{context:a});var e=v._get(a);if(e.suppress||v.allSuppressed)return;var f=e.content;if(e.overflowDisplay){if(a.offsetWidth>=a.scrollWidth)return;f||(f=b("getElementText")(a))}var g=f?function(){a.setAttribute("aria-describedby",o),m&&m.show()}:function(){},k=0,l=e.offsetY?parseInt(e.offsetY,10):0;if(e.position==="left"||e.position==="right")l=(a.offsetHeight-28)/2;else if(e.alignH!=="center"){var p=a.offsetWidth;p<32&&(k=(p-32)/2*(e.alignH==="right"?-1:1))}p=u?b("Vector").getEventPosition(u):b("Vector").getElementPosition(a);m||h(0,4328);m.setContextWithBounds(a,b("getInlineBoundingRect")(a,p)).setOffsetX(k).setOffsetY(l).setPosition(e.position).setAlignment(e.alignH);if(typeof f==="string"){b("CSS").addClass(m.getRoot(),"invisible_elem");p=b("DOM").create("span",{},b("nl2br")(f));k=b("DOM").create("div",{className:"tooltipText"},p);b("DOM").setContent(n,k);g();b("CSS").removeClass(m.getRoot(),"invisible_elem")}else b("DOM").setContent(n,f),g();q.push(b("Event").listen(document.documentElement,"mouseover",d),b("Event").listen(document.documentElement,"focusin",d));l=b("Style").getScrollParent(a);l!==window&&q.push(b("Event").listen(l,"scroll",c));e.persistOnClick||q.push(b("Event").listen(a,"click",c));e.className&&b("CSS").addClass(m.getRoot(),e.className);i=a},_showWithDelay:function(a,c){a!==k&&v._clearDelay();if(!l){var d=function(a){b("DOM").contains(k,a.getTarget())||v._clearDelay()};r.push(b("Event").listen(document.documentElement,"mouseover",d),b("Event").listen(document.documentElement,"focusin",d));k=a;l=setTimeout(function(){v._clearDelay(),v.show(a)},c)}},_clearDelay:function(){clearTimeout(l);k=null;l=null;while(r.length)r.pop().remove()}});b("Event").listen(window,"scroll",v.hide);e.exports=v}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("ReactDOM",["cr:1108857","cr:1294246"],(function(a,b,c,d,e,f){e.exports=b("cr:1294246")}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}}),null);